(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const i of o)if(i.type==="childList")for(const s of i.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(o){const i={};return o.integrity&&(i.integrity=o.integrity),o.referrerPolicy&&(i.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?i.credentials="include":o.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(o){if(o.ep)return;o.ep=!0;const i=n(o);fetch(o.href,i)}})();function Nd(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Td={exports:{}},Ls={},Id={exports:{}},ee={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var si=Symbol.for("react.element"),Zm=Symbol.for("react.portal"),qm=Symbol.for("react.fragment"),Jm=Symbol.for("react.strict_mode"),e0=Symbol.for("react.profiler"),t0=Symbol.for("react.provider"),n0=Symbol.for("react.context"),r0=Symbol.for("react.forward_ref"),o0=Symbol.for("react.suspense"),i0=Symbol.for("react.memo"),s0=Symbol.for("react.lazy"),Sc=Symbol.iterator;function l0(e){return e===null||typeof e!="object"?null:(e=Sc&&e[Sc]||e["@@iterator"],typeof e=="function"?e:null)}var Pd={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Rd=Object.assign,$d={};function Gr(e,t,n){this.props=e,this.context=t,this.refs=$d,this.updater=n||Pd}Gr.prototype.isReactComponent={};Gr.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Gr.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Md(){}Md.prototype=Gr.prototype;function ou(e,t,n){this.props=e,this.context=t,this.refs=$d,this.updater=n||Pd}var iu=ou.prototype=new Md;iu.constructor=ou;Rd(iu,Gr.prototype);iu.isPureReactComponent=!0;var Ec=Array.isArray,bd=Object.prototype.hasOwnProperty,su={current:null},zd={key:!0,ref:!0,__self:!0,__source:!0};function Ad(e,t,n){var r,o={},i=null,s=null;if(t!=null)for(r in t.ref!==void 0&&(s=t.ref),t.key!==void 0&&(i=""+t.key),t)bd.call(t,r)&&!zd.hasOwnProperty(r)&&(o[r]=t[r]);var l=arguments.length-2;if(l===1)o.children=n;else if(1<l){for(var a=Array(l),u=0;u<l;u++)a[u]=arguments[u+2];o.children=a}if(e&&e.defaultProps)for(r in l=e.defaultProps,l)o[r]===void 0&&(o[r]=l[r]);return{$$typeof:si,type:e,key:i,ref:s,props:o,_owner:su.current}}function a0(e,t){return{$$typeof:si,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function lu(e){return typeof e=="object"&&e!==null&&e.$$typeof===si}function u0(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var kc=/\/+/g;function fl(e,t){return typeof e=="object"&&e!==null&&e.key!=null?u0(""+e.key):t.toString(36)}function Bi(e,t,n,r,o){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var s=!1;if(e===null)s=!0;else switch(i){case"string":case"number":s=!0;break;case"object":switch(e.$$typeof){case si:case Zm:s=!0}}if(s)return s=e,o=o(s),e=r===""?"."+fl(s,0):r,Ec(o)?(n="",e!=null&&(n=e.replace(kc,"$&/")+"/"),Bi(o,t,n,"",function(u){return u})):o!=null&&(lu(o)&&(o=a0(o,n+(!o.key||s&&s.key===o.key?"":(""+o.key).replace(kc,"$&/")+"/")+e)),t.push(o)),1;if(s=0,r=r===""?".":r+":",Ec(e))for(var l=0;l<e.length;l++){i=e[l];var a=r+fl(i,l);s+=Bi(i,t,n,a,o)}else if(a=l0(e),typeof a=="function")for(e=a.call(e),l=0;!(i=e.next()).done;)i=i.value,a=r+fl(i,l++),s+=Bi(i,t,n,a,o);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return s}function pi(e,t,n){if(e==null)return e;var r=[],o=0;return Bi(e,r,"","",function(i){return t.call(n,i,o++)}),r}function c0(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Ye={current:null},ji={transition:null},f0={ReactCurrentDispatcher:Ye,ReactCurrentBatchConfig:ji,ReactCurrentOwner:su};function Dd(){throw Error("act(...) is not supported in production builds of React.")}ee.Children={map:pi,forEach:function(e,t,n){pi(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return pi(e,function(){t++}),t},toArray:function(e){return pi(e,function(t){return t})||[]},only:function(e){if(!lu(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};ee.Component=Gr;ee.Fragment=qm;ee.Profiler=e0;ee.PureComponent=ou;ee.StrictMode=Jm;ee.Suspense=o0;ee.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=f0;ee.act=Dd;ee.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=Rd({},e.props),o=e.key,i=e.ref,s=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,s=su.current),t.key!==void 0&&(o=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(a in t)bd.call(t,a)&&!zd.hasOwnProperty(a)&&(r[a]=t[a]===void 0&&l!==void 0?l[a]:t[a])}var a=arguments.length-2;if(a===1)r.children=n;else if(1<a){l=Array(a);for(var u=0;u<a;u++)l[u]=arguments[u+2];r.children=l}return{$$typeof:si,type:e.type,key:o,ref:i,props:r,_owner:s}};ee.createContext=function(e){return e={$$typeof:n0,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:t0,_context:e},e.Consumer=e};ee.createElement=Ad;ee.createFactory=function(e){var t=Ad.bind(null,e);return t.type=e,t};ee.createRef=function(){return{current:null}};ee.forwardRef=function(e){return{$$typeof:r0,render:e}};ee.isValidElement=lu;ee.lazy=function(e){return{$$typeof:s0,_payload:{_status:-1,_result:e},_init:c0}};ee.memo=function(e,t){return{$$typeof:i0,type:e,compare:t===void 0?null:t}};ee.startTransition=function(e){var t=ji.transition;ji.transition={};try{e()}finally{ji.transition=t}};ee.unstable_act=Dd;ee.useCallback=function(e,t){return Ye.current.useCallback(e,t)};ee.useContext=function(e){return Ye.current.useContext(e)};ee.useDebugValue=function(){};ee.useDeferredValue=function(e){return Ye.current.useDeferredValue(e)};ee.useEffect=function(e,t){return Ye.current.useEffect(e,t)};ee.useId=function(){return Ye.current.useId()};ee.useImperativeHandle=function(e,t,n){return Ye.current.useImperativeHandle(e,t,n)};ee.useInsertionEffect=function(e,t){return Ye.current.useInsertionEffect(e,t)};ee.useLayoutEffect=function(e,t){return Ye.current.useLayoutEffect(e,t)};ee.useMemo=function(e,t){return Ye.current.useMemo(e,t)};ee.useReducer=function(e,t,n){return Ye.current.useReducer(e,t,n)};ee.useRef=function(e){return Ye.current.useRef(e)};ee.useState=function(e){return Ye.current.useState(e)};ee.useSyncExternalStore=function(e,t,n){return Ye.current.useSyncExternalStore(e,t,n)};ee.useTransition=function(){return Ye.current.useTransition()};ee.version="18.3.1";Id.exports=ee;var I=Id.exports;const M=Nd(I);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var d0=I,h0=Symbol.for("react.element"),p0=Symbol.for("react.fragment"),g0=Object.prototype.hasOwnProperty,m0=d0.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,y0={key:!0,ref:!0,__self:!0,__source:!0};function Ld(e,t,n){var r,o={},i=null,s=null;n!==void 0&&(i=""+n),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(s=t.ref);for(r in t)g0.call(t,r)&&!y0.hasOwnProperty(r)&&(o[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)o[r]===void 0&&(o[r]=t[r]);return{$$typeof:h0,type:e,key:i,ref:s,props:o,_owner:m0.current}}Ls.Fragment=p0;Ls.jsx=Ld;Ls.jsxs=Ld;Td.exports=Ls;var X=Td.exports,Ql={},Od={exports:{}},at={},Hd={exports:{}},Fd={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(N,x){var P=N.length;N.push(x);e:for(;0<P;){var D=P-1>>>1,O=N[D];if(0<o(O,x))N[D]=x,N[P]=O,P=D;else break e}}function n(N){return N.length===0?null:N[0]}function r(N){if(N.length===0)return null;var x=N[0],P=N.pop();if(P!==x){N[0]=P;e:for(var D=0,O=N.length,W=O>>>1;D<W;){var U=2*(D+1)-1,Y=N[U],G=U+1,q=N[G];if(0>o(Y,P))G<O&&0>o(q,Y)?(N[D]=q,N[G]=P,D=G):(N[D]=Y,N[U]=P,D=U);else if(G<O&&0>o(q,P))N[D]=q,N[G]=P,D=G;else break e}}return x}function o(N,x){var P=N.sortIndex-x.sortIndex;return P!==0?P:N.id-x.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var s=Date,l=s.now();e.unstable_now=function(){return s.now()-l}}var a=[],u=[],c=1,f=null,d=3,g=!1,v=!1,y=!1,S=typeof setTimeout=="function"?setTimeout:null,h=typeof clearTimeout=="function"?clearTimeout:null,p=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function m(N){for(var x=n(u);x!==null;){if(x.callback===null)r(u);else if(x.startTime<=N)r(u),x.sortIndex=x.expirationTime,t(a,x);else break;x=n(u)}}function w(N){if(y=!1,m(N),!v)if(n(a)!==null)v=!0,C(E);else{var x=n(u);x!==null&&L(w,x.startTime-N)}}function E(N,x){v=!1,y&&(y=!1,h(R),R=-1),g=!0;var P=d;try{for(m(x),f=n(a);f!==null&&(!(f.expirationTime>x)||N&&!H());){var D=f.callback;if(typeof D=="function"){f.callback=null,d=f.priorityLevel;var O=D(f.expirationTime<=x);x=e.unstable_now(),typeof O=="function"?f.callback=O:f===n(a)&&r(a),m(x)}else r(a);f=n(a)}if(f!==null)var W=!0;else{var U=n(u);U!==null&&L(w,U.startTime-x),W=!1}return W}finally{f=null,d=P,g=!1}}var k=!1,T=null,R=-1,b=5,z=-1;function H(){return!(e.unstable_now()-z<b)}function j(){if(T!==null){var N=e.unstable_now();z=N;var x=!0;try{x=T(!0,N)}finally{x?B():(k=!1,T=null)}}else k=!1}var B;if(typeof p=="function")B=function(){p(j)};else if(typeof MessageChannel<"u"){var _=new MessageChannel,$=_.port2;_.port1.onmessage=j,B=function(){$.postMessage(null)}}else B=function(){S(j,0)};function C(N){T=N,k||(k=!0,B())}function L(N,x){R=S(function(){N(e.unstable_now())},x)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(N){N.callback=null},e.unstable_continueExecution=function(){v||g||(v=!0,C(E))},e.unstable_forceFrameRate=function(N){0>N||125<N?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):b=0<N?Math.floor(1e3/N):5},e.unstable_getCurrentPriorityLevel=function(){return d},e.unstable_getFirstCallbackNode=function(){return n(a)},e.unstable_next=function(N){switch(d){case 1:case 2:case 3:var x=3;break;default:x=d}var P=d;d=x;try{return N()}finally{d=P}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(N,x){switch(N){case 1:case 2:case 3:case 4:case 5:break;default:N=3}var P=d;d=N;try{return x()}finally{d=P}},e.unstable_scheduleCallback=function(N,x,P){var D=e.unstable_now();switch(typeof P=="object"&&P!==null?(P=P.delay,P=typeof P=="number"&&0<P?D+P:D):P=D,N){case 1:var O=-1;break;case 2:O=250;break;case 5:O=1073741823;break;case 4:O=1e4;break;default:O=5e3}return O=P+O,N={id:c++,callback:x,priorityLevel:N,startTime:P,expirationTime:O,sortIndex:-1},P>D?(N.sortIndex=P,t(u,N),n(a)===null&&N===n(u)&&(y?(h(R),R=-1):y=!0,L(w,P-D))):(N.sortIndex=O,t(a,N),v||g||(v=!0,C(E))),N},e.unstable_shouldYield=H,e.unstable_wrapCallback=function(N){var x=d;return function(){var P=d;d=x;try{return N.apply(this,arguments)}finally{d=P}}}})(Fd);Hd.exports=Fd;var v0=Hd.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var w0=I,st=v0;function F(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Bd=new Set,bo={};function rr(e,t){Lr(e,t),Lr(e+"Capture",t)}function Lr(e,t){for(bo[e]=t,e=0;e<t.length;e++)Bd.add(t[e])}var Gt=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Gl=Object.prototype.hasOwnProperty,_0=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Cc={},Nc={};function x0(e){return Gl.call(Nc,e)?!0:Gl.call(Cc,e)?!1:_0.test(e)?Nc[e]=!0:(Cc[e]=!0,!1)}function S0(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function E0(e,t,n,r){if(t===null||typeof t>"u"||S0(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Ke(e,t,n,r,o,i,s){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=o,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=s}var ze={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){ze[e]=new Ke(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];ze[t]=new Ke(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){ze[e]=new Ke(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){ze[e]=new Ke(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){ze[e]=new Ke(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){ze[e]=new Ke(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){ze[e]=new Ke(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){ze[e]=new Ke(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){ze[e]=new Ke(e,5,!1,e.toLowerCase(),null,!1,!1)});var au=/[\-:]([a-z])/g;function uu(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(au,uu);ze[t]=new Ke(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(au,uu);ze[t]=new Ke(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(au,uu);ze[t]=new Ke(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){ze[e]=new Ke(e,1,!1,e.toLowerCase(),null,!1,!1)});ze.xlinkHref=new Ke("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){ze[e]=new Ke(e,1,!1,e.toLowerCase(),null,!0,!0)});function cu(e,t,n,r){var o=ze.hasOwnProperty(t)?ze[t]:null;(o!==null?o.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(E0(t,n,o,r)&&(n=null),r||o===null?x0(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):o.mustUseProperty?e[o.propertyName]=n===null?o.type===3?!1:"":n:(t=o.attributeName,r=o.attributeNamespace,n===null?e.removeAttribute(t):(o=o.type,n=o===3||o===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var nn=w0.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,gi=Symbol.for("react.element"),gr=Symbol.for("react.portal"),mr=Symbol.for("react.fragment"),fu=Symbol.for("react.strict_mode"),Zl=Symbol.for("react.profiler"),jd=Symbol.for("react.provider"),Ud=Symbol.for("react.context"),du=Symbol.for("react.forward_ref"),ql=Symbol.for("react.suspense"),Jl=Symbol.for("react.suspense_list"),hu=Symbol.for("react.memo"),sn=Symbol.for("react.lazy"),Wd=Symbol.for("react.offscreen"),Tc=Symbol.iterator;function ro(e){return e===null||typeof e!="object"?null:(e=Tc&&e[Tc]||e["@@iterator"],typeof e=="function"?e:null)}var me=Object.assign,dl;function yo(e){if(dl===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);dl=t&&t[1]||""}return`
`+dl+e}var hl=!1;function pl(e,t){if(!e||hl)return"";hl=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var o=u.stack.split(`
`),i=r.stack.split(`
`),s=o.length-1,l=i.length-1;1<=s&&0<=l&&o[s]!==i[l];)l--;for(;1<=s&&0<=l;s--,l--)if(o[s]!==i[l]){if(s!==1||l!==1)do if(s--,l--,0>l||o[s]!==i[l]){var a=`
`+o[s].replace(" at new "," at ");return e.displayName&&a.includes("<anonymous>")&&(a=a.replace("<anonymous>",e.displayName)),a}while(1<=s&&0<=l);break}}}finally{hl=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?yo(e):""}function k0(e){switch(e.tag){case 5:return yo(e.type);case 16:return yo("Lazy");case 13:return yo("Suspense");case 19:return yo("SuspenseList");case 0:case 2:case 15:return e=pl(e.type,!1),e;case 11:return e=pl(e.type.render,!1),e;case 1:return e=pl(e.type,!0),e;default:return""}}function ea(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case mr:return"Fragment";case gr:return"Portal";case Zl:return"Profiler";case fu:return"StrictMode";case ql:return"Suspense";case Jl:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Ud:return(e.displayName||"Context")+".Consumer";case jd:return(e._context.displayName||"Context")+".Provider";case du:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case hu:return t=e.displayName||null,t!==null?t:ea(e.type)||"Memo";case sn:t=e._payload,e=e._init;try{return ea(e(t))}catch{}}return null}function C0(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ea(t);case 8:return t===fu?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function kn(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Vd(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function N0(e){var t=Vd(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var o=n.get,i=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return o.call(this)},set:function(s){r=""+s,i.call(this,s)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(s){r=""+s},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function mi(e){e._valueTracker||(e._valueTracker=N0(e))}function Xd(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=Vd(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function rs(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function ta(e,t){var n=t.checked;return me({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function Ic(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=kn(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Yd(e,t){t=t.checked,t!=null&&cu(e,"checked",t,!1)}function na(e,t){Yd(e,t);var n=kn(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?ra(e,t.type,n):t.hasOwnProperty("defaultValue")&&ra(e,t.type,kn(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Pc(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function ra(e,t,n){(t!=="number"||rs(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var vo=Array.isArray;function Ir(e,t,n,r){if(e=e.options,t){t={};for(var o=0;o<n.length;o++)t["$"+n[o]]=!0;for(n=0;n<e.length;n++)o=t.hasOwnProperty("$"+e[n].value),e[n].selected!==o&&(e[n].selected=o),o&&r&&(e[n].defaultSelected=!0)}else{for(n=""+kn(n),t=null,o=0;o<e.length;o++){if(e[o].value===n){e[o].selected=!0,r&&(e[o].defaultSelected=!0);return}t!==null||e[o].disabled||(t=e[o])}t!==null&&(t.selected=!0)}}function oa(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(F(91));return me({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Rc(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(F(92));if(vo(n)){if(1<n.length)throw Error(F(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:kn(n)}}function Kd(e,t){var n=kn(t.value),r=kn(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function $c(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Qd(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ia(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Qd(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var yi,Gd=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,o){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,o)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(yi=yi||document.createElement("div"),yi.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=yi.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function zo(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var ko={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},T0=["Webkit","ms","Moz","O"];Object.keys(ko).forEach(function(e){T0.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),ko[t]=ko[e]})});function Zd(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||ko.hasOwnProperty(e)&&ko[e]?(""+t).trim():t+"px"}function qd(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,o=Zd(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,o):e[n]=o}}var I0=me({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function sa(e,t){if(t){if(I0[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(F(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(F(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(F(61))}if(t.style!=null&&typeof t.style!="object")throw Error(F(62))}}function la(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var aa=null;function pu(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var ua=null,Pr=null,Rr=null;function Mc(e){if(e=ui(e)){if(typeof ua!="function")throw Error(F(280));var t=e.stateNode;t&&(t=js(t),ua(e.stateNode,e.type,t))}}function Jd(e){Pr?Rr?Rr.push(e):Rr=[e]:Pr=e}function eh(){if(Pr){var e=Pr,t=Rr;if(Rr=Pr=null,Mc(e),t)for(e=0;e<t.length;e++)Mc(t[e])}}function th(e,t){return e(t)}function nh(){}var gl=!1;function rh(e,t,n){if(gl)return e(t,n);gl=!0;try{return th(e,t,n)}finally{gl=!1,(Pr!==null||Rr!==null)&&(nh(),eh())}}function Ao(e,t){var n=e.stateNode;if(n===null)return null;var r=js(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(F(231,t,typeof n));return n}var ca=!1;if(Gt)try{var oo={};Object.defineProperty(oo,"passive",{get:function(){ca=!0}}),window.addEventListener("test",oo,oo),window.removeEventListener("test",oo,oo)}catch{ca=!1}function P0(e,t,n,r,o,i,s,l,a){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(c){this.onError(c)}}var Co=!1,os=null,is=!1,fa=null,R0={onError:function(e){Co=!0,os=e}};function $0(e,t,n,r,o,i,s,l,a){Co=!1,os=null,P0.apply(R0,arguments)}function M0(e,t,n,r,o,i,s,l,a){if($0.apply(this,arguments),Co){if(Co){var u=os;Co=!1,os=null}else throw Error(F(198));is||(is=!0,fa=u)}}function or(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function oh(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function bc(e){if(or(e)!==e)throw Error(F(188))}function b0(e){var t=e.alternate;if(!t){if(t=or(e),t===null)throw Error(F(188));return t!==e?null:e}for(var n=e,r=t;;){var o=n.return;if(o===null)break;var i=o.alternate;if(i===null){if(r=o.return,r!==null){n=r;continue}break}if(o.child===i.child){for(i=o.child;i;){if(i===n)return bc(o),e;if(i===r)return bc(o),t;i=i.sibling}throw Error(F(188))}if(n.return!==r.return)n=o,r=i;else{for(var s=!1,l=o.child;l;){if(l===n){s=!0,n=o,r=i;break}if(l===r){s=!0,r=o,n=i;break}l=l.sibling}if(!s){for(l=i.child;l;){if(l===n){s=!0,n=i,r=o;break}if(l===r){s=!0,r=i,n=o;break}l=l.sibling}if(!s)throw Error(F(189))}}if(n.alternate!==r)throw Error(F(190))}if(n.tag!==3)throw Error(F(188));return n.stateNode.current===n?e:t}function ih(e){return e=b0(e),e!==null?sh(e):null}function sh(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=sh(e);if(t!==null)return t;e=e.sibling}return null}var lh=st.unstable_scheduleCallback,zc=st.unstable_cancelCallback,z0=st.unstable_shouldYield,A0=st.unstable_requestPaint,_e=st.unstable_now,D0=st.unstable_getCurrentPriorityLevel,gu=st.unstable_ImmediatePriority,ah=st.unstable_UserBlockingPriority,ss=st.unstable_NormalPriority,L0=st.unstable_LowPriority,uh=st.unstable_IdlePriority,Os=null,At=null;function O0(e){if(At&&typeof At.onCommitFiberRoot=="function")try{At.onCommitFiberRoot(Os,e,void 0,(e.current.flags&128)===128)}catch{}}var Tt=Math.clz32?Math.clz32:B0,H0=Math.log,F0=Math.LN2;function B0(e){return e>>>=0,e===0?32:31-(H0(e)/F0|0)|0}var vi=64,wi=4194304;function wo(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ls(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,o=e.suspendedLanes,i=e.pingedLanes,s=n&268435455;if(s!==0){var l=s&~o;l!==0?r=wo(l):(i&=s,i!==0&&(r=wo(i)))}else s=n&~o,s!==0?r=wo(s):i!==0&&(r=wo(i));if(r===0)return 0;if(t!==0&&t!==r&&!(t&o)&&(o=r&-r,i=t&-t,o>=i||o===16&&(i&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-Tt(t),o=1<<n,r|=e[n],t&=~o;return r}function j0(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function U0(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,o=e.expirationTimes,i=e.pendingLanes;0<i;){var s=31-Tt(i),l=1<<s,a=o[s];a===-1?(!(l&n)||l&r)&&(o[s]=j0(l,t)):a<=t&&(e.expiredLanes|=l),i&=~l}}function da(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function ch(){var e=vi;return vi<<=1,!(vi&4194240)&&(vi=64),e}function ml(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function li(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Tt(t),e[t]=n}function W0(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var o=31-Tt(n),i=1<<o;t[o]=0,r[o]=-1,e[o]=-1,n&=~i}}function mu(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-Tt(n),o=1<<r;o&t|e[r]&t&&(e[r]|=t),n&=~o}}var ie=0;function fh(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var dh,yu,hh,ph,gh,ha=!1,_i=[],gn=null,mn=null,yn=null,Do=new Map,Lo=new Map,cn=[],V0="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Ac(e,t){switch(e){case"focusin":case"focusout":gn=null;break;case"dragenter":case"dragleave":mn=null;break;case"mouseover":case"mouseout":yn=null;break;case"pointerover":case"pointerout":Do.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Lo.delete(t.pointerId)}}function io(e,t,n,r,o,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[o]},t!==null&&(t=ui(t),t!==null&&yu(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,o!==null&&t.indexOf(o)===-1&&t.push(o),e)}function X0(e,t,n,r,o){switch(t){case"focusin":return gn=io(gn,e,t,n,r,o),!0;case"dragenter":return mn=io(mn,e,t,n,r,o),!0;case"mouseover":return yn=io(yn,e,t,n,r,o),!0;case"pointerover":var i=o.pointerId;return Do.set(i,io(Do.get(i)||null,e,t,n,r,o)),!0;case"gotpointercapture":return i=o.pointerId,Lo.set(i,io(Lo.get(i)||null,e,t,n,r,o)),!0}return!1}function mh(e){var t=On(e.target);if(t!==null){var n=or(t);if(n!==null){if(t=n.tag,t===13){if(t=oh(n),t!==null){e.blockedOn=t,gh(e.priority,function(){hh(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Ui(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=pa(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);aa=r,n.target.dispatchEvent(r),aa=null}else return t=ui(n),t!==null&&yu(t),e.blockedOn=n,!1;t.shift()}return!0}function Dc(e,t,n){Ui(e)&&n.delete(t)}function Y0(){ha=!1,gn!==null&&Ui(gn)&&(gn=null),mn!==null&&Ui(mn)&&(mn=null),yn!==null&&Ui(yn)&&(yn=null),Do.forEach(Dc),Lo.forEach(Dc)}function so(e,t){e.blockedOn===t&&(e.blockedOn=null,ha||(ha=!0,st.unstable_scheduleCallback(st.unstable_NormalPriority,Y0)))}function Oo(e){function t(o){return so(o,e)}if(0<_i.length){so(_i[0],e);for(var n=1;n<_i.length;n++){var r=_i[n];r.blockedOn===e&&(r.blockedOn=null)}}for(gn!==null&&so(gn,e),mn!==null&&so(mn,e),yn!==null&&so(yn,e),Do.forEach(t),Lo.forEach(t),n=0;n<cn.length;n++)r=cn[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<cn.length&&(n=cn[0],n.blockedOn===null);)mh(n),n.blockedOn===null&&cn.shift()}var $r=nn.ReactCurrentBatchConfig,as=!0;function K0(e,t,n,r){var o=ie,i=$r.transition;$r.transition=null;try{ie=1,vu(e,t,n,r)}finally{ie=o,$r.transition=i}}function Q0(e,t,n,r){var o=ie,i=$r.transition;$r.transition=null;try{ie=4,vu(e,t,n,r)}finally{ie=o,$r.transition=i}}function vu(e,t,n,r){if(as){var o=pa(e,t,n,r);if(o===null)Nl(e,t,r,us,n),Ac(e,r);else if(X0(o,e,t,n,r))r.stopPropagation();else if(Ac(e,r),t&4&&-1<V0.indexOf(e)){for(;o!==null;){var i=ui(o);if(i!==null&&dh(i),i=pa(e,t,n,r),i===null&&Nl(e,t,r,us,n),i===o)break;o=i}o!==null&&r.stopPropagation()}else Nl(e,t,r,null,n)}}var us=null;function pa(e,t,n,r){if(us=null,e=pu(r),e=On(e),e!==null)if(t=or(e),t===null)e=null;else if(n=t.tag,n===13){if(e=oh(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return us=e,null}function yh(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(D0()){case gu:return 1;case ah:return 4;case ss:case L0:return 16;case uh:return 536870912;default:return 16}default:return 16}}var hn=null,wu=null,Wi=null;function vh(){if(Wi)return Wi;var e,t=wu,n=t.length,r,o="value"in hn?hn.value:hn.textContent,i=o.length;for(e=0;e<n&&t[e]===o[e];e++);var s=n-e;for(r=1;r<=s&&t[n-r]===o[i-r];r++);return Wi=o.slice(e,1<r?1-r:void 0)}function Vi(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function xi(){return!0}function Lc(){return!1}function ut(e){function t(n,r,o,i,s){this._reactName=n,this._targetInst=o,this.type=r,this.nativeEvent=i,this.target=s,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(n=e[l],this[l]=n?n(i):i[l]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?xi:Lc,this.isPropagationStopped=Lc,this}return me(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=xi)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=xi)},persist:function(){},isPersistent:xi}),t}var Zr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},_u=ut(Zr),ai=me({},Zr,{view:0,detail:0}),G0=ut(ai),yl,vl,lo,Hs=me({},ai,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:xu,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==lo&&(lo&&e.type==="mousemove"?(yl=e.screenX-lo.screenX,vl=e.screenY-lo.screenY):vl=yl=0,lo=e),yl)},movementY:function(e){return"movementY"in e?e.movementY:vl}}),Oc=ut(Hs),Z0=me({},Hs,{dataTransfer:0}),q0=ut(Z0),J0=me({},ai,{relatedTarget:0}),wl=ut(J0),ey=me({},Zr,{animationName:0,elapsedTime:0,pseudoElement:0}),ty=ut(ey),ny=me({},Zr,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),ry=ut(ny),oy=me({},Zr,{data:0}),Hc=ut(oy),iy={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},sy={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ly={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ay(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=ly[e])?!!t[e]:!1}function xu(){return ay}var uy=me({},ai,{key:function(e){if(e.key){var t=iy[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Vi(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?sy[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:xu,charCode:function(e){return e.type==="keypress"?Vi(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Vi(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),cy=ut(uy),fy=me({},Hs,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Fc=ut(fy),dy=me({},ai,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:xu}),hy=ut(dy),py=me({},Zr,{propertyName:0,elapsedTime:0,pseudoElement:0}),gy=ut(py),my=me({},Hs,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),yy=ut(my),vy=[9,13,27,32],Su=Gt&&"CompositionEvent"in window,No=null;Gt&&"documentMode"in document&&(No=document.documentMode);var wy=Gt&&"TextEvent"in window&&!No,wh=Gt&&(!Su||No&&8<No&&11>=No),Bc=" ",jc=!1;function _h(e,t){switch(e){case"keyup":return vy.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function xh(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var yr=!1;function _y(e,t){switch(e){case"compositionend":return xh(t);case"keypress":return t.which!==32?null:(jc=!0,Bc);case"textInput":return e=t.data,e===Bc&&jc?null:e;default:return null}}function xy(e,t){if(yr)return e==="compositionend"||!Su&&_h(e,t)?(e=vh(),Wi=wu=hn=null,yr=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return wh&&t.locale!=="ko"?null:t.data;default:return null}}var Sy={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Uc(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Sy[e.type]:t==="textarea"}function Sh(e,t,n,r){Jd(r),t=cs(t,"onChange"),0<t.length&&(n=new _u("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var To=null,Ho=null;function Ey(e){bh(e,0)}function Fs(e){var t=_r(e);if(Xd(t))return e}function ky(e,t){if(e==="change")return t}var Eh=!1;if(Gt){var _l;if(Gt){var xl="oninput"in document;if(!xl){var Wc=document.createElement("div");Wc.setAttribute("oninput","return;"),xl=typeof Wc.oninput=="function"}_l=xl}else _l=!1;Eh=_l&&(!document.documentMode||9<document.documentMode)}function Vc(){To&&(To.detachEvent("onpropertychange",kh),Ho=To=null)}function kh(e){if(e.propertyName==="value"&&Fs(Ho)){var t=[];Sh(t,Ho,e,pu(e)),rh(Ey,t)}}function Cy(e,t,n){e==="focusin"?(Vc(),To=t,Ho=n,To.attachEvent("onpropertychange",kh)):e==="focusout"&&Vc()}function Ny(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Fs(Ho)}function Ty(e,t){if(e==="click")return Fs(t)}function Iy(e,t){if(e==="input"||e==="change")return Fs(t)}function Py(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Pt=typeof Object.is=="function"?Object.is:Py;function Fo(e,t){if(Pt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var o=n[r];if(!Gl.call(t,o)||!Pt(e[o],t[o]))return!1}return!0}function Xc(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Yc(e,t){var n=Xc(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Xc(n)}}function Ch(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Ch(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Nh(){for(var e=window,t=rs();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=rs(e.document)}return t}function Eu(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function Ry(e){var t=Nh(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&Ch(n.ownerDocument.documentElement,n)){if(r!==null&&Eu(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var o=n.textContent.length,i=Math.min(r.start,o);r=r.end===void 0?i:Math.min(r.end,o),!e.extend&&i>r&&(o=r,r=i,i=o),o=Yc(n,i);var s=Yc(n,r);o&&s&&(e.rangeCount!==1||e.anchorNode!==o.node||e.anchorOffset!==o.offset||e.focusNode!==s.node||e.focusOffset!==s.offset)&&(t=t.createRange(),t.setStart(o.node,o.offset),e.removeAllRanges(),i>r?(e.addRange(t),e.extend(s.node,s.offset)):(t.setEnd(s.node,s.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var $y=Gt&&"documentMode"in document&&11>=document.documentMode,vr=null,ga=null,Io=null,ma=!1;function Kc(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;ma||vr==null||vr!==rs(r)||(r=vr,"selectionStart"in r&&Eu(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Io&&Fo(Io,r)||(Io=r,r=cs(ga,"onSelect"),0<r.length&&(t=new _u("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=vr)))}function Si(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var wr={animationend:Si("Animation","AnimationEnd"),animationiteration:Si("Animation","AnimationIteration"),animationstart:Si("Animation","AnimationStart"),transitionend:Si("Transition","TransitionEnd")},Sl={},Th={};Gt&&(Th=document.createElement("div").style,"AnimationEvent"in window||(delete wr.animationend.animation,delete wr.animationiteration.animation,delete wr.animationstart.animation),"TransitionEvent"in window||delete wr.transitionend.transition);function Bs(e){if(Sl[e])return Sl[e];if(!wr[e])return e;var t=wr[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in Th)return Sl[e]=t[n];return e}var Ih=Bs("animationend"),Ph=Bs("animationiteration"),Rh=Bs("animationstart"),$h=Bs("transitionend"),Mh=new Map,Qc="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Nn(e,t){Mh.set(e,t),rr(t,[e])}for(var El=0;El<Qc.length;El++){var kl=Qc[El],My=kl.toLowerCase(),by=kl[0].toUpperCase()+kl.slice(1);Nn(My,"on"+by)}Nn(Ih,"onAnimationEnd");Nn(Ph,"onAnimationIteration");Nn(Rh,"onAnimationStart");Nn("dblclick","onDoubleClick");Nn("focusin","onFocus");Nn("focusout","onBlur");Nn($h,"onTransitionEnd");Lr("onMouseEnter",["mouseout","mouseover"]);Lr("onMouseLeave",["mouseout","mouseover"]);Lr("onPointerEnter",["pointerout","pointerover"]);Lr("onPointerLeave",["pointerout","pointerover"]);rr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));rr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));rr("onBeforeInput",["compositionend","keypress","textInput","paste"]);rr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));rr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));rr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var _o="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),zy=new Set("cancel close invalid load scroll toggle".split(" ").concat(_o));function Gc(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,M0(r,t,void 0,e),e.currentTarget=null}function bh(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],o=r.event;r=r.listeners;e:{var i=void 0;if(t)for(var s=r.length-1;0<=s;s--){var l=r[s],a=l.instance,u=l.currentTarget;if(l=l.listener,a!==i&&o.isPropagationStopped())break e;Gc(o,l,u),i=a}else for(s=0;s<r.length;s++){if(l=r[s],a=l.instance,u=l.currentTarget,l=l.listener,a!==i&&o.isPropagationStopped())break e;Gc(o,l,u),i=a}}}if(is)throw e=fa,is=!1,fa=null,e}function ue(e,t){var n=t[xa];n===void 0&&(n=t[xa]=new Set);var r=e+"__bubble";n.has(r)||(zh(t,e,2,!1),n.add(r))}function Cl(e,t,n){var r=0;t&&(r|=4),zh(n,e,r,t)}var Ei="_reactListening"+Math.random().toString(36).slice(2);function Bo(e){if(!e[Ei]){e[Ei]=!0,Bd.forEach(function(n){n!=="selectionchange"&&(zy.has(n)||Cl(n,!1,e),Cl(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Ei]||(t[Ei]=!0,Cl("selectionchange",!1,t))}}function zh(e,t,n,r){switch(yh(t)){case 1:var o=K0;break;case 4:o=Q0;break;default:o=vu}n=o.bind(null,t,n,e),o=void 0,!ca||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(o=!0),r?o!==void 0?e.addEventListener(t,n,{capture:!0,passive:o}):e.addEventListener(t,n,!0):o!==void 0?e.addEventListener(t,n,{passive:o}):e.addEventListener(t,n,!1)}function Nl(e,t,n,r,o){var i=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var s=r.tag;if(s===3||s===4){var l=r.stateNode.containerInfo;if(l===o||l.nodeType===8&&l.parentNode===o)break;if(s===4)for(s=r.return;s!==null;){var a=s.tag;if((a===3||a===4)&&(a=s.stateNode.containerInfo,a===o||a.nodeType===8&&a.parentNode===o))return;s=s.return}for(;l!==null;){if(s=On(l),s===null)return;if(a=s.tag,a===5||a===6){r=i=s;continue e}l=l.parentNode}}r=r.return}rh(function(){var u=i,c=pu(n),f=[];e:{var d=Mh.get(e);if(d!==void 0){var g=_u,v=e;switch(e){case"keypress":if(Vi(n)===0)break e;case"keydown":case"keyup":g=cy;break;case"focusin":v="focus",g=wl;break;case"focusout":v="blur",g=wl;break;case"beforeblur":case"afterblur":g=wl;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":g=Oc;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":g=q0;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":g=hy;break;case Ih:case Ph:case Rh:g=ty;break;case $h:g=gy;break;case"scroll":g=G0;break;case"wheel":g=yy;break;case"copy":case"cut":case"paste":g=ry;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":g=Fc}var y=(t&4)!==0,S=!y&&e==="scroll",h=y?d!==null?d+"Capture":null:d;y=[];for(var p=u,m;p!==null;){m=p;var w=m.stateNode;if(m.tag===5&&w!==null&&(m=w,h!==null&&(w=Ao(p,h),w!=null&&y.push(jo(p,w,m)))),S)break;p=p.return}0<y.length&&(d=new g(d,v,null,n,c),f.push({event:d,listeners:y}))}}if(!(t&7)){e:{if(d=e==="mouseover"||e==="pointerover",g=e==="mouseout"||e==="pointerout",d&&n!==aa&&(v=n.relatedTarget||n.fromElement)&&(On(v)||v[Zt]))break e;if((g||d)&&(d=c.window===c?c:(d=c.ownerDocument)?d.defaultView||d.parentWindow:window,g?(v=n.relatedTarget||n.toElement,g=u,v=v?On(v):null,v!==null&&(S=or(v),v!==S||v.tag!==5&&v.tag!==6)&&(v=null)):(g=null,v=u),g!==v)){if(y=Oc,w="onMouseLeave",h="onMouseEnter",p="mouse",(e==="pointerout"||e==="pointerover")&&(y=Fc,w="onPointerLeave",h="onPointerEnter",p="pointer"),S=g==null?d:_r(g),m=v==null?d:_r(v),d=new y(w,p+"leave",g,n,c),d.target=S,d.relatedTarget=m,w=null,On(c)===u&&(y=new y(h,p+"enter",v,n,c),y.target=m,y.relatedTarget=S,w=y),S=w,g&&v)t:{for(y=g,h=v,p=0,m=y;m;m=cr(m))p++;for(m=0,w=h;w;w=cr(w))m++;for(;0<p-m;)y=cr(y),p--;for(;0<m-p;)h=cr(h),m--;for(;p--;){if(y===h||h!==null&&y===h.alternate)break t;y=cr(y),h=cr(h)}y=null}else y=null;g!==null&&Zc(f,d,g,y,!1),v!==null&&S!==null&&Zc(f,S,v,y,!0)}}e:{if(d=u?_r(u):window,g=d.nodeName&&d.nodeName.toLowerCase(),g==="select"||g==="input"&&d.type==="file")var E=ky;else if(Uc(d))if(Eh)E=Iy;else{E=Ny;var k=Cy}else(g=d.nodeName)&&g.toLowerCase()==="input"&&(d.type==="checkbox"||d.type==="radio")&&(E=Ty);if(E&&(E=E(e,u))){Sh(f,E,n,c);break e}k&&k(e,d,u),e==="focusout"&&(k=d._wrapperState)&&k.controlled&&d.type==="number"&&ra(d,"number",d.value)}switch(k=u?_r(u):window,e){case"focusin":(Uc(k)||k.contentEditable==="true")&&(vr=k,ga=u,Io=null);break;case"focusout":Io=ga=vr=null;break;case"mousedown":ma=!0;break;case"contextmenu":case"mouseup":case"dragend":ma=!1,Kc(f,n,c);break;case"selectionchange":if($y)break;case"keydown":case"keyup":Kc(f,n,c)}var T;if(Su)e:{switch(e){case"compositionstart":var R="onCompositionStart";break e;case"compositionend":R="onCompositionEnd";break e;case"compositionupdate":R="onCompositionUpdate";break e}R=void 0}else yr?_h(e,n)&&(R="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(R="onCompositionStart");R&&(wh&&n.locale!=="ko"&&(yr||R!=="onCompositionStart"?R==="onCompositionEnd"&&yr&&(T=vh()):(hn=c,wu="value"in hn?hn.value:hn.textContent,yr=!0)),k=cs(u,R),0<k.length&&(R=new Hc(R,e,null,n,c),f.push({event:R,listeners:k}),T?R.data=T:(T=xh(n),T!==null&&(R.data=T)))),(T=wy?_y(e,n):xy(e,n))&&(u=cs(u,"onBeforeInput"),0<u.length&&(c=new Hc("onBeforeInput","beforeinput",null,n,c),f.push({event:c,listeners:u}),c.data=T))}bh(f,t)})}function jo(e,t,n){return{instance:e,listener:t,currentTarget:n}}function cs(e,t){for(var n=t+"Capture",r=[];e!==null;){var o=e,i=o.stateNode;o.tag===5&&i!==null&&(o=i,i=Ao(e,n),i!=null&&r.unshift(jo(e,i,o)),i=Ao(e,t),i!=null&&r.push(jo(e,i,o))),e=e.return}return r}function cr(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Zc(e,t,n,r,o){for(var i=t._reactName,s=[];n!==null&&n!==r;){var l=n,a=l.alternate,u=l.stateNode;if(a!==null&&a===r)break;l.tag===5&&u!==null&&(l=u,o?(a=Ao(n,i),a!=null&&s.unshift(jo(n,a,l))):o||(a=Ao(n,i),a!=null&&s.push(jo(n,a,l)))),n=n.return}s.length!==0&&e.push({event:t,listeners:s})}var Ay=/\r\n?/g,Dy=/\u0000|\uFFFD/g;function qc(e){return(typeof e=="string"?e:""+e).replace(Ay,`
`).replace(Dy,"")}function ki(e,t,n){if(t=qc(t),qc(e)!==t&&n)throw Error(F(425))}function fs(){}var ya=null,va=null;function wa(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var _a=typeof setTimeout=="function"?setTimeout:void 0,Ly=typeof clearTimeout=="function"?clearTimeout:void 0,Jc=typeof Promise=="function"?Promise:void 0,Oy=typeof queueMicrotask=="function"?queueMicrotask:typeof Jc<"u"?function(e){return Jc.resolve(null).then(e).catch(Hy)}:_a;function Hy(e){setTimeout(function(){throw e})}function Tl(e,t){var n=t,r=0;do{var o=n.nextSibling;if(e.removeChild(n),o&&o.nodeType===8)if(n=o.data,n==="/$"){if(r===0){e.removeChild(o),Oo(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=o}while(n);Oo(t)}function vn(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function ef(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var qr=Math.random().toString(36).slice(2),zt="__reactFiber$"+qr,Uo="__reactProps$"+qr,Zt="__reactContainer$"+qr,xa="__reactEvents$"+qr,Fy="__reactListeners$"+qr,By="__reactHandles$"+qr;function On(e){var t=e[zt];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Zt]||n[zt]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=ef(e);e!==null;){if(n=e[zt])return n;e=ef(e)}return t}e=n,n=e.parentNode}return null}function ui(e){return e=e[zt]||e[Zt],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function _r(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(F(33))}function js(e){return e[Uo]||null}var Sa=[],xr=-1;function Tn(e){return{current:e}}function ce(e){0>xr||(e.current=Sa[xr],Sa[xr]=null,xr--)}function le(e,t){xr++,Sa[xr]=e.current,e.current=t}var Cn={},je=Tn(Cn),qe=Tn(!1),Qn=Cn;function Or(e,t){var n=e.type.contextTypes;if(!n)return Cn;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var o={},i;for(i in n)o[i]=t[i];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=o),o}function Je(e){return e=e.childContextTypes,e!=null}function ds(){ce(qe),ce(je)}function tf(e,t,n){if(je.current!==Cn)throw Error(F(168));le(je,t),le(qe,n)}function Ah(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var o in r)if(!(o in t))throw Error(F(108,C0(e)||"Unknown",o));return me({},n,r)}function hs(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Cn,Qn=je.current,le(je,e),le(qe,qe.current),!0}function nf(e,t,n){var r=e.stateNode;if(!r)throw Error(F(169));n?(e=Ah(e,t,Qn),r.__reactInternalMemoizedMergedChildContext=e,ce(qe),ce(je),le(je,e)):ce(qe),le(qe,n)}var Wt=null,Us=!1,Il=!1;function Dh(e){Wt===null?Wt=[e]:Wt.push(e)}function jy(e){Us=!0,Dh(e)}function In(){if(!Il&&Wt!==null){Il=!0;var e=0,t=ie;try{var n=Wt;for(ie=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}Wt=null,Us=!1}catch(o){throw Wt!==null&&(Wt=Wt.slice(e+1)),lh(gu,In),o}finally{ie=t,Il=!1}}return null}var Sr=[],Er=0,ps=null,gs=0,ct=[],ft=0,Gn=null,Vt=1,Xt="";function An(e,t){Sr[Er++]=gs,Sr[Er++]=ps,ps=e,gs=t}function Lh(e,t,n){ct[ft++]=Vt,ct[ft++]=Xt,ct[ft++]=Gn,Gn=e;var r=Vt;e=Xt;var o=32-Tt(r)-1;r&=~(1<<o),n+=1;var i=32-Tt(t)+o;if(30<i){var s=o-o%5;i=(r&(1<<s)-1).toString(32),r>>=s,o-=s,Vt=1<<32-Tt(t)+o|n<<o|r,Xt=i+e}else Vt=1<<i|n<<o|r,Xt=e}function ku(e){e.return!==null&&(An(e,1),Lh(e,1,0))}function Cu(e){for(;e===ps;)ps=Sr[--Er],Sr[Er]=null,gs=Sr[--Er],Sr[Er]=null;for(;e===Gn;)Gn=ct[--ft],ct[ft]=null,Xt=ct[--ft],ct[ft]=null,Vt=ct[--ft],ct[ft]=null}var it=null,rt=null,de=!1,kt=null;function Oh(e,t){var n=ht(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function rf(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,it=e,rt=vn(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,it=e,rt=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=Gn!==null?{id:Vt,overflow:Xt}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=ht(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,it=e,rt=null,!0):!1;default:return!1}}function Ea(e){return(e.mode&1)!==0&&(e.flags&128)===0}function ka(e){if(de){var t=rt;if(t){var n=t;if(!rf(e,t)){if(Ea(e))throw Error(F(418));t=vn(n.nextSibling);var r=it;t&&rf(e,t)?Oh(r,n):(e.flags=e.flags&-4097|2,de=!1,it=e)}}else{if(Ea(e))throw Error(F(418));e.flags=e.flags&-4097|2,de=!1,it=e}}}function of(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;it=e}function Ci(e){if(e!==it)return!1;if(!de)return of(e),de=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!wa(e.type,e.memoizedProps)),t&&(t=rt)){if(Ea(e))throw Hh(),Error(F(418));for(;t;)Oh(e,t),t=vn(t.nextSibling)}if(of(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(F(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){rt=vn(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}rt=null}}else rt=it?vn(e.stateNode.nextSibling):null;return!0}function Hh(){for(var e=rt;e;)e=vn(e.nextSibling)}function Hr(){rt=it=null,de=!1}function Nu(e){kt===null?kt=[e]:kt.push(e)}var Uy=nn.ReactCurrentBatchConfig;function ao(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(F(309));var r=n.stateNode}if(!r)throw Error(F(147,e));var o=r,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(s){var l=o.refs;s===null?delete l[i]:l[i]=s},t._stringRef=i,t)}if(typeof e!="string")throw Error(F(284));if(!n._owner)throw Error(F(290,e))}return e}function Ni(e,t){throw e=Object.prototype.toString.call(t),Error(F(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function sf(e){var t=e._init;return t(e._payload)}function Fh(e){function t(h,p){if(e){var m=h.deletions;m===null?(h.deletions=[p],h.flags|=16):m.push(p)}}function n(h,p){if(!e)return null;for(;p!==null;)t(h,p),p=p.sibling;return null}function r(h,p){for(h=new Map;p!==null;)p.key!==null?h.set(p.key,p):h.set(p.index,p),p=p.sibling;return h}function o(h,p){return h=Sn(h,p),h.index=0,h.sibling=null,h}function i(h,p,m){return h.index=m,e?(m=h.alternate,m!==null?(m=m.index,m<p?(h.flags|=2,p):m):(h.flags|=2,p)):(h.flags|=1048576,p)}function s(h){return e&&h.alternate===null&&(h.flags|=2),h}function l(h,p,m,w){return p===null||p.tag!==6?(p=Al(m,h.mode,w),p.return=h,p):(p=o(p,m),p.return=h,p)}function a(h,p,m,w){var E=m.type;return E===mr?c(h,p,m.props.children,w,m.key):p!==null&&(p.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===sn&&sf(E)===p.type)?(w=o(p,m.props),w.ref=ao(h,p,m),w.return=h,w):(w=qi(m.type,m.key,m.props,null,h.mode,w),w.ref=ao(h,p,m),w.return=h,w)}function u(h,p,m,w){return p===null||p.tag!==4||p.stateNode.containerInfo!==m.containerInfo||p.stateNode.implementation!==m.implementation?(p=Dl(m,h.mode,w),p.return=h,p):(p=o(p,m.children||[]),p.return=h,p)}function c(h,p,m,w,E){return p===null||p.tag!==7?(p=Wn(m,h.mode,w,E),p.return=h,p):(p=o(p,m),p.return=h,p)}function f(h,p,m){if(typeof p=="string"&&p!==""||typeof p=="number")return p=Al(""+p,h.mode,m),p.return=h,p;if(typeof p=="object"&&p!==null){switch(p.$$typeof){case gi:return m=qi(p.type,p.key,p.props,null,h.mode,m),m.ref=ao(h,null,p),m.return=h,m;case gr:return p=Dl(p,h.mode,m),p.return=h,p;case sn:var w=p._init;return f(h,w(p._payload),m)}if(vo(p)||ro(p))return p=Wn(p,h.mode,m,null),p.return=h,p;Ni(h,p)}return null}function d(h,p,m,w){var E=p!==null?p.key:null;if(typeof m=="string"&&m!==""||typeof m=="number")return E!==null?null:l(h,p,""+m,w);if(typeof m=="object"&&m!==null){switch(m.$$typeof){case gi:return m.key===E?a(h,p,m,w):null;case gr:return m.key===E?u(h,p,m,w):null;case sn:return E=m._init,d(h,p,E(m._payload),w)}if(vo(m)||ro(m))return E!==null?null:c(h,p,m,w,null);Ni(h,m)}return null}function g(h,p,m,w,E){if(typeof w=="string"&&w!==""||typeof w=="number")return h=h.get(m)||null,l(p,h,""+w,E);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case gi:return h=h.get(w.key===null?m:w.key)||null,a(p,h,w,E);case gr:return h=h.get(w.key===null?m:w.key)||null,u(p,h,w,E);case sn:var k=w._init;return g(h,p,m,k(w._payload),E)}if(vo(w)||ro(w))return h=h.get(m)||null,c(p,h,w,E,null);Ni(p,w)}return null}function v(h,p,m,w){for(var E=null,k=null,T=p,R=p=0,b=null;T!==null&&R<m.length;R++){T.index>R?(b=T,T=null):b=T.sibling;var z=d(h,T,m[R],w);if(z===null){T===null&&(T=b);break}e&&T&&z.alternate===null&&t(h,T),p=i(z,p,R),k===null?E=z:k.sibling=z,k=z,T=b}if(R===m.length)return n(h,T),de&&An(h,R),E;if(T===null){for(;R<m.length;R++)T=f(h,m[R],w),T!==null&&(p=i(T,p,R),k===null?E=T:k.sibling=T,k=T);return de&&An(h,R),E}for(T=r(h,T);R<m.length;R++)b=g(T,h,R,m[R],w),b!==null&&(e&&b.alternate!==null&&T.delete(b.key===null?R:b.key),p=i(b,p,R),k===null?E=b:k.sibling=b,k=b);return e&&T.forEach(function(H){return t(h,H)}),de&&An(h,R),E}function y(h,p,m,w){var E=ro(m);if(typeof E!="function")throw Error(F(150));if(m=E.call(m),m==null)throw Error(F(151));for(var k=E=null,T=p,R=p=0,b=null,z=m.next();T!==null&&!z.done;R++,z=m.next()){T.index>R?(b=T,T=null):b=T.sibling;var H=d(h,T,z.value,w);if(H===null){T===null&&(T=b);break}e&&T&&H.alternate===null&&t(h,T),p=i(H,p,R),k===null?E=H:k.sibling=H,k=H,T=b}if(z.done)return n(h,T),de&&An(h,R),E;if(T===null){for(;!z.done;R++,z=m.next())z=f(h,z.value,w),z!==null&&(p=i(z,p,R),k===null?E=z:k.sibling=z,k=z);return de&&An(h,R),E}for(T=r(h,T);!z.done;R++,z=m.next())z=g(T,h,R,z.value,w),z!==null&&(e&&z.alternate!==null&&T.delete(z.key===null?R:z.key),p=i(z,p,R),k===null?E=z:k.sibling=z,k=z);return e&&T.forEach(function(j){return t(h,j)}),de&&An(h,R),E}function S(h,p,m,w){if(typeof m=="object"&&m!==null&&m.type===mr&&m.key===null&&(m=m.props.children),typeof m=="object"&&m!==null){switch(m.$$typeof){case gi:e:{for(var E=m.key,k=p;k!==null;){if(k.key===E){if(E=m.type,E===mr){if(k.tag===7){n(h,k.sibling),p=o(k,m.props.children),p.return=h,h=p;break e}}else if(k.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===sn&&sf(E)===k.type){n(h,k.sibling),p=o(k,m.props),p.ref=ao(h,k,m),p.return=h,h=p;break e}n(h,k);break}else t(h,k);k=k.sibling}m.type===mr?(p=Wn(m.props.children,h.mode,w,m.key),p.return=h,h=p):(w=qi(m.type,m.key,m.props,null,h.mode,w),w.ref=ao(h,p,m),w.return=h,h=w)}return s(h);case gr:e:{for(k=m.key;p!==null;){if(p.key===k)if(p.tag===4&&p.stateNode.containerInfo===m.containerInfo&&p.stateNode.implementation===m.implementation){n(h,p.sibling),p=o(p,m.children||[]),p.return=h,h=p;break e}else{n(h,p);break}else t(h,p);p=p.sibling}p=Dl(m,h.mode,w),p.return=h,h=p}return s(h);case sn:return k=m._init,S(h,p,k(m._payload),w)}if(vo(m))return v(h,p,m,w);if(ro(m))return y(h,p,m,w);Ni(h,m)}return typeof m=="string"&&m!==""||typeof m=="number"?(m=""+m,p!==null&&p.tag===6?(n(h,p.sibling),p=o(p,m),p.return=h,h=p):(n(h,p),p=Al(m,h.mode,w),p.return=h,h=p),s(h)):n(h,p)}return S}var Fr=Fh(!0),Bh=Fh(!1),ms=Tn(null),ys=null,kr=null,Tu=null;function Iu(){Tu=kr=ys=null}function Pu(e){var t=ms.current;ce(ms),e._currentValue=t}function Ca(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Mr(e,t){ys=e,Tu=kr=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Ge=!0),e.firstContext=null)}function yt(e){var t=e._currentValue;if(Tu!==e)if(e={context:e,memoizedValue:t,next:null},kr===null){if(ys===null)throw Error(F(308));kr=e,ys.dependencies={lanes:0,firstContext:e}}else kr=kr.next=e;return t}var Hn=null;function Ru(e){Hn===null?Hn=[e]:Hn.push(e)}function jh(e,t,n,r){var o=t.interleaved;return o===null?(n.next=n,Ru(t)):(n.next=o.next,o.next=n),t.interleaved=n,qt(e,r)}function qt(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var ln=!1;function $u(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Uh(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Kt(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function wn(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,te&2){var o=r.pending;return o===null?t.next=t:(t.next=o.next,o.next=t),r.pending=t,qt(e,n)}return o=r.interleaved,o===null?(t.next=t,Ru(r)):(t.next=o.next,o.next=t),r.interleaved=t,qt(e,n)}function Xi(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,mu(e,n)}}function lf(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var o=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?o=i=s:i=i.next=s,n=n.next}while(n!==null);i===null?o=i=t:i=i.next=t}else o=i=t;n={baseState:r.baseState,firstBaseUpdate:o,lastBaseUpdate:i,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function vs(e,t,n,r){var o=e.updateQueue;ln=!1;var i=o.firstBaseUpdate,s=o.lastBaseUpdate,l=o.shared.pending;if(l!==null){o.shared.pending=null;var a=l,u=a.next;a.next=null,s===null?i=u:s.next=u,s=a;var c=e.alternate;c!==null&&(c=c.updateQueue,l=c.lastBaseUpdate,l!==s&&(l===null?c.firstBaseUpdate=u:l.next=u,c.lastBaseUpdate=a))}if(i!==null){var f=o.baseState;s=0,c=u=a=null,l=i;do{var d=l.lane,g=l.eventTime;if((r&d)===d){c!==null&&(c=c.next={eventTime:g,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var v=e,y=l;switch(d=t,g=n,y.tag){case 1:if(v=y.payload,typeof v=="function"){f=v.call(g,f,d);break e}f=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=y.payload,d=typeof v=="function"?v.call(g,f,d):v,d==null)break e;f=me({},f,d);break e;case 2:ln=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,d=o.effects,d===null?o.effects=[l]:d.push(l))}else g={eventTime:g,lane:d,tag:l.tag,payload:l.payload,callback:l.callback,next:null},c===null?(u=c=g,a=f):c=c.next=g,s|=d;if(l=l.next,l===null){if(l=o.shared.pending,l===null)break;d=l,l=d.next,d.next=null,o.lastBaseUpdate=d,o.shared.pending=null}}while(!0);if(c===null&&(a=f),o.baseState=a,o.firstBaseUpdate=u,o.lastBaseUpdate=c,t=o.shared.interleaved,t!==null){o=t;do s|=o.lane,o=o.next;while(o!==t)}else i===null&&(o.shared.lanes=0);qn|=s,e.lanes=s,e.memoizedState=f}}function af(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],o=r.callback;if(o!==null){if(r.callback=null,r=n,typeof o!="function")throw Error(F(191,o));o.call(r)}}}var ci={},Dt=Tn(ci),Wo=Tn(ci),Vo=Tn(ci);function Fn(e){if(e===ci)throw Error(F(174));return e}function Mu(e,t){switch(le(Vo,t),le(Wo,e),le(Dt,ci),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:ia(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=ia(t,e)}ce(Dt),le(Dt,t)}function Br(){ce(Dt),ce(Wo),ce(Vo)}function Wh(e){Fn(Vo.current);var t=Fn(Dt.current),n=ia(t,e.type);t!==n&&(le(Wo,e),le(Dt,n))}function bu(e){Wo.current===e&&(ce(Dt),ce(Wo))}var he=Tn(0);function ws(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Pl=[];function zu(){for(var e=0;e<Pl.length;e++)Pl[e]._workInProgressVersionPrimary=null;Pl.length=0}var Yi=nn.ReactCurrentDispatcher,Rl=nn.ReactCurrentBatchConfig,Zn=0,ge=null,Ce=null,Ie=null,_s=!1,Po=!1,Xo=0,Wy=0;function Oe(){throw Error(F(321))}function Au(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Pt(e[n],t[n]))return!1;return!0}function Du(e,t,n,r,o,i){if(Zn=i,ge=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Yi.current=e===null||e.memoizedState===null?Ky:Qy,e=n(r,o),Po){i=0;do{if(Po=!1,Xo=0,25<=i)throw Error(F(301));i+=1,Ie=Ce=null,t.updateQueue=null,Yi.current=Gy,e=n(r,o)}while(Po)}if(Yi.current=xs,t=Ce!==null&&Ce.next!==null,Zn=0,Ie=Ce=ge=null,_s=!1,t)throw Error(F(300));return e}function Lu(){var e=Xo!==0;return Xo=0,e}function bt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ie===null?ge.memoizedState=Ie=e:Ie=Ie.next=e,Ie}function vt(){if(Ce===null){var e=ge.alternate;e=e!==null?e.memoizedState:null}else e=Ce.next;var t=Ie===null?ge.memoizedState:Ie.next;if(t!==null)Ie=t,Ce=e;else{if(e===null)throw Error(F(310));Ce=e,e={memoizedState:Ce.memoizedState,baseState:Ce.baseState,baseQueue:Ce.baseQueue,queue:Ce.queue,next:null},Ie===null?ge.memoizedState=Ie=e:Ie=Ie.next=e}return Ie}function Yo(e,t){return typeof t=="function"?t(e):t}function $l(e){var t=vt(),n=t.queue;if(n===null)throw Error(F(311));n.lastRenderedReducer=e;var r=Ce,o=r.baseQueue,i=n.pending;if(i!==null){if(o!==null){var s=o.next;o.next=i.next,i.next=s}r.baseQueue=o=i,n.pending=null}if(o!==null){i=o.next,r=r.baseState;var l=s=null,a=null,u=i;do{var c=u.lane;if((Zn&c)===c)a!==null&&(a=a.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var f={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};a===null?(l=a=f,s=r):a=a.next=f,ge.lanes|=c,qn|=c}u=u.next}while(u!==null&&u!==i);a===null?s=r:a.next=l,Pt(r,t.memoizedState)||(Ge=!0),t.memoizedState=r,t.baseState=s,t.baseQueue=a,n.lastRenderedState=r}if(e=n.interleaved,e!==null){o=e;do i=o.lane,ge.lanes|=i,qn|=i,o=o.next;while(o!==e)}else o===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Ml(e){var t=vt(),n=t.queue;if(n===null)throw Error(F(311));n.lastRenderedReducer=e;var r=n.dispatch,o=n.pending,i=t.memoizedState;if(o!==null){n.pending=null;var s=o=o.next;do i=e(i,s.action),s=s.next;while(s!==o);Pt(i,t.memoizedState)||(Ge=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),n.lastRenderedState=i}return[i,r]}function Vh(){}function Xh(e,t){var n=ge,r=vt(),o=t(),i=!Pt(r.memoizedState,o);if(i&&(r.memoizedState=o,Ge=!0),r=r.queue,Ou(Qh.bind(null,n,r,e),[e]),r.getSnapshot!==t||i||Ie!==null&&Ie.memoizedState.tag&1){if(n.flags|=2048,Ko(9,Kh.bind(null,n,r,o,t),void 0,null),Pe===null)throw Error(F(349));Zn&30||Yh(n,t,o)}return o}function Yh(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=ge.updateQueue,t===null?(t={lastEffect:null,stores:null},ge.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function Kh(e,t,n,r){t.value=n,t.getSnapshot=r,Gh(t)&&Zh(e)}function Qh(e,t,n){return n(function(){Gh(t)&&Zh(e)})}function Gh(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Pt(e,n)}catch{return!0}}function Zh(e){var t=qt(e,1);t!==null&&It(t,e,1,-1)}function uf(e){var t=bt();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Yo,lastRenderedState:e},t.queue=e,e=e.dispatch=Yy.bind(null,ge,e),[t.memoizedState,e]}function Ko(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=ge.updateQueue,t===null?(t={lastEffect:null,stores:null},ge.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function qh(){return vt().memoizedState}function Ki(e,t,n,r){var o=bt();ge.flags|=e,o.memoizedState=Ko(1|t,n,void 0,r===void 0?null:r)}function Ws(e,t,n,r){var o=vt();r=r===void 0?null:r;var i=void 0;if(Ce!==null){var s=Ce.memoizedState;if(i=s.destroy,r!==null&&Au(r,s.deps)){o.memoizedState=Ko(t,n,i,r);return}}ge.flags|=e,o.memoizedState=Ko(1|t,n,i,r)}function cf(e,t){return Ki(8390656,8,e,t)}function Ou(e,t){return Ws(2048,8,e,t)}function Jh(e,t){return Ws(4,2,e,t)}function ep(e,t){return Ws(4,4,e,t)}function tp(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function np(e,t,n){return n=n!=null?n.concat([e]):null,Ws(4,4,tp.bind(null,t,e),n)}function Hu(){}function rp(e,t){var n=vt();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Au(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function op(e,t){var n=vt();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Au(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function ip(e,t,n){return Zn&21?(Pt(n,t)||(n=ch(),ge.lanes|=n,qn|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Ge=!0),e.memoizedState=n)}function Vy(e,t){var n=ie;ie=n!==0&&4>n?n:4,e(!0);var r=Rl.transition;Rl.transition={};try{e(!1),t()}finally{ie=n,Rl.transition=r}}function sp(){return vt().memoizedState}function Xy(e,t,n){var r=xn(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},lp(e))ap(t,n);else if(n=jh(e,t,n,r),n!==null){var o=Xe();It(n,e,r,o),up(n,t,r)}}function Yy(e,t,n){var r=xn(e),o={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(lp(e))ap(t,o);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var s=t.lastRenderedState,l=i(s,n);if(o.hasEagerState=!0,o.eagerState=l,Pt(l,s)){var a=t.interleaved;a===null?(o.next=o,Ru(t)):(o.next=a.next,a.next=o),t.interleaved=o;return}}catch{}finally{}n=jh(e,t,o,r),n!==null&&(o=Xe(),It(n,e,r,o),up(n,t,r))}}function lp(e){var t=e.alternate;return e===ge||t!==null&&t===ge}function ap(e,t){Po=_s=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function up(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,mu(e,n)}}var xs={readContext:yt,useCallback:Oe,useContext:Oe,useEffect:Oe,useImperativeHandle:Oe,useInsertionEffect:Oe,useLayoutEffect:Oe,useMemo:Oe,useReducer:Oe,useRef:Oe,useState:Oe,useDebugValue:Oe,useDeferredValue:Oe,useTransition:Oe,useMutableSource:Oe,useSyncExternalStore:Oe,useId:Oe,unstable_isNewReconciler:!1},Ky={readContext:yt,useCallback:function(e,t){return bt().memoizedState=[e,t===void 0?null:t],e},useContext:yt,useEffect:cf,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,Ki(4194308,4,tp.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Ki(4194308,4,e,t)},useInsertionEffect:function(e,t){return Ki(4,2,e,t)},useMemo:function(e,t){var n=bt();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=bt();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=Xy.bind(null,ge,e),[r.memoizedState,e]},useRef:function(e){var t=bt();return e={current:e},t.memoizedState=e},useState:uf,useDebugValue:Hu,useDeferredValue:function(e){return bt().memoizedState=e},useTransition:function(){var e=uf(!1),t=e[0];return e=Vy.bind(null,e[1]),bt().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=ge,o=bt();if(de){if(n===void 0)throw Error(F(407));n=n()}else{if(n=t(),Pe===null)throw Error(F(349));Zn&30||Yh(r,t,n)}o.memoizedState=n;var i={value:n,getSnapshot:t};return o.queue=i,cf(Qh.bind(null,r,i,e),[e]),r.flags|=2048,Ko(9,Kh.bind(null,r,i,n,t),void 0,null),n},useId:function(){var e=bt(),t=Pe.identifierPrefix;if(de){var n=Xt,r=Vt;n=(r&~(1<<32-Tt(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=Xo++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=Wy++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Qy={readContext:yt,useCallback:rp,useContext:yt,useEffect:Ou,useImperativeHandle:np,useInsertionEffect:Jh,useLayoutEffect:ep,useMemo:op,useReducer:$l,useRef:qh,useState:function(){return $l(Yo)},useDebugValue:Hu,useDeferredValue:function(e){var t=vt();return ip(t,Ce.memoizedState,e)},useTransition:function(){var e=$l(Yo)[0],t=vt().memoizedState;return[e,t]},useMutableSource:Vh,useSyncExternalStore:Xh,useId:sp,unstable_isNewReconciler:!1},Gy={readContext:yt,useCallback:rp,useContext:yt,useEffect:Ou,useImperativeHandle:np,useInsertionEffect:Jh,useLayoutEffect:ep,useMemo:op,useReducer:Ml,useRef:qh,useState:function(){return Ml(Yo)},useDebugValue:Hu,useDeferredValue:function(e){var t=vt();return Ce===null?t.memoizedState=e:ip(t,Ce.memoizedState,e)},useTransition:function(){var e=Ml(Yo)[0],t=vt().memoizedState;return[e,t]},useMutableSource:Vh,useSyncExternalStore:Xh,useId:sp,unstable_isNewReconciler:!1};function xt(e,t){if(e&&e.defaultProps){t=me({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function Na(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:me({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Vs={isMounted:function(e){return(e=e._reactInternals)?or(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Xe(),o=xn(e),i=Kt(r,o);i.payload=t,n!=null&&(i.callback=n),t=wn(e,i,o),t!==null&&(It(t,e,o,r),Xi(t,e,o))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Xe(),o=xn(e),i=Kt(r,o);i.tag=1,i.payload=t,n!=null&&(i.callback=n),t=wn(e,i,o),t!==null&&(It(t,e,o,r),Xi(t,e,o))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Xe(),r=xn(e),o=Kt(n,r);o.tag=2,t!=null&&(o.callback=t),t=wn(e,o,r),t!==null&&(It(t,e,r,n),Xi(t,e,r))}};function ff(e,t,n,r,o,i,s){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,i,s):t.prototype&&t.prototype.isPureReactComponent?!Fo(n,r)||!Fo(o,i):!0}function cp(e,t,n){var r=!1,o=Cn,i=t.contextType;return typeof i=="object"&&i!==null?i=yt(i):(o=Je(t)?Qn:je.current,r=t.contextTypes,i=(r=r!=null)?Or(e,o):Cn),t=new t(n,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Vs,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=o,e.__reactInternalMemoizedMaskedChildContext=i),t}function df(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Vs.enqueueReplaceState(t,t.state,null)}function Ta(e,t,n,r){var o=e.stateNode;o.props=n,o.state=e.memoizedState,o.refs={},$u(e);var i=t.contextType;typeof i=="object"&&i!==null?o.context=yt(i):(i=Je(t)?Qn:je.current,o.context=Or(e,i)),o.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(Na(e,t,i,n),o.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof o.getSnapshotBeforeUpdate=="function"||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(t=o.state,typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount(),t!==o.state&&Vs.enqueueReplaceState(o,o.state,null),vs(e,n,o,r),o.state=e.memoizedState),typeof o.componentDidMount=="function"&&(e.flags|=4194308)}function jr(e,t){try{var n="",r=t;do n+=k0(r),r=r.return;while(r);var o=n}catch(i){o=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:o,digest:null}}function bl(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function Ia(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var Zy=typeof WeakMap=="function"?WeakMap:Map;function fp(e,t,n){n=Kt(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Es||(Es=!0,Oa=r),Ia(e,t)},n}function dp(e,t,n){n=Kt(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var o=t.value;n.payload=function(){return r(o)},n.callback=function(){Ia(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){Ia(e,t),typeof r!="function"&&(_n===null?_n=new Set([this]):_n.add(this));var s=t.stack;this.componentDidCatch(t.value,{componentStack:s!==null?s:""})}),n}function hf(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new Zy;var o=new Set;r.set(t,o)}else o=r.get(t),o===void 0&&(o=new Set,r.set(t,o));o.has(n)||(o.add(n),e=fv.bind(null,e,t,n),t.then(e,e))}function pf(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function gf(e,t,n,r,o){return e.mode&1?(e.flags|=65536,e.lanes=o,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=Kt(-1,1),t.tag=2,wn(n,t,1))),n.lanes|=1),e)}var qy=nn.ReactCurrentOwner,Ge=!1;function Ve(e,t,n,r){t.child=e===null?Bh(t,null,n,r):Fr(t,e.child,n,r)}function mf(e,t,n,r,o){n=n.render;var i=t.ref;return Mr(t,o),r=Du(e,t,n,r,i,o),n=Lu(),e!==null&&!Ge?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~o,Jt(e,t,o)):(de&&n&&ku(t),t.flags|=1,Ve(e,t,r,o),t.child)}function yf(e,t,n,r,o){if(e===null){var i=n.type;return typeof i=="function"&&!Yu(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=i,hp(e,t,i,r,o)):(e=qi(n.type,null,r,t,t.mode,o),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&o)){var s=i.memoizedProps;if(n=n.compare,n=n!==null?n:Fo,n(s,r)&&e.ref===t.ref)return Jt(e,t,o)}return t.flags|=1,e=Sn(i,r),e.ref=t.ref,e.return=t,t.child=e}function hp(e,t,n,r,o){if(e!==null){var i=e.memoizedProps;if(Fo(i,r)&&e.ref===t.ref)if(Ge=!1,t.pendingProps=r=i,(e.lanes&o)!==0)e.flags&131072&&(Ge=!0);else return t.lanes=e.lanes,Jt(e,t,o)}return Pa(e,t,n,r,o)}function pp(e,t,n){var r=t.pendingProps,o=r.children,i=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},le(Nr,nt),nt|=n;else{if(!(n&1073741824))return e=i!==null?i.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,le(Nr,nt),nt|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,le(Nr,nt),nt|=r}else i!==null?(r=i.baseLanes|n,t.memoizedState=null):r=n,le(Nr,nt),nt|=r;return Ve(e,t,o,n),t.child}function gp(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Pa(e,t,n,r,o){var i=Je(n)?Qn:je.current;return i=Or(t,i),Mr(t,o),n=Du(e,t,n,r,i,o),r=Lu(),e!==null&&!Ge?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~o,Jt(e,t,o)):(de&&r&&ku(t),t.flags|=1,Ve(e,t,n,o),t.child)}function vf(e,t,n,r,o){if(Je(n)){var i=!0;hs(t)}else i=!1;if(Mr(t,o),t.stateNode===null)Qi(e,t),cp(t,n,r),Ta(t,n,r,o),r=!0;else if(e===null){var s=t.stateNode,l=t.memoizedProps;s.props=l;var a=s.context,u=n.contextType;typeof u=="object"&&u!==null?u=yt(u):(u=Je(n)?Qn:je.current,u=Or(t,u));var c=n.getDerivedStateFromProps,f=typeof c=="function"||typeof s.getSnapshotBeforeUpdate=="function";f||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(l!==r||a!==u)&&df(t,s,r,u),ln=!1;var d=t.memoizedState;s.state=d,vs(t,r,s,o),a=t.memoizedState,l!==r||d!==a||qe.current||ln?(typeof c=="function"&&(Na(t,n,c,r),a=t.memoizedState),(l=ln||ff(t,n,l,r,d,a,u))?(f||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(t.flags|=4194308)):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=a),s.props=r,s.state=a,s.context=u,r=l):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{s=t.stateNode,Uh(e,t),l=t.memoizedProps,u=t.type===t.elementType?l:xt(t.type,l),s.props=u,f=t.pendingProps,d=s.context,a=n.contextType,typeof a=="object"&&a!==null?a=yt(a):(a=Je(n)?Qn:je.current,a=Or(t,a));var g=n.getDerivedStateFromProps;(c=typeof g=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(l!==f||d!==a)&&df(t,s,r,a),ln=!1,d=t.memoizedState,s.state=d,vs(t,r,s,o);var v=t.memoizedState;l!==f||d!==v||qe.current||ln?(typeof g=="function"&&(Na(t,n,g,r),v=t.memoizedState),(u=ln||ff(t,n,u,r,d,v,a)||!1)?(c||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(r,v,a),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(r,v,a)),typeof s.componentDidUpdate=="function"&&(t.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof s.componentDidUpdate!="function"||l===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=v),s.props=r,s.state=v,s.context=a,r=u):(typeof s.componentDidUpdate!="function"||l===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),r=!1)}return Ra(e,t,n,r,i,o)}function Ra(e,t,n,r,o,i){gp(e,t);var s=(t.flags&128)!==0;if(!r&&!s)return o&&nf(t,n,!1),Jt(e,t,i);r=t.stateNode,qy.current=t;var l=s&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&s?(t.child=Fr(t,e.child,null,i),t.child=Fr(t,null,l,i)):Ve(e,t,l,i),t.memoizedState=r.state,o&&nf(t,n,!0),t.child}function mp(e){var t=e.stateNode;t.pendingContext?tf(e,t.pendingContext,t.pendingContext!==t.context):t.context&&tf(e,t.context,!1),Mu(e,t.containerInfo)}function wf(e,t,n,r,o){return Hr(),Nu(o),t.flags|=256,Ve(e,t,n,r),t.child}var $a={dehydrated:null,treeContext:null,retryLane:0};function Ma(e){return{baseLanes:e,cachePool:null,transitions:null}}function yp(e,t,n){var r=t.pendingProps,o=he.current,i=!1,s=(t.flags&128)!==0,l;if((l=s)||(l=e!==null&&e.memoizedState===null?!1:(o&2)!==0),l?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(o|=1),le(he,o&1),e===null)return ka(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(s=r.children,e=r.fallback,i?(r=t.mode,i=t.child,s={mode:"hidden",children:s},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=s):i=Ks(s,r,0,null),e=Wn(e,r,n,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=Ma(n),t.memoizedState=$a,e):Fu(t,s));if(o=e.memoizedState,o!==null&&(l=o.dehydrated,l!==null))return Jy(e,t,s,r,l,o,n);if(i){i=r.fallback,s=t.mode,o=e.child,l=o.sibling;var a={mode:"hidden",children:r.children};return!(s&1)&&t.child!==o?(r=t.child,r.childLanes=0,r.pendingProps=a,t.deletions=null):(r=Sn(o,a),r.subtreeFlags=o.subtreeFlags&14680064),l!==null?i=Sn(l,i):(i=Wn(i,s,n,null),i.flags|=2),i.return=t,r.return=t,r.sibling=i,t.child=r,r=i,i=t.child,s=e.child.memoizedState,s=s===null?Ma(n):{baseLanes:s.baseLanes|n,cachePool:null,transitions:s.transitions},i.memoizedState=s,i.childLanes=e.childLanes&~n,t.memoizedState=$a,r}return i=e.child,e=i.sibling,r=Sn(i,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function Fu(e,t){return t=Ks({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Ti(e,t,n,r){return r!==null&&Nu(r),Fr(t,e.child,null,n),e=Fu(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Jy(e,t,n,r,o,i,s){if(n)return t.flags&256?(t.flags&=-257,r=bl(Error(F(422))),Ti(e,t,s,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=r.fallback,o=t.mode,r=Ks({mode:"visible",children:r.children},o,0,null),i=Wn(i,o,s,null),i.flags|=2,r.return=t,i.return=t,r.sibling=i,t.child=r,t.mode&1&&Fr(t,e.child,null,s),t.child.memoizedState=Ma(s),t.memoizedState=$a,i);if(!(t.mode&1))return Ti(e,t,s,null);if(o.data==="$!"){if(r=o.nextSibling&&o.nextSibling.dataset,r)var l=r.dgst;return r=l,i=Error(F(419)),r=bl(i,r,void 0),Ti(e,t,s,r)}if(l=(s&e.childLanes)!==0,Ge||l){if(r=Pe,r!==null){switch(s&-s){case 4:o=2;break;case 16:o=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:o=32;break;case 536870912:o=268435456;break;default:o=0}o=o&(r.suspendedLanes|s)?0:o,o!==0&&o!==i.retryLane&&(i.retryLane=o,qt(e,o),It(r,e,o,-1))}return Xu(),r=bl(Error(F(421))),Ti(e,t,s,r)}return o.data==="$?"?(t.flags|=128,t.child=e.child,t=dv.bind(null,e),o._reactRetry=t,null):(e=i.treeContext,rt=vn(o.nextSibling),it=t,de=!0,kt=null,e!==null&&(ct[ft++]=Vt,ct[ft++]=Xt,ct[ft++]=Gn,Vt=e.id,Xt=e.overflow,Gn=t),t=Fu(t,r.children),t.flags|=4096,t)}function _f(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),Ca(e.return,t,n)}function zl(e,t,n,r,o){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:o}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=o)}function vp(e,t,n){var r=t.pendingProps,o=r.revealOrder,i=r.tail;if(Ve(e,t,r.children,n),r=he.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&_f(e,n,t);else if(e.tag===19)_f(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(le(he,r),!(t.mode&1))t.memoizedState=null;else switch(o){case"forwards":for(n=t.child,o=null;n!==null;)e=n.alternate,e!==null&&ws(e)===null&&(o=n),n=n.sibling;n=o,n===null?(o=t.child,t.child=null):(o=n.sibling,n.sibling=null),zl(t,!1,o,n,i);break;case"backwards":for(n=null,o=t.child,t.child=null;o!==null;){if(e=o.alternate,e!==null&&ws(e)===null){t.child=o;break}e=o.sibling,o.sibling=n,n=o,o=e}zl(t,!0,n,null,i);break;case"together":zl(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Qi(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Jt(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),qn|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(F(153));if(t.child!==null){for(e=t.child,n=Sn(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Sn(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function ev(e,t,n){switch(t.tag){case 3:mp(t),Hr();break;case 5:Wh(t);break;case 1:Je(t.type)&&hs(t);break;case 4:Mu(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,o=t.memoizedProps.value;le(ms,r._currentValue),r._currentValue=o;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(le(he,he.current&1),t.flags|=128,null):n&t.child.childLanes?yp(e,t,n):(le(he,he.current&1),e=Jt(e,t,n),e!==null?e.sibling:null);le(he,he.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return vp(e,t,n);t.flags|=128}if(o=t.memoizedState,o!==null&&(o.rendering=null,o.tail=null,o.lastEffect=null),le(he,he.current),r)break;return null;case 22:case 23:return t.lanes=0,pp(e,t,n)}return Jt(e,t,n)}var wp,ba,_p,xp;wp=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};ba=function(){};_p=function(e,t,n,r){var o=e.memoizedProps;if(o!==r){e=t.stateNode,Fn(Dt.current);var i=null;switch(n){case"input":o=ta(e,o),r=ta(e,r),i=[];break;case"select":o=me({},o,{value:void 0}),r=me({},r,{value:void 0}),i=[];break;case"textarea":o=oa(e,o),r=oa(e,r),i=[];break;default:typeof o.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=fs)}sa(n,r);var s;n=null;for(u in o)if(!r.hasOwnProperty(u)&&o.hasOwnProperty(u)&&o[u]!=null)if(u==="style"){var l=o[u];for(s in l)l.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(bo.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in r){var a=r[u];if(l=o!=null?o[u]:void 0,r.hasOwnProperty(u)&&a!==l&&(a!=null||l!=null))if(u==="style")if(l){for(s in l)!l.hasOwnProperty(s)||a&&a.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in a)a.hasOwnProperty(s)&&l[s]!==a[s]&&(n||(n={}),n[s]=a[s])}else n||(i||(i=[]),i.push(u,n)),n=a;else u==="dangerouslySetInnerHTML"?(a=a?a.__html:void 0,l=l?l.__html:void 0,a!=null&&l!==a&&(i=i||[]).push(u,a)):u==="children"?typeof a!="string"&&typeof a!="number"||(i=i||[]).push(u,""+a):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(bo.hasOwnProperty(u)?(a!=null&&u==="onScroll"&&ue("scroll",e),i||l===a||(i=[])):(i=i||[]).push(u,a))}n&&(i=i||[]).push("style",n);var u=i;(t.updateQueue=u)&&(t.flags|=4)}};xp=function(e,t,n,r){n!==r&&(t.flags|=4)};function uo(e,t){if(!de)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function He(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var o=e.child;o!==null;)n|=o.lanes|o.childLanes,r|=o.subtreeFlags&14680064,r|=o.flags&14680064,o.return=e,o=o.sibling;else for(o=e.child;o!==null;)n|=o.lanes|o.childLanes,r|=o.subtreeFlags,r|=o.flags,o.return=e,o=o.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function tv(e,t,n){var r=t.pendingProps;switch(Cu(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return He(t),null;case 1:return Je(t.type)&&ds(),He(t),null;case 3:return r=t.stateNode,Br(),ce(qe),ce(je),zu(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(Ci(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,kt!==null&&(Ba(kt),kt=null))),ba(e,t),He(t),null;case 5:bu(t);var o=Fn(Vo.current);if(n=t.type,e!==null&&t.stateNode!=null)_p(e,t,n,r,o),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(F(166));return He(t),null}if(e=Fn(Dt.current),Ci(t)){r=t.stateNode,n=t.type;var i=t.memoizedProps;switch(r[zt]=t,r[Uo]=i,e=(t.mode&1)!==0,n){case"dialog":ue("cancel",r),ue("close",r);break;case"iframe":case"object":case"embed":ue("load",r);break;case"video":case"audio":for(o=0;o<_o.length;o++)ue(_o[o],r);break;case"source":ue("error",r);break;case"img":case"image":case"link":ue("error",r),ue("load",r);break;case"details":ue("toggle",r);break;case"input":Ic(r,i),ue("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},ue("invalid",r);break;case"textarea":Rc(r,i),ue("invalid",r)}sa(n,i),o=null;for(var s in i)if(i.hasOwnProperty(s)){var l=i[s];s==="children"?typeof l=="string"?r.textContent!==l&&(i.suppressHydrationWarning!==!0&&ki(r.textContent,l,e),o=["children",l]):typeof l=="number"&&r.textContent!==""+l&&(i.suppressHydrationWarning!==!0&&ki(r.textContent,l,e),o=["children",""+l]):bo.hasOwnProperty(s)&&l!=null&&s==="onScroll"&&ue("scroll",r)}switch(n){case"input":mi(r),Pc(r,i,!0);break;case"textarea":mi(r),$c(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=fs)}r=o,t.updateQueue=r,r!==null&&(t.flags|=4)}else{s=o.nodeType===9?o:o.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Qd(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=s.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=s.createElement(n,{is:r.is}):(e=s.createElement(n),n==="select"&&(s=e,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):e=s.createElementNS(e,n),e[zt]=t,e[Uo]=r,wp(e,t,!1,!1),t.stateNode=e;e:{switch(s=la(n,r),n){case"dialog":ue("cancel",e),ue("close",e),o=r;break;case"iframe":case"object":case"embed":ue("load",e),o=r;break;case"video":case"audio":for(o=0;o<_o.length;o++)ue(_o[o],e);o=r;break;case"source":ue("error",e),o=r;break;case"img":case"image":case"link":ue("error",e),ue("load",e),o=r;break;case"details":ue("toggle",e),o=r;break;case"input":Ic(e,r),o=ta(e,r),ue("invalid",e);break;case"option":o=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},o=me({},r,{value:void 0}),ue("invalid",e);break;case"textarea":Rc(e,r),o=oa(e,r),ue("invalid",e);break;default:o=r}sa(n,o),l=o;for(i in l)if(l.hasOwnProperty(i)){var a=l[i];i==="style"?qd(e,a):i==="dangerouslySetInnerHTML"?(a=a?a.__html:void 0,a!=null&&Gd(e,a)):i==="children"?typeof a=="string"?(n!=="textarea"||a!=="")&&zo(e,a):typeof a=="number"&&zo(e,""+a):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(bo.hasOwnProperty(i)?a!=null&&i==="onScroll"&&ue("scroll",e):a!=null&&cu(e,i,a,s))}switch(n){case"input":mi(e),Pc(e,r,!1);break;case"textarea":mi(e),$c(e);break;case"option":r.value!=null&&e.setAttribute("value",""+kn(r.value));break;case"select":e.multiple=!!r.multiple,i=r.value,i!=null?Ir(e,!!r.multiple,i,!1):r.defaultValue!=null&&Ir(e,!!r.multiple,r.defaultValue,!0);break;default:typeof o.onClick=="function"&&(e.onclick=fs)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return He(t),null;case 6:if(e&&t.stateNode!=null)xp(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(F(166));if(n=Fn(Vo.current),Fn(Dt.current),Ci(t)){if(r=t.stateNode,n=t.memoizedProps,r[zt]=t,(i=r.nodeValue!==n)&&(e=it,e!==null))switch(e.tag){case 3:ki(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&ki(r.nodeValue,n,(e.mode&1)!==0)}i&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[zt]=t,t.stateNode=r}return He(t),null;case 13:if(ce(he),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(de&&rt!==null&&t.mode&1&&!(t.flags&128))Hh(),Hr(),t.flags|=98560,i=!1;else if(i=Ci(t),r!==null&&r.dehydrated!==null){if(e===null){if(!i)throw Error(F(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(F(317));i[zt]=t}else Hr(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;He(t),i=!1}else kt!==null&&(Ba(kt),kt=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||he.current&1?Ne===0&&(Ne=3):Xu())),t.updateQueue!==null&&(t.flags|=4),He(t),null);case 4:return Br(),ba(e,t),e===null&&Bo(t.stateNode.containerInfo),He(t),null;case 10:return Pu(t.type._context),He(t),null;case 17:return Je(t.type)&&ds(),He(t),null;case 19:if(ce(he),i=t.memoizedState,i===null)return He(t),null;if(r=(t.flags&128)!==0,s=i.rendering,s===null)if(r)uo(i,!1);else{if(Ne!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(s=ws(e),s!==null){for(t.flags|=128,uo(i,!1),r=s.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)i=n,e=r,i.flags&=14680066,s=i.alternate,s===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=s.childLanes,i.lanes=s.lanes,i.child=s.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=s.memoizedProps,i.memoizedState=s.memoizedState,i.updateQueue=s.updateQueue,i.type=s.type,e=s.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return le(he,he.current&1|2),t.child}e=e.sibling}i.tail!==null&&_e()>Ur&&(t.flags|=128,r=!0,uo(i,!1),t.lanes=4194304)}else{if(!r)if(e=ws(s),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),uo(i,!0),i.tail===null&&i.tailMode==="hidden"&&!s.alternate&&!de)return He(t),null}else 2*_e()-i.renderingStartTime>Ur&&n!==1073741824&&(t.flags|=128,r=!0,uo(i,!1),t.lanes=4194304);i.isBackwards?(s.sibling=t.child,t.child=s):(n=i.last,n!==null?n.sibling=s:t.child=s,i.last=s)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=_e(),t.sibling=null,n=he.current,le(he,r?n&1|2:n&1),t):(He(t),null);case 22:case 23:return Vu(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?nt&1073741824&&(He(t),t.subtreeFlags&6&&(t.flags|=8192)):He(t),null;case 24:return null;case 25:return null}throw Error(F(156,t.tag))}function nv(e,t){switch(Cu(t),t.tag){case 1:return Je(t.type)&&ds(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Br(),ce(qe),ce(je),zu(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return bu(t),null;case 13:if(ce(he),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(F(340));Hr()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return ce(he),null;case 4:return Br(),null;case 10:return Pu(t.type._context),null;case 22:case 23:return Vu(),null;case 24:return null;default:return null}}var Ii=!1,Fe=!1,rv=typeof WeakSet=="function"?WeakSet:Set,V=null;function Cr(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){ye(e,t,r)}else n.current=null}function za(e,t,n){try{n()}catch(r){ye(e,t,r)}}var xf=!1;function ov(e,t){if(ya=as,e=Nh(),Eu(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var o=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var s=0,l=-1,a=-1,u=0,c=0,f=e,d=null;t:for(;;){for(var g;f!==n||o!==0&&f.nodeType!==3||(l=s+o),f!==i||r!==0&&f.nodeType!==3||(a=s+r),f.nodeType===3&&(s+=f.nodeValue.length),(g=f.firstChild)!==null;)d=f,f=g;for(;;){if(f===e)break t;if(d===n&&++u===o&&(l=s),d===i&&++c===r&&(a=s),(g=f.nextSibling)!==null)break;f=d,d=f.parentNode}f=g}n=l===-1||a===-1?null:{start:l,end:a}}else n=null}n=n||{start:0,end:0}}else n=null;for(va={focusedElem:e,selectionRange:n},as=!1,V=t;V!==null;)if(t=V,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,V=e;else for(;V!==null;){t=V;try{var v=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(v!==null){var y=v.memoizedProps,S=v.memoizedState,h=t.stateNode,p=h.getSnapshotBeforeUpdate(t.elementType===t.type?y:xt(t.type,y),S);h.__reactInternalSnapshotBeforeUpdate=p}break;case 3:var m=t.stateNode.containerInfo;m.nodeType===1?m.textContent="":m.nodeType===9&&m.documentElement&&m.removeChild(m.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(F(163))}}catch(w){ye(t,t.return,w)}if(e=t.sibling,e!==null){e.return=t.return,V=e;break}V=t.return}return v=xf,xf=!1,v}function Ro(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var o=r=r.next;do{if((o.tag&e)===e){var i=o.destroy;o.destroy=void 0,i!==void 0&&za(t,n,i)}o=o.next}while(o!==r)}}function Xs(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function Aa(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function Sp(e){var t=e.alternate;t!==null&&(e.alternate=null,Sp(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[zt],delete t[Uo],delete t[xa],delete t[Fy],delete t[By])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Ep(e){return e.tag===5||e.tag===3||e.tag===4}function Sf(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Ep(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Da(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=fs));else if(r!==4&&(e=e.child,e!==null))for(Da(e,t,n),e=e.sibling;e!==null;)Da(e,t,n),e=e.sibling}function La(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(La(e,t,n),e=e.sibling;e!==null;)La(e,t,n),e=e.sibling}var Me=null,St=!1;function rn(e,t,n){for(n=n.child;n!==null;)kp(e,t,n),n=n.sibling}function kp(e,t,n){if(At&&typeof At.onCommitFiberUnmount=="function")try{At.onCommitFiberUnmount(Os,n)}catch{}switch(n.tag){case 5:Fe||Cr(n,t);case 6:var r=Me,o=St;Me=null,rn(e,t,n),Me=r,St=o,Me!==null&&(St?(e=Me,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):Me.removeChild(n.stateNode));break;case 18:Me!==null&&(St?(e=Me,n=n.stateNode,e.nodeType===8?Tl(e.parentNode,n):e.nodeType===1&&Tl(e,n),Oo(e)):Tl(Me,n.stateNode));break;case 4:r=Me,o=St,Me=n.stateNode.containerInfo,St=!0,rn(e,t,n),Me=r,St=o;break;case 0:case 11:case 14:case 15:if(!Fe&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){o=r=r.next;do{var i=o,s=i.destroy;i=i.tag,s!==void 0&&(i&2||i&4)&&za(n,t,s),o=o.next}while(o!==r)}rn(e,t,n);break;case 1:if(!Fe&&(Cr(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(l){ye(n,t,l)}rn(e,t,n);break;case 21:rn(e,t,n);break;case 22:n.mode&1?(Fe=(r=Fe)||n.memoizedState!==null,rn(e,t,n),Fe=r):rn(e,t,n);break;default:rn(e,t,n)}}function Ef(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new rv),t.forEach(function(r){var o=hv.bind(null,e,r);n.has(r)||(n.add(r),r.then(o,o))})}}function _t(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var o=n[r];try{var i=e,s=t,l=s;e:for(;l!==null;){switch(l.tag){case 5:Me=l.stateNode,St=!1;break e;case 3:Me=l.stateNode.containerInfo,St=!0;break e;case 4:Me=l.stateNode.containerInfo,St=!0;break e}l=l.return}if(Me===null)throw Error(F(160));kp(i,s,o),Me=null,St=!1;var a=o.alternate;a!==null&&(a.return=null),o.return=null}catch(u){ye(o,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Cp(t,e),t=t.sibling}function Cp(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(_t(t,e),Mt(e),r&4){try{Ro(3,e,e.return),Xs(3,e)}catch(y){ye(e,e.return,y)}try{Ro(5,e,e.return)}catch(y){ye(e,e.return,y)}}break;case 1:_t(t,e),Mt(e),r&512&&n!==null&&Cr(n,n.return);break;case 5:if(_t(t,e),Mt(e),r&512&&n!==null&&Cr(n,n.return),e.flags&32){var o=e.stateNode;try{zo(o,"")}catch(y){ye(e,e.return,y)}}if(r&4&&(o=e.stateNode,o!=null)){var i=e.memoizedProps,s=n!==null?n.memoizedProps:i,l=e.type,a=e.updateQueue;if(e.updateQueue=null,a!==null)try{l==="input"&&i.type==="radio"&&i.name!=null&&Yd(o,i),la(l,s);var u=la(l,i);for(s=0;s<a.length;s+=2){var c=a[s],f=a[s+1];c==="style"?qd(o,f):c==="dangerouslySetInnerHTML"?Gd(o,f):c==="children"?zo(o,f):cu(o,c,f,u)}switch(l){case"input":na(o,i);break;case"textarea":Kd(o,i);break;case"select":var d=o._wrapperState.wasMultiple;o._wrapperState.wasMultiple=!!i.multiple;var g=i.value;g!=null?Ir(o,!!i.multiple,g,!1):d!==!!i.multiple&&(i.defaultValue!=null?Ir(o,!!i.multiple,i.defaultValue,!0):Ir(o,!!i.multiple,i.multiple?[]:"",!1))}o[Uo]=i}catch(y){ye(e,e.return,y)}}break;case 6:if(_t(t,e),Mt(e),r&4){if(e.stateNode===null)throw Error(F(162));o=e.stateNode,i=e.memoizedProps;try{o.nodeValue=i}catch(y){ye(e,e.return,y)}}break;case 3:if(_t(t,e),Mt(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Oo(t.containerInfo)}catch(y){ye(e,e.return,y)}break;case 4:_t(t,e),Mt(e);break;case 13:_t(t,e),Mt(e),o=e.child,o.flags&8192&&(i=o.memoizedState!==null,o.stateNode.isHidden=i,!i||o.alternate!==null&&o.alternate.memoizedState!==null||(Uu=_e())),r&4&&Ef(e);break;case 22:if(c=n!==null&&n.memoizedState!==null,e.mode&1?(Fe=(u=Fe)||c,_t(t,e),Fe=u):_t(t,e),Mt(e),r&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!c&&e.mode&1)for(V=e,c=e.child;c!==null;){for(f=V=c;V!==null;){switch(d=V,g=d.child,d.tag){case 0:case 11:case 14:case 15:Ro(4,d,d.return);break;case 1:Cr(d,d.return);var v=d.stateNode;if(typeof v.componentWillUnmount=="function"){r=d,n=d.return;try{t=r,v.props=t.memoizedProps,v.state=t.memoizedState,v.componentWillUnmount()}catch(y){ye(r,n,y)}}break;case 5:Cr(d,d.return);break;case 22:if(d.memoizedState!==null){Cf(f);continue}}g!==null?(g.return=d,V=g):Cf(f)}c=c.sibling}e:for(c=null,f=e;;){if(f.tag===5){if(c===null){c=f;try{o=f.stateNode,u?(i=o.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(l=f.stateNode,a=f.memoizedProps.style,s=a!=null&&a.hasOwnProperty("display")?a.display:null,l.style.display=Zd("display",s))}catch(y){ye(e,e.return,y)}}}else if(f.tag===6){if(c===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(y){ye(e,e.return,y)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;c===f&&(c=null),f=f.return}c===f&&(c=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:_t(t,e),Mt(e),r&4&&Ef(e);break;case 21:break;default:_t(t,e),Mt(e)}}function Mt(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(Ep(n)){var r=n;break e}n=n.return}throw Error(F(160))}switch(r.tag){case 5:var o=r.stateNode;r.flags&32&&(zo(o,""),r.flags&=-33);var i=Sf(e);La(e,i,o);break;case 3:case 4:var s=r.stateNode.containerInfo,l=Sf(e);Da(e,l,s);break;default:throw Error(F(161))}}catch(a){ye(e,e.return,a)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function iv(e,t,n){V=e,Np(e)}function Np(e,t,n){for(var r=(e.mode&1)!==0;V!==null;){var o=V,i=o.child;if(o.tag===22&&r){var s=o.memoizedState!==null||Ii;if(!s){var l=o.alternate,a=l!==null&&l.memoizedState!==null||Fe;l=Ii;var u=Fe;if(Ii=s,(Fe=a)&&!u)for(V=o;V!==null;)s=V,a=s.child,s.tag===22&&s.memoizedState!==null?Nf(o):a!==null?(a.return=s,V=a):Nf(o);for(;i!==null;)V=i,Np(i),i=i.sibling;V=o,Ii=l,Fe=u}kf(e)}else o.subtreeFlags&8772&&i!==null?(i.return=o,V=i):kf(e)}}function kf(e){for(;V!==null;){var t=V;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Fe||Xs(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!Fe)if(n===null)r.componentDidMount();else{var o=t.elementType===t.type?n.memoizedProps:xt(t.type,n.memoizedProps);r.componentDidUpdate(o,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&af(t,i,r);break;case 3:var s=t.updateQueue;if(s!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}af(t,s,n)}break;case 5:var l=t.stateNode;if(n===null&&t.flags&4){n=l;var a=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":a.autoFocus&&n.focus();break;case"img":a.src&&(n.src=a.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var c=u.memoizedState;if(c!==null){var f=c.dehydrated;f!==null&&Oo(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(F(163))}Fe||t.flags&512&&Aa(t)}catch(d){ye(t,t.return,d)}}if(t===e){V=null;break}if(n=t.sibling,n!==null){n.return=t.return,V=n;break}V=t.return}}function Cf(e){for(;V!==null;){var t=V;if(t===e){V=null;break}var n=t.sibling;if(n!==null){n.return=t.return,V=n;break}V=t.return}}function Nf(e){for(;V!==null;){var t=V;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{Xs(4,t)}catch(a){ye(t,n,a)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var o=t.return;try{r.componentDidMount()}catch(a){ye(t,o,a)}}var i=t.return;try{Aa(t)}catch(a){ye(t,i,a)}break;case 5:var s=t.return;try{Aa(t)}catch(a){ye(t,s,a)}}}catch(a){ye(t,t.return,a)}if(t===e){V=null;break}var l=t.sibling;if(l!==null){l.return=t.return,V=l;break}V=t.return}}var sv=Math.ceil,Ss=nn.ReactCurrentDispatcher,Bu=nn.ReactCurrentOwner,gt=nn.ReactCurrentBatchConfig,te=0,Pe=null,Se=null,be=0,nt=0,Nr=Tn(0),Ne=0,Qo=null,qn=0,Ys=0,ju=0,$o=null,Qe=null,Uu=0,Ur=1/0,Ut=null,Es=!1,Oa=null,_n=null,Pi=!1,pn=null,ks=0,Mo=0,Ha=null,Gi=-1,Zi=0;function Xe(){return te&6?_e():Gi!==-1?Gi:Gi=_e()}function xn(e){return e.mode&1?te&2&&be!==0?be&-be:Uy.transition!==null?(Zi===0&&(Zi=ch()),Zi):(e=ie,e!==0||(e=window.event,e=e===void 0?16:yh(e.type)),e):1}function It(e,t,n,r){if(50<Mo)throw Mo=0,Ha=null,Error(F(185));li(e,n,r),(!(te&2)||e!==Pe)&&(e===Pe&&(!(te&2)&&(Ys|=n),Ne===4&&fn(e,be)),et(e,r),n===1&&te===0&&!(t.mode&1)&&(Ur=_e()+500,Us&&In()))}function et(e,t){var n=e.callbackNode;U0(e,t);var r=ls(e,e===Pe?be:0);if(r===0)n!==null&&zc(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&zc(n),t===1)e.tag===0?jy(Tf.bind(null,e)):Dh(Tf.bind(null,e)),Oy(function(){!(te&6)&&In()}),n=null;else{switch(fh(r)){case 1:n=gu;break;case 4:n=ah;break;case 16:n=ss;break;case 536870912:n=uh;break;default:n=ss}n=zp(n,Tp.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function Tp(e,t){if(Gi=-1,Zi=0,te&6)throw Error(F(327));var n=e.callbackNode;if(br()&&e.callbackNode!==n)return null;var r=ls(e,e===Pe?be:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=Cs(e,r);else{t=r;var o=te;te|=2;var i=Pp();(Pe!==e||be!==t)&&(Ut=null,Ur=_e()+500,Un(e,t));do try{uv();break}catch(l){Ip(e,l)}while(!0);Iu(),Ss.current=i,te=o,Se!==null?t=0:(Pe=null,be=0,t=Ne)}if(t!==0){if(t===2&&(o=da(e),o!==0&&(r=o,t=Fa(e,o))),t===1)throw n=Qo,Un(e,0),fn(e,r),et(e,_e()),n;if(t===6)fn(e,r);else{if(o=e.current.alternate,!(r&30)&&!lv(o)&&(t=Cs(e,r),t===2&&(i=da(e),i!==0&&(r=i,t=Fa(e,i))),t===1))throw n=Qo,Un(e,0),fn(e,r),et(e,_e()),n;switch(e.finishedWork=o,e.finishedLanes=r,t){case 0:case 1:throw Error(F(345));case 2:Dn(e,Qe,Ut);break;case 3:if(fn(e,r),(r&130023424)===r&&(t=Uu+500-_e(),10<t)){if(ls(e,0)!==0)break;if(o=e.suspendedLanes,(o&r)!==r){Xe(),e.pingedLanes|=e.suspendedLanes&o;break}e.timeoutHandle=_a(Dn.bind(null,e,Qe,Ut),t);break}Dn(e,Qe,Ut);break;case 4:if(fn(e,r),(r&4194240)===r)break;for(t=e.eventTimes,o=-1;0<r;){var s=31-Tt(r);i=1<<s,s=t[s],s>o&&(o=s),r&=~i}if(r=o,r=_e()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*sv(r/1960))-r,10<r){e.timeoutHandle=_a(Dn.bind(null,e,Qe,Ut),r);break}Dn(e,Qe,Ut);break;case 5:Dn(e,Qe,Ut);break;default:throw Error(F(329))}}}return et(e,_e()),e.callbackNode===n?Tp.bind(null,e):null}function Fa(e,t){var n=$o;return e.current.memoizedState.isDehydrated&&(Un(e,t).flags|=256),e=Cs(e,t),e!==2&&(t=Qe,Qe=n,t!==null&&Ba(t)),e}function Ba(e){Qe===null?Qe=e:Qe.push.apply(Qe,e)}function lv(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var o=n[r],i=o.getSnapshot;o=o.value;try{if(!Pt(i(),o))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function fn(e,t){for(t&=~ju,t&=~Ys,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Tt(t),r=1<<n;e[n]=-1,t&=~r}}function Tf(e){if(te&6)throw Error(F(327));br();var t=ls(e,0);if(!(t&1))return et(e,_e()),null;var n=Cs(e,t);if(e.tag!==0&&n===2){var r=da(e);r!==0&&(t=r,n=Fa(e,r))}if(n===1)throw n=Qo,Un(e,0),fn(e,t),et(e,_e()),n;if(n===6)throw Error(F(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Dn(e,Qe,Ut),et(e,_e()),null}function Wu(e,t){var n=te;te|=1;try{return e(t)}finally{te=n,te===0&&(Ur=_e()+500,Us&&In())}}function Jn(e){pn!==null&&pn.tag===0&&!(te&6)&&br();var t=te;te|=1;var n=gt.transition,r=ie;try{if(gt.transition=null,ie=1,e)return e()}finally{ie=r,gt.transition=n,te=t,!(te&6)&&In()}}function Vu(){nt=Nr.current,ce(Nr)}function Un(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,Ly(n)),Se!==null)for(n=Se.return;n!==null;){var r=n;switch(Cu(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&ds();break;case 3:Br(),ce(qe),ce(je),zu();break;case 5:bu(r);break;case 4:Br();break;case 13:ce(he);break;case 19:ce(he);break;case 10:Pu(r.type._context);break;case 22:case 23:Vu()}n=n.return}if(Pe=e,Se=e=Sn(e.current,null),be=nt=t,Ne=0,Qo=null,ju=Ys=qn=0,Qe=$o=null,Hn!==null){for(t=0;t<Hn.length;t++)if(n=Hn[t],r=n.interleaved,r!==null){n.interleaved=null;var o=r.next,i=n.pending;if(i!==null){var s=i.next;i.next=o,r.next=s}n.pending=r}Hn=null}return e}function Ip(e,t){do{var n=Se;try{if(Iu(),Yi.current=xs,_s){for(var r=ge.memoizedState;r!==null;){var o=r.queue;o!==null&&(o.pending=null),r=r.next}_s=!1}if(Zn=0,Ie=Ce=ge=null,Po=!1,Xo=0,Bu.current=null,n===null||n.return===null){Ne=1,Qo=t,Se=null;break}e:{var i=e,s=n.return,l=n,a=t;if(t=be,l.flags|=32768,a!==null&&typeof a=="object"&&typeof a.then=="function"){var u=a,c=l,f=c.tag;if(!(c.mode&1)&&(f===0||f===11||f===15)){var d=c.alternate;d?(c.updateQueue=d.updateQueue,c.memoizedState=d.memoizedState,c.lanes=d.lanes):(c.updateQueue=null,c.memoizedState=null)}var g=pf(s);if(g!==null){g.flags&=-257,gf(g,s,l,i,t),g.mode&1&&hf(i,u,t),t=g,a=u;var v=t.updateQueue;if(v===null){var y=new Set;y.add(a),t.updateQueue=y}else v.add(a);break e}else{if(!(t&1)){hf(i,u,t),Xu();break e}a=Error(F(426))}}else if(de&&l.mode&1){var S=pf(s);if(S!==null){!(S.flags&65536)&&(S.flags|=256),gf(S,s,l,i,t),Nu(jr(a,l));break e}}i=a=jr(a,l),Ne!==4&&(Ne=2),$o===null?$o=[i]:$o.push(i),i=s;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var h=fp(i,a,t);lf(i,h);break e;case 1:l=a;var p=i.type,m=i.stateNode;if(!(i.flags&128)&&(typeof p.getDerivedStateFromError=="function"||m!==null&&typeof m.componentDidCatch=="function"&&(_n===null||!_n.has(m)))){i.flags|=65536,t&=-t,i.lanes|=t;var w=dp(i,l,t);lf(i,w);break e}}i=i.return}while(i!==null)}$p(n)}catch(E){t=E,Se===n&&n!==null&&(Se=n=n.return);continue}break}while(!0)}function Pp(){var e=Ss.current;return Ss.current=xs,e===null?xs:e}function Xu(){(Ne===0||Ne===3||Ne===2)&&(Ne=4),Pe===null||!(qn&268435455)&&!(Ys&268435455)||fn(Pe,be)}function Cs(e,t){var n=te;te|=2;var r=Pp();(Pe!==e||be!==t)&&(Ut=null,Un(e,t));do try{av();break}catch(o){Ip(e,o)}while(!0);if(Iu(),te=n,Ss.current=r,Se!==null)throw Error(F(261));return Pe=null,be=0,Ne}function av(){for(;Se!==null;)Rp(Se)}function uv(){for(;Se!==null&&!z0();)Rp(Se)}function Rp(e){var t=bp(e.alternate,e,nt);e.memoizedProps=e.pendingProps,t===null?$p(e):Se=t,Bu.current=null}function $p(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=nv(n,t),n!==null){n.flags&=32767,Se=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Ne=6,Se=null;return}}else if(n=tv(n,t,nt),n!==null){Se=n;return}if(t=t.sibling,t!==null){Se=t;return}Se=t=e}while(t!==null);Ne===0&&(Ne=5)}function Dn(e,t,n){var r=ie,o=gt.transition;try{gt.transition=null,ie=1,cv(e,t,n,r)}finally{gt.transition=o,ie=r}return null}function cv(e,t,n,r){do br();while(pn!==null);if(te&6)throw Error(F(327));n=e.finishedWork;var o=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(F(177));e.callbackNode=null,e.callbackPriority=0;var i=n.lanes|n.childLanes;if(W0(e,i),e===Pe&&(Se=Pe=null,be=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Pi||(Pi=!0,zp(ss,function(){return br(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=gt.transition,gt.transition=null;var s=ie;ie=1;var l=te;te|=4,Bu.current=null,ov(e,n),Cp(n,e),Ry(va),as=!!ya,va=ya=null,e.current=n,iv(n),A0(),te=l,ie=s,gt.transition=i}else e.current=n;if(Pi&&(Pi=!1,pn=e,ks=o),i=e.pendingLanes,i===0&&(_n=null),O0(n.stateNode),et(e,_e()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)o=t[n],r(o.value,{componentStack:o.stack,digest:o.digest});if(Es)throw Es=!1,e=Oa,Oa=null,e;return ks&1&&e.tag!==0&&br(),i=e.pendingLanes,i&1?e===Ha?Mo++:(Mo=0,Ha=e):Mo=0,In(),null}function br(){if(pn!==null){var e=fh(ks),t=gt.transition,n=ie;try{if(gt.transition=null,ie=16>e?16:e,pn===null)var r=!1;else{if(e=pn,pn=null,ks=0,te&6)throw Error(F(331));var o=te;for(te|=4,V=e.current;V!==null;){var i=V,s=i.child;if(V.flags&16){var l=i.deletions;if(l!==null){for(var a=0;a<l.length;a++){var u=l[a];for(V=u;V!==null;){var c=V;switch(c.tag){case 0:case 11:case 15:Ro(8,c,i)}var f=c.child;if(f!==null)f.return=c,V=f;else for(;V!==null;){c=V;var d=c.sibling,g=c.return;if(Sp(c),c===u){V=null;break}if(d!==null){d.return=g,V=d;break}V=g}}}var v=i.alternate;if(v!==null){var y=v.child;if(y!==null){v.child=null;do{var S=y.sibling;y.sibling=null,y=S}while(y!==null)}}V=i}}if(i.subtreeFlags&2064&&s!==null)s.return=i,V=s;else e:for(;V!==null;){if(i=V,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Ro(9,i,i.return)}var h=i.sibling;if(h!==null){h.return=i.return,V=h;break e}V=i.return}}var p=e.current;for(V=p;V!==null;){s=V;var m=s.child;if(s.subtreeFlags&2064&&m!==null)m.return=s,V=m;else e:for(s=p;V!==null;){if(l=V,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:Xs(9,l)}}catch(E){ye(l,l.return,E)}if(l===s){V=null;break e}var w=l.sibling;if(w!==null){w.return=l.return,V=w;break e}V=l.return}}if(te=o,In(),At&&typeof At.onPostCommitFiberRoot=="function")try{At.onPostCommitFiberRoot(Os,e)}catch{}r=!0}return r}finally{ie=n,gt.transition=t}}return!1}function If(e,t,n){t=jr(n,t),t=fp(e,t,1),e=wn(e,t,1),t=Xe(),e!==null&&(li(e,1,t),et(e,t))}function ye(e,t,n){if(e.tag===3)If(e,e,n);else for(;t!==null;){if(t.tag===3){If(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(_n===null||!_n.has(r))){e=jr(n,e),e=dp(t,e,1),t=wn(t,e,1),e=Xe(),t!==null&&(li(t,1,e),et(t,e));break}}t=t.return}}function fv(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=Xe(),e.pingedLanes|=e.suspendedLanes&n,Pe===e&&(be&n)===n&&(Ne===4||Ne===3&&(be&130023424)===be&&500>_e()-Uu?Un(e,0):ju|=n),et(e,t)}function Mp(e,t){t===0&&(e.mode&1?(t=wi,wi<<=1,!(wi&130023424)&&(wi=4194304)):t=1);var n=Xe();e=qt(e,t),e!==null&&(li(e,t,n),et(e,n))}function dv(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),Mp(e,n)}function hv(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,o=e.memoizedState;o!==null&&(n=o.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(F(314))}r!==null&&r.delete(t),Mp(e,n)}var bp;bp=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||qe.current)Ge=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return Ge=!1,ev(e,t,n);Ge=!!(e.flags&131072)}else Ge=!1,de&&t.flags&1048576&&Lh(t,gs,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Qi(e,t),e=t.pendingProps;var o=Or(t,je.current);Mr(t,n),o=Du(null,t,r,e,o,n);var i=Lu();return t.flags|=1,typeof o=="object"&&o!==null&&typeof o.render=="function"&&o.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Je(r)?(i=!0,hs(t)):i=!1,t.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,$u(t),o.updater=Vs,t.stateNode=o,o._reactInternals=t,Ta(t,r,e,n),t=Ra(null,t,r,!0,i,n)):(t.tag=0,de&&i&&ku(t),Ve(null,t,o,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Qi(e,t),e=t.pendingProps,o=r._init,r=o(r._payload),t.type=r,o=t.tag=gv(r),e=xt(r,e),o){case 0:t=Pa(null,t,r,e,n);break e;case 1:t=vf(null,t,r,e,n);break e;case 11:t=mf(null,t,r,e,n);break e;case 14:t=yf(null,t,r,xt(r.type,e),n);break e}throw Error(F(306,r,""))}return t;case 0:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:xt(r,o),Pa(e,t,r,o,n);case 1:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:xt(r,o),vf(e,t,r,o,n);case 3:e:{if(mp(t),e===null)throw Error(F(387));r=t.pendingProps,i=t.memoizedState,o=i.element,Uh(e,t),vs(t,r,null,n);var s=t.memoizedState;if(r=s.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){o=jr(Error(F(423)),t),t=wf(e,t,r,n,o);break e}else if(r!==o){o=jr(Error(F(424)),t),t=wf(e,t,r,n,o);break e}else for(rt=vn(t.stateNode.containerInfo.firstChild),it=t,de=!0,kt=null,n=Bh(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Hr(),r===o){t=Jt(e,t,n);break e}Ve(e,t,r,n)}t=t.child}return t;case 5:return Wh(t),e===null&&ka(t),r=t.type,o=t.pendingProps,i=e!==null?e.memoizedProps:null,s=o.children,wa(r,o)?s=null:i!==null&&wa(r,i)&&(t.flags|=32),gp(e,t),Ve(e,t,s,n),t.child;case 6:return e===null&&ka(t),null;case 13:return yp(e,t,n);case 4:return Mu(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=Fr(t,null,r,n):Ve(e,t,r,n),t.child;case 11:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:xt(r,o),mf(e,t,r,o,n);case 7:return Ve(e,t,t.pendingProps,n),t.child;case 8:return Ve(e,t,t.pendingProps.children,n),t.child;case 12:return Ve(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,o=t.pendingProps,i=t.memoizedProps,s=o.value,le(ms,r._currentValue),r._currentValue=s,i!==null)if(Pt(i.value,s)){if(i.children===o.children&&!qe.current){t=Jt(e,t,n);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var l=i.dependencies;if(l!==null){s=i.child;for(var a=l.firstContext;a!==null;){if(a.context===r){if(i.tag===1){a=Kt(-1,n&-n),a.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var c=u.pending;c===null?a.next=a:(a.next=c.next,c.next=a),u.pending=a}}i.lanes|=n,a=i.alternate,a!==null&&(a.lanes|=n),Ca(i.return,n,t),l.lanes|=n;break}a=a.next}}else if(i.tag===10)s=i.type===t.type?null:i.child;else if(i.tag===18){if(s=i.return,s===null)throw Error(F(341));s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),Ca(s,n,t),s=i.sibling}else s=i.child;if(s!==null)s.return=i;else for(s=i;s!==null;){if(s===t){s=null;break}if(i=s.sibling,i!==null){i.return=s.return,s=i;break}s=s.return}i=s}Ve(e,t,o.children,n),t=t.child}return t;case 9:return o=t.type,r=t.pendingProps.children,Mr(t,n),o=yt(o),r=r(o),t.flags|=1,Ve(e,t,r,n),t.child;case 14:return r=t.type,o=xt(r,t.pendingProps),o=xt(r.type,o),yf(e,t,r,o,n);case 15:return hp(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:xt(r,o),Qi(e,t),t.tag=1,Je(r)?(e=!0,hs(t)):e=!1,Mr(t,n),cp(t,r,o),Ta(t,r,o,n),Ra(null,t,r,!0,e,n);case 19:return vp(e,t,n);case 22:return pp(e,t,n)}throw Error(F(156,t.tag))};function zp(e,t){return lh(e,t)}function pv(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ht(e,t,n,r){return new pv(e,t,n,r)}function Yu(e){return e=e.prototype,!(!e||!e.isReactComponent)}function gv(e){if(typeof e=="function")return Yu(e)?1:0;if(e!=null){if(e=e.$$typeof,e===du)return 11;if(e===hu)return 14}return 2}function Sn(e,t){var n=e.alternate;return n===null?(n=ht(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function qi(e,t,n,r,o,i){var s=2;if(r=e,typeof e=="function")Yu(e)&&(s=1);else if(typeof e=="string")s=5;else e:switch(e){case mr:return Wn(n.children,o,i,t);case fu:s=8,o|=8;break;case Zl:return e=ht(12,n,t,o|2),e.elementType=Zl,e.lanes=i,e;case ql:return e=ht(13,n,t,o),e.elementType=ql,e.lanes=i,e;case Jl:return e=ht(19,n,t,o),e.elementType=Jl,e.lanes=i,e;case Wd:return Ks(n,o,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case jd:s=10;break e;case Ud:s=9;break e;case du:s=11;break e;case hu:s=14;break e;case sn:s=16,r=null;break e}throw Error(F(130,e==null?e:typeof e,""))}return t=ht(s,n,t,o),t.elementType=e,t.type=r,t.lanes=i,t}function Wn(e,t,n,r){return e=ht(7,e,r,t),e.lanes=n,e}function Ks(e,t,n,r){return e=ht(22,e,r,t),e.elementType=Wd,e.lanes=n,e.stateNode={isHidden:!1},e}function Al(e,t,n){return e=ht(6,e,null,t),e.lanes=n,e}function Dl(e,t,n){return t=ht(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function mv(e,t,n,r,o){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ml(0),this.expirationTimes=ml(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ml(0),this.identifierPrefix=r,this.onRecoverableError=o,this.mutableSourceEagerHydrationData=null}function Ku(e,t,n,r,o,i,s,l,a){return e=new mv(e,t,n,l,a),t===1?(t=1,i===!0&&(t|=8)):t=0,i=ht(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},$u(i),e}function yv(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:gr,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function Ap(e){if(!e)return Cn;e=e._reactInternals;e:{if(or(e)!==e||e.tag!==1)throw Error(F(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Je(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(F(171))}if(e.tag===1){var n=e.type;if(Je(n))return Ah(e,n,t)}return t}function Dp(e,t,n,r,o,i,s,l,a){return e=Ku(n,r,!0,e,o,i,s,l,a),e.context=Ap(null),n=e.current,r=Xe(),o=xn(n),i=Kt(r,o),i.callback=t??null,wn(n,i,o),e.current.lanes=o,li(e,o,r),et(e,r),e}function Qs(e,t,n,r){var o=t.current,i=Xe(),s=xn(o);return n=Ap(n),t.context===null?t.context=n:t.pendingContext=n,t=Kt(i,s),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=wn(o,t,s),e!==null&&(It(e,o,s,i),Xi(e,o,s)),s}function Ns(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Pf(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Qu(e,t){Pf(e,t),(e=e.alternate)&&Pf(e,t)}function vv(){return null}var Lp=typeof reportError=="function"?reportError:function(e){console.error(e)};function Gu(e){this._internalRoot=e}Gs.prototype.render=Gu.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(F(409));Qs(e,t,null,null)};Gs.prototype.unmount=Gu.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Jn(function(){Qs(null,e,null,null)}),t[Zt]=null}};function Gs(e){this._internalRoot=e}Gs.prototype.unstable_scheduleHydration=function(e){if(e){var t=ph();e={blockedOn:null,target:e,priority:t};for(var n=0;n<cn.length&&t!==0&&t<cn[n].priority;n++);cn.splice(n,0,e),n===0&&mh(e)}};function Zu(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Zs(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Rf(){}function wv(e,t,n,r,o){if(o){if(typeof r=="function"){var i=r;r=function(){var u=Ns(s);i.call(u)}}var s=Dp(t,r,e,0,null,!1,!1,"",Rf);return e._reactRootContainer=s,e[Zt]=s.current,Bo(e.nodeType===8?e.parentNode:e),Jn(),s}for(;o=e.lastChild;)e.removeChild(o);if(typeof r=="function"){var l=r;r=function(){var u=Ns(a);l.call(u)}}var a=Ku(e,0,!1,null,null,!1,!1,"",Rf);return e._reactRootContainer=a,e[Zt]=a.current,Bo(e.nodeType===8?e.parentNode:e),Jn(function(){Qs(t,a,n,r)}),a}function qs(e,t,n,r,o){var i=n._reactRootContainer;if(i){var s=i;if(typeof o=="function"){var l=o;o=function(){var a=Ns(s);l.call(a)}}Qs(t,s,e,o)}else s=wv(n,t,e,o,r);return Ns(s)}dh=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=wo(t.pendingLanes);n!==0&&(mu(t,n|1),et(t,_e()),!(te&6)&&(Ur=_e()+500,In()))}break;case 13:Jn(function(){var r=qt(e,1);if(r!==null){var o=Xe();It(r,e,1,o)}}),Qu(e,1)}};yu=function(e){if(e.tag===13){var t=qt(e,134217728);if(t!==null){var n=Xe();It(t,e,134217728,n)}Qu(e,134217728)}};hh=function(e){if(e.tag===13){var t=xn(e),n=qt(e,t);if(n!==null){var r=Xe();It(n,e,t,r)}Qu(e,t)}};ph=function(){return ie};gh=function(e,t){var n=ie;try{return ie=e,t()}finally{ie=n}};ua=function(e,t,n){switch(t){case"input":if(na(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var o=js(r);if(!o)throw Error(F(90));Xd(r),na(r,o)}}}break;case"textarea":Kd(e,n);break;case"select":t=n.value,t!=null&&Ir(e,!!n.multiple,t,!1)}};th=Wu;nh=Jn;var _v={usingClientEntryPoint:!1,Events:[ui,_r,js,Jd,eh,Wu]},co={findFiberByHostInstance:On,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},xv={bundleType:co.bundleType,version:co.version,rendererPackageName:co.rendererPackageName,rendererConfig:co.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:nn.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=ih(e),e===null?null:e.stateNode},findFiberByHostInstance:co.findFiberByHostInstance||vv,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ri=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ri.isDisabled&&Ri.supportsFiber)try{Os=Ri.inject(xv),At=Ri}catch{}}at.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=_v;at.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Zu(t))throw Error(F(200));return yv(e,t,null,n)};at.createRoot=function(e,t){if(!Zu(e))throw Error(F(299));var n=!1,r="",o=Lp;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(o=t.onRecoverableError)),t=Ku(e,1,!1,null,null,n,!1,r,o),e[Zt]=t.current,Bo(e.nodeType===8?e.parentNode:e),new Gu(t)};at.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(F(188)):(e=Object.keys(e).join(","),Error(F(268,e)));return e=ih(t),e=e===null?null:e.stateNode,e};at.flushSync=function(e){return Jn(e)};at.hydrate=function(e,t,n){if(!Zs(t))throw Error(F(200));return qs(null,e,t,!0,n)};at.hydrateRoot=function(e,t,n){if(!Zu(e))throw Error(F(405));var r=n!=null&&n.hydratedSources||null,o=!1,i="",s=Lp;if(n!=null&&(n.unstable_strictMode===!0&&(o=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(s=n.onRecoverableError)),t=Dp(t,null,e,1,n??null,o,!1,i,s),e[Zt]=t.current,Bo(e),r)for(e=0;e<r.length;e++)n=r[e],o=n._getVersion,o=o(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,o]:t.mutableSourceEagerHydrationData.push(n,o);return new Gs(t)};at.render=function(e,t,n){if(!Zs(t))throw Error(F(200));return qs(null,e,t,!1,n)};at.unmountComponentAtNode=function(e){if(!Zs(e))throw Error(F(40));return e._reactRootContainer?(Jn(function(){qs(null,null,e,!1,function(){e._reactRootContainer=null,e[Zt]=null})}),!0):!1};at.unstable_batchedUpdates=Wu;at.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Zs(n))throw Error(F(200));if(e==null||e._reactInternals===void 0)throw Error(F(38));return qs(e,t,n,!1,r)};at.version="18.3.1-next-f1338f8080-20240426";function Op(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Op)}catch(e){console.error(e)}}Op(),Od.exports=at;var Sv=Od.exports,$f=Sv;Ql.createRoot=$f.createRoot,Ql.hydrateRoot=$f.hydrateRoot;function Ae(e){if(typeof e=="string"||typeof e=="number")return""+e;let t="";if(Array.isArray(e))for(let n=0,r;n<e.length;n++)(r=Ae(e[n]))!==""&&(t+=(t&&" ")+r);else for(let n in e)e[n]&&(t+=(t&&" ")+n);return t}var Hp={exports:{}},Fp={},Bp={exports:{}},jp={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Wr=I;function Ev(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var kv=typeof Object.is=="function"?Object.is:Ev,Cv=Wr.useState,Nv=Wr.useEffect,Tv=Wr.useLayoutEffect,Iv=Wr.useDebugValue;function Pv(e,t){var n=t(),r=Cv({inst:{value:n,getSnapshot:t}}),o=r[0].inst,i=r[1];return Tv(function(){o.value=n,o.getSnapshot=t,Ll(o)&&i({inst:o})},[e,n,t]),Nv(function(){return Ll(o)&&i({inst:o}),e(function(){Ll(o)&&i({inst:o})})},[e]),Iv(n),n}function Ll(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!kv(e,n)}catch{return!0}}function Rv(e,t){return t()}var $v=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?Rv:Pv;jp.useSyncExternalStore=Wr.useSyncExternalStore!==void 0?Wr.useSyncExternalStore:$v;Bp.exports=jp;var Mv=Bp.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Js=I,bv=Mv;function zv(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Av=typeof Object.is=="function"?Object.is:zv,Dv=bv.useSyncExternalStore,Lv=Js.useRef,Ov=Js.useEffect,Hv=Js.useMemo,Fv=Js.useDebugValue;Fp.useSyncExternalStoreWithSelector=function(e,t,n,r,o){var i=Lv(null);if(i.current===null){var s={hasValue:!1,value:null};i.current=s}else s=i.current;i=Hv(function(){function a(g){if(!u){if(u=!0,c=g,g=r(g),o!==void 0&&s.hasValue){var v=s.value;if(o(v,g))return f=v}return f=g}if(v=f,Av(c,g))return v;var y=r(g);return o!==void 0&&o(v,y)?(c=g,v):(c=g,f=y)}var u=!1,c,f,d=n===void 0?null:n;return[function(){return a(t())},d===null?void 0:function(){return a(d())}]},[t,n,r,o]);var l=Dv(e,i[0],i[1]);return Ov(function(){s.hasValue=!0,s.value=l},[l]),Fv(l),l};Hp.exports=Fp;var Bv=Hp.exports;const jv=Nd(Bv),Uv={},Mf=e=>{let t;const n=new Set,r=(c,f)=>{const d=typeof c=="function"?c(t):c;if(!Object.is(d,t)){const g=t;t=f??(typeof d!="object"||d===null)?d:Object.assign({},t,d),n.forEach(v=>v(t,g))}},o=()=>t,a={setState:r,getState:o,getInitialState:()=>u,subscribe:c=>(n.add(c),()=>n.delete(c)),destroy:()=>{(Uv?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),n.clear()}},u=t=e(r,o,a);return a},Wv=e=>e?Mf(e):Mf,{useDebugValue:Vv}=M,{useSyncExternalStoreWithSelector:Xv}=jv,Yv=e=>e;function Up(e,t=Yv,n){const r=Xv(e.subscribe,e.getState,e.getServerState||e.getInitialState,t,n);return Vv(r),r}const bf=(e,t)=>{const n=Wv(e),r=(o,i=t)=>Up(n,o,i);return Object.assign(r,n),r},Kv=(e,t)=>e?bf(e,t):bf;function Re(e,t){if(Object.is(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;if(e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(const[r,o]of e)if(!Object.is(o,t.get(r)))return!1;return!0}if(e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(const r of e)if(!t.has(r))return!1;return!0}const n=Object.keys(e);if(n.length!==Object.keys(t).length)return!1;for(const r of n)if(!Object.prototype.hasOwnProperty.call(t,r)||!Object.is(e[r],t[r]))return!1;return!0}var Qv={value:()=>{}};function el(){for(var e=0,t=arguments.length,n={},r;e<t;++e){if(!(r=arguments[e]+"")||r in n||/[\s.]/.test(r))throw new Error("illegal type: "+r);n[r]=[]}return new Ji(n)}function Ji(e){this._=e}function Gv(e,t){return e.trim().split(/^|\s+/).map(function(n){var r="",o=n.indexOf(".");if(o>=0&&(r=n.slice(o+1),n=n.slice(0,o)),n&&!t.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:r}})}Ji.prototype=el.prototype={constructor:Ji,on:function(e,t){var n=this._,r=Gv(e+"",n),o,i=-1,s=r.length;if(arguments.length<2){for(;++i<s;)if((o=(e=r[i]).type)&&(o=Zv(n[o],e.name)))return o;return}if(t!=null&&typeof t!="function")throw new Error("invalid callback: "+t);for(;++i<s;)if(o=(e=r[i]).type)n[o]=zf(n[o],e.name,t);else if(t==null)for(o in n)n[o]=zf(n[o],e.name,null);return this},copy:function(){var e={},t=this._;for(var n in t)e[n]=t[n].slice();return new Ji(e)},call:function(e,t){if((o=arguments.length-2)>0)for(var n=new Array(o),r=0,o,i;r<o;++r)n[r]=arguments[r+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(i=this._[e],r=0,o=i.length;r<o;++r)i[r].value.apply(t,n)},apply:function(e,t,n){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var r=this._[e],o=0,i=r.length;o<i;++o)r[o].value.apply(t,n)}};function Zv(e,t){for(var n=0,r=e.length,o;n<r;++n)if((o=e[n]).name===t)return o.value}function zf(e,t,n){for(var r=0,o=e.length;r<o;++r)if(e[r].name===t){e[r]=Qv,e=e.slice(0,r).concat(e.slice(r+1));break}return n!=null&&e.push({name:t,value:n}),e}var ja="http://www.w3.org/1999/xhtml";const Af={svg:"http://www.w3.org/2000/svg",xhtml:ja,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function tl(e){var t=e+="",n=t.indexOf(":");return n>=0&&(t=e.slice(0,n))!=="xmlns"&&(e=e.slice(n+1)),Af.hasOwnProperty(t)?{space:Af[t],local:e}:e}function qv(e){return function(){var t=this.ownerDocument,n=this.namespaceURI;return n===ja&&t.documentElement.namespaceURI===ja?t.createElement(e):t.createElementNS(n,e)}}function Jv(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function Wp(e){var t=tl(e);return(t.local?Jv:qv)(t)}function ew(){}function qu(e){return e==null?ew:function(){return this.querySelector(e)}}function tw(e){typeof e!="function"&&(e=qu(e));for(var t=this._groups,n=t.length,r=new Array(n),o=0;o<n;++o)for(var i=t[o],s=i.length,l=r[o]=new Array(s),a,u,c=0;c<s;++c)(a=i[c])&&(u=e.call(a,a.__data__,c,i))&&("__data__"in a&&(u.__data__=a.__data__),l[c]=u);return new lt(r,this._parents)}function nw(e){return e==null?[]:Array.isArray(e)?e:Array.from(e)}function rw(){return[]}function Vp(e){return e==null?rw:function(){return this.querySelectorAll(e)}}function ow(e){return function(){return nw(e.apply(this,arguments))}}function iw(e){typeof e=="function"?e=ow(e):e=Vp(e);for(var t=this._groups,n=t.length,r=[],o=[],i=0;i<n;++i)for(var s=t[i],l=s.length,a,u=0;u<l;++u)(a=s[u])&&(r.push(e.call(a,a.__data__,u,s)),o.push(a));return new lt(r,o)}function Xp(e){return function(){return this.matches(e)}}function Yp(e){return function(t){return t.matches(e)}}var sw=Array.prototype.find;function lw(e){return function(){return sw.call(this.children,e)}}function aw(){return this.firstElementChild}function uw(e){return this.select(e==null?aw:lw(typeof e=="function"?e:Yp(e)))}var cw=Array.prototype.filter;function fw(){return Array.from(this.children)}function dw(e){return function(){return cw.call(this.children,e)}}function hw(e){return this.selectAll(e==null?fw:dw(typeof e=="function"?e:Yp(e)))}function pw(e){typeof e!="function"&&(e=Xp(e));for(var t=this._groups,n=t.length,r=new Array(n),o=0;o<n;++o)for(var i=t[o],s=i.length,l=r[o]=[],a,u=0;u<s;++u)(a=i[u])&&e.call(a,a.__data__,u,i)&&l.push(a);return new lt(r,this._parents)}function Kp(e){return new Array(e.length)}function gw(){return new lt(this._enter||this._groups.map(Kp),this._parents)}function Ts(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}Ts.prototype={constructor:Ts,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};function mw(e){return function(){return e}}function yw(e,t,n,r,o,i){for(var s=0,l,a=t.length,u=i.length;s<u;++s)(l=t[s])?(l.__data__=i[s],r[s]=l):n[s]=new Ts(e,i[s]);for(;s<a;++s)(l=t[s])&&(o[s]=l)}function vw(e,t,n,r,o,i,s){var l,a,u=new Map,c=t.length,f=i.length,d=new Array(c),g;for(l=0;l<c;++l)(a=t[l])&&(d[l]=g=s.call(a,a.__data__,l,t)+"",u.has(g)?o[l]=a:u.set(g,a));for(l=0;l<f;++l)g=s.call(e,i[l],l,i)+"",(a=u.get(g))?(r[l]=a,a.__data__=i[l],u.delete(g)):n[l]=new Ts(e,i[l]);for(l=0;l<c;++l)(a=t[l])&&u.get(d[l])===a&&(o[l]=a)}function ww(e){return e.__data__}function _w(e,t){if(!arguments.length)return Array.from(this,ww);var n=t?vw:yw,r=this._parents,o=this._groups;typeof e!="function"&&(e=mw(e));for(var i=o.length,s=new Array(i),l=new Array(i),a=new Array(i),u=0;u<i;++u){var c=r[u],f=o[u],d=f.length,g=xw(e.call(c,c&&c.__data__,u,r)),v=g.length,y=l[u]=new Array(v),S=s[u]=new Array(v),h=a[u]=new Array(d);n(c,f,y,S,h,g,t);for(var p=0,m=0,w,E;p<v;++p)if(w=y[p]){for(p>=m&&(m=p+1);!(E=S[m])&&++m<v;);w._next=E||null}}return s=new lt(s,r),s._enter=l,s._exit=a,s}function xw(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function Sw(){return new lt(this._exit||this._groups.map(Kp),this._parents)}function Ew(e,t,n){var r=this.enter(),o=this,i=this.exit();return typeof e=="function"?(r=e(r),r&&(r=r.selection())):r=r.append(e+""),t!=null&&(o=t(o),o&&(o=o.selection())),n==null?i.remove():n(i),r&&o?r.merge(o).order():o}function kw(e){for(var t=e.selection?e.selection():e,n=this._groups,r=t._groups,o=n.length,i=r.length,s=Math.min(o,i),l=new Array(o),a=0;a<s;++a)for(var u=n[a],c=r[a],f=u.length,d=l[a]=new Array(f),g,v=0;v<f;++v)(g=u[v]||c[v])&&(d[v]=g);for(;a<o;++a)l[a]=n[a];return new lt(l,this._parents)}function Cw(){for(var e=this._groups,t=-1,n=e.length;++t<n;)for(var r=e[t],o=r.length-1,i=r[o],s;--o>=0;)(s=r[o])&&(i&&s.compareDocumentPosition(i)^4&&i.parentNode.insertBefore(s,i),i=s);return this}function Nw(e){e||(e=Tw);function t(f,d){return f&&d?e(f.__data__,d.__data__):!f-!d}for(var n=this._groups,r=n.length,o=new Array(r),i=0;i<r;++i){for(var s=n[i],l=s.length,a=o[i]=new Array(l),u,c=0;c<l;++c)(u=s[c])&&(a[c]=u);a.sort(t)}return new lt(o,this._parents).order()}function Tw(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function Iw(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this}function Pw(){return Array.from(this)}function Rw(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],o=0,i=r.length;o<i;++o){var s=r[o];if(s)return s}return null}function $w(){let e=0;for(const t of this)++e;return e}function Mw(){return!this.node()}function bw(e){for(var t=this._groups,n=0,r=t.length;n<r;++n)for(var o=t[n],i=0,s=o.length,l;i<s;++i)(l=o[i])&&e.call(l,l.__data__,i,o);return this}function zw(e){return function(){this.removeAttribute(e)}}function Aw(e){return function(){this.removeAttributeNS(e.space,e.local)}}function Dw(e,t){return function(){this.setAttribute(e,t)}}function Lw(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function Ow(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttribute(e):this.setAttribute(e,n)}}function Hw(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,n)}}function Fw(e,t){var n=tl(e);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((t==null?n.local?Aw:zw:typeof t=="function"?n.local?Hw:Ow:n.local?Lw:Dw)(n,t))}function Qp(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function Bw(e){return function(){this.style.removeProperty(e)}}function jw(e,t,n){return function(){this.style.setProperty(e,t,n)}}function Uw(e,t,n){return function(){var r=t.apply(this,arguments);r==null?this.style.removeProperty(e):this.style.setProperty(e,r,n)}}function Ww(e,t,n){return arguments.length>1?this.each((t==null?Bw:typeof t=="function"?Uw:jw)(e,t,n??"")):Vr(this.node(),e)}function Vr(e,t){return e.style.getPropertyValue(t)||Qp(e).getComputedStyle(e,null).getPropertyValue(t)}function Vw(e){return function(){delete this[e]}}function Xw(e,t){return function(){this[e]=t}}function Yw(e,t){return function(){var n=t.apply(this,arguments);n==null?delete this[e]:this[e]=n}}function Kw(e,t){return arguments.length>1?this.each((t==null?Vw:typeof t=="function"?Yw:Xw)(e,t)):this.node()[e]}function Gp(e){return e.trim().split(/^|\s+/)}function Ju(e){return e.classList||new Zp(e)}function Zp(e){this._node=e,this._names=Gp(e.getAttribute("class")||"")}Zp.prototype={add:function(e){var t=this._names.indexOf(e);t<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};function qp(e,t){for(var n=Ju(e),r=-1,o=t.length;++r<o;)n.add(t[r])}function Jp(e,t){for(var n=Ju(e),r=-1,o=t.length;++r<o;)n.remove(t[r])}function Qw(e){return function(){qp(this,e)}}function Gw(e){return function(){Jp(this,e)}}function Zw(e,t){return function(){(t.apply(this,arguments)?qp:Jp)(this,e)}}function qw(e,t){var n=Gp(e+"");if(arguments.length<2){for(var r=Ju(this.node()),o=-1,i=n.length;++o<i;)if(!r.contains(n[o]))return!1;return!0}return this.each((typeof t=="function"?Zw:t?Qw:Gw)(n,t))}function Jw(){this.textContent=""}function e_(e){return function(){this.textContent=e}}function t_(e){return function(){var t=e.apply(this,arguments);this.textContent=t??""}}function n_(e){return arguments.length?this.each(e==null?Jw:(typeof e=="function"?t_:e_)(e)):this.node().textContent}function r_(){this.innerHTML=""}function o_(e){return function(){this.innerHTML=e}}function i_(e){return function(){var t=e.apply(this,arguments);this.innerHTML=t??""}}function s_(e){return arguments.length?this.each(e==null?r_:(typeof e=="function"?i_:o_)(e)):this.node().innerHTML}function l_(){this.nextSibling&&this.parentNode.appendChild(this)}function a_(){return this.each(l_)}function u_(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function c_(){return this.each(u_)}function f_(e){var t=typeof e=="function"?e:Wp(e);return this.select(function(){return this.appendChild(t.apply(this,arguments))})}function d_(){return null}function h_(e,t){var n=typeof e=="function"?e:Wp(e),r=t==null?d_:typeof t=="function"?t:qu(t);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})}function p_(){var e=this.parentNode;e&&e.removeChild(this)}function g_(){return this.each(p_)}function m_(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function y_(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function v_(e){return this.select(e?y_:m_)}function w_(e){return arguments.length?this.property("__data__",e):this.node().__data__}function __(e){return function(t){e.call(this,t,this.__data__)}}function x_(e){return e.trim().split(/^|\s+/).map(function(t){var n="",r=t.indexOf(".");return r>=0&&(n=t.slice(r+1),t=t.slice(0,r)),{type:t,name:n}})}function S_(e){return function(){var t=this.__on;if(t){for(var n=0,r=-1,o=t.length,i;n<o;++n)i=t[n],(!e.type||i.type===e.type)&&i.name===e.name?this.removeEventListener(i.type,i.listener,i.options):t[++r]=i;++r?t.length=r:delete this.__on}}}function E_(e,t,n){return function(){var r=this.__on,o,i=__(t);if(r){for(var s=0,l=r.length;s<l;++s)if((o=r[s]).type===e.type&&o.name===e.name){this.removeEventListener(o.type,o.listener,o.options),this.addEventListener(o.type,o.listener=i,o.options=n),o.value=t;return}}this.addEventListener(e.type,i,n),o={type:e.type,name:e.name,value:t,listener:i,options:n},r?r.push(o):this.__on=[o]}}function k_(e,t,n){var r=x_(e+""),o,i=r.length,s;if(arguments.length<2){var l=this.node().__on;if(l){for(var a=0,u=l.length,c;a<u;++a)for(o=0,c=l[a];o<i;++o)if((s=r[o]).type===c.type&&s.name===c.name)return c.value}return}for(l=t?E_:S_,o=0;o<i;++o)this.each(l(r[o],t,n));return this}function eg(e,t,n){var r=Qp(e),o=r.CustomEvent;typeof o=="function"?o=new o(t,n):(o=r.document.createEvent("Event"),n?(o.initEvent(t,n.bubbles,n.cancelable),o.detail=n.detail):o.initEvent(t,!1,!1)),e.dispatchEvent(o)}function C_(e,t){return function(){return eg(this,e,t)}}function N_(e,t){return function(){return eg(this,e,t.apply(this,arguments))}}function T_(e,t){return this.each((typeof t=="function"?N_:C_)(e,t))}function*I_(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],o=0,i=r.length,s;o<i;++o)(s=r[o])&&(yield s)}var tg=[null];function lt(e,t){this._groups=e,this._parents=t}function fi(){return new lt([[document.documentElement]],tg)}function P_(){return this}lt.prototype=fi.prototype={constructor:lt,select:tw,selectAll:iw,selectChild:uw,selectChildren:hw,filter:pw,data:_w,enter:gw,exit:Sw,join:Ew,merge:kw,selection:P_,order:Cw,sort:Nw,call:Iw,nodes:Pw,node:Rw,size:$w,empty:Mw,each:bw,attr:Fw,style:Ww,property:Kw,classed:qw,text:n_,html:s_,raise:a_,lower:c_,append:f_,insert:h_,remove:g_,clone:v_,datum:w_,on:k_,dispatch:T_,[Symbol.iterator]:I_};function dt(e){return typeof e=="string"?new lt([[document.querySelector(e)]],[document.documentElement]):new lt([[e]],tg)}function R_(e){let t;for(;t=e.sourceEvent;)e=t;return e}function Et(e,t){if(e=R_(e),t===void 0&&(t=e.currentTarget),t){var n=t.ownerSVGElement||t;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=e.clientX,r.y=e.clientY,r=r.matrixTransform(t.getScreenCTM().inverse()),[r.x,r.y]}if(t.getBoundingClientRect){var o=t.getBoundingClientRect();return[e.clientX-o.left-t.clientLeft,e.clientY-o.top-t.clientTop]}}return[e.pageX,e.pageY]}const $_={passive:!1},Go={capture:!0,passive:!1};function Ol(e){e.stopImmediatePropagation()}function zr(e){e.preventDefault(),e.stopImmediatePropagation()}function ng(e){var t=e.document.documentElement,n=dt(e).on("dragstart.drag",zr,Go);"onselectstart"in t?n.on("selectstart.drag",zr,Go):(t.__noselect=t.style.MozUserSelect,t.style.MozUserSelect="none")}function rg(e,t){var n=e.document.documentElement,r=dt(e).on("dragstart.drag",null);t&&(r.on("click.drag",zr,Go),setTimeout(function(){r.on("click.drag",null)},0)),"onselectstart"in n?r.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}const $i=e=>()=>e;function Ua(e,{sourceEvent:t,subject:n,target:r,identifier:o,active:i,x:s,y:l,dx:a,dy:u,dispatch:c}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},subject:{value:n,enumerable:!0,configurable:!0},target:{value:r,enumerable:!0,configurable:!0},identifier:{value:o,enumerable:!0,configurable:!0},active:{value:i,enumerable:!0,configurable:!0},x:{value:s,enumerable:!0,configurable:!0},y:{value:l,enumerable:!0,configurable:!0},dx:{value:a,enumerable:!0,configurable:!0},dy:{value:u,enumerable:!0,configurable:!0},_:{value:c}})}Ua.prototype.on=function(){var e=this._.on.apply(this._,arguments);return e===this._?this:e};function M_(e){return!e.ctrlKey&&!e.button}function b_(){return this.parentNode}function z_(e,t){return t??{x:e.x,y:e.y}}function A_(){return navigator.maxTouchPoints||"ontouchstart"in this}function D_(){var e=M_,t=b_,n=z_,r=A_,o={},i=el("start","drag","end"),s=0,l,a,u,c,f=0;function d(w){w.on("mousedown.drag",g).filter(r).on("touchstart.drag",S).on("touchmove.drag",h,$_).on("touchend.drag touchcancel.drag",p).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function g(w,E){if(!(c||!e.call(this,w,E))){var k=m(this,t.call(this,w,E),w,E,"mouse");k&&(dt(w.view).on("mousemove.drag",v,Go).on("mouseup.drag",y,Go),ng(w.view),Ol(w),u=!1,l=w.clientX,a=w.clientY,k("start",w))}}function v(w){if(zr(w),!u){var E=w.clientX-l,k=w.clientY-a;u=E*E+k*k>f}o.mouse("drag",w)}function y(w){dt(w.view).on("mousemove.drag mouseup.drag",null),rg(w.view,u),zr(w),o.mouse("end",w)}function S(w,E){if(e.call(this,w,E)){var k=w.changedTouches,T=t.call(this,w,E),R=k.length,b,z;for(b=0;b<R;++b)(z=m(this,T,w,E,k[b].identifier,k[b]))&&(Ol(w),z("start",w,k[b]))}}function h(w){var E=w.changedTouches,k=E.length,T,R;for(T=0;T<k;++T)(R=o[E[T].identifier])&&(zr(w),R("drag",w,E[T]))}function p(w){var E=w.changedTouches,k=E.length,T,R;for(c&&clearTimeout(c),c=setTimeout(function(){c=null},500),T=0;T<k;++T)(R=o[E[T].identifier])&&(Ol(w),R("end",w,E[T]))}function m(w,E,k,T,R,b){var z=i.copy(),H=Et(b||k,E),j,B,_;if((_=n.call(w,new Ua("beforestart",{sourceEvent:k,target:d,identifier:R,active:s,x:H[0],y:H[1],dx:0,dy:0,dispatch:z}),T))!=null)return j=_.x-H[0]||0,B=_.y-H[1]||0,function $(C,L,N){var x=H,P;switch(C){case"start":o[R]=$,P=s++;break;case"end":delete o[R],--s;case"drag":H=Et(N||L,E),P=s;break}z.call(C,w,new Ua(C,{sourceEvent:L,subject:_,target:d,identifier:R,active:P,x:H[0]+j,y:H[1]+B,dx:H[0]-x[0],dy:H[1]-x[1],dispatch:z}),T)}}return d.filter=function(w){return arguments.length?(e=typeof w=="function"?w:$i(!!w),d):e},d.container=function(w){return arguments.length?(t=typeof w=="function"?w:$i(w),d):t},d.subject=function(w){return arguments.length?(n=typeof w=="function"?w:$i(w),d):n},d.touchable=function(w){return arguments.length?(r=typeof w=="function"?w:$i(!!w),d):r},d.on=function(){var w=i.on.apply(i,arguments);return w===i?d:w},d.clickDistance=function(w){return arguments.length?(f=(w=+w)*w,d):Math.sqrt(f)},d}function ec(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function og(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function di(){}var Zo=.7,Is=1/Zo,Ar="\\s*([+-]?\\d+)\\s*",qo="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Lt="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",L_=/^#([0-9a-f]{3,8})$/,O_=new RegExp(`^rgb\\(${Ar},${Ar},${Ar}\\)$`),H_=new RegExp(`^rgb\\(${Lt},${Lt},${Lt}\\)$`),F_=new RegExp(`^rgba\\(${Ar},${Ar},${Ar},${qo}\\)$`),B_=new RegExp(`^rgba\\(${Lt},${Lt},${Lt},${qo}\\)$`),j_=new RegExp(`^hsl\\(${qo},${Lt},${Lt}\\)$`),U_=new RegExp(`^hsla\\(${qo},${Lt},${Lt},${qo}\\)$`),Df={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};ec(di,Jo,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:Lf,formatHex:Lf,formatHex8:W_,formatHsl:V_,formatRgb:Of,toString:Of});function Lf(){return this.rgb().formatHex()}function W_(){return this.rgb().formatHex8()}function V_(){return ig(this).formatHsl()}function Of(){return this.rgb().formatRgb()}function Jo(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=L_.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?Hf(t):n===3?new Ze(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?Mi(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?Mi(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=O_.exec(e))?new Ze(t[1],t[2],t[3],1):(t=H_.exec(e))?new Ze(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=F_.exec(e))?Mi(t[1],t[2],t[3],t[4]):(t=B_.exec(e))?Mi(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=j_.exec(e))?jf(t[1],t[2]/100,t[3]/100,1):(t=U_.exec(e))?jf(t[1],t[2]/100,t[3]/100,t[4]):Df.hasOwnProperty(e)?Hf(Df[e]):e==="transparent"?new Ze(NaN,NaN,NaN,0):null}function Hf(e){return new Ze(e>>16&255,e>>8&255,e&255,1)}function Mi(e,t,n,r){return r<=0&&(e=t=n=NaN),new Ze(e,t,n,r)}function X_(e){return e instanceof di||(e=Jo(e)),e?(e=e.rgb(),new Ze(e.r,e.g,e.b,e.opacity)):new Ze}function Wa(e,t,n,r){return arguments.length===1?X_(e):new Ze(e,t,n,r??1)}function Ze(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}ec(Ze,Wa,og(di,{brighter(e){return e=e==null?Is:Math.pow(Is,e),new Ze(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?Zo:Math.pow(Zo,e),new Ze(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Ze(Vn(this.r),Vn(this.g),Vn(this.b),Ps(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Ff,formatHex:Ff,formatHex8:Y_,formatRgb:Bf,toString:Bf}));function Ff(){return`#${Bn(this.r)}${Bn(this.g)}${Bn(this.b)}`}function Y_(){return`#${Bn(this.r)}${Bn(this.g)}${Bn(this.b)}${Bn((isNaN(this.opacity)?1:this.opacity)*255)}`}function Bf(){const e=Ps(this.opacity);return`${e===1?"rgb(":"rgba("}${Vn(this.r)}, ${Vn(this.g)}, ${Vn(this.b)}${e===1?")":`, ${e})`}`}function Ps(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Vn(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Bn(e){return e=Vn(e),(e<16?"0":"")+e.toString(16)}function jf(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new Ct(e,t,n,r)}function ig(e){if(e instanceof Ct)return new Ct(e.h,e.s,e.l,e.opacity);if(e instanceof di||(e=Jo(e)),!e)return new Ct;if(e instanceof Ct)return e;e=e.rgb();var t=e.r/255,n=e.g/255,r=e.b/255,o=Math.min(t,n,r),i=Math.max(t,n,r),s=NaN,l=i-o,a=(i+o)/2;return l?(t===i?s=(n-r)/l+(n<r)*6:n===i?s=(r-t)/l+2:s=(t-n)/l+4,l/=a<.5?i+o:2-i-o,s*=60):l=a>0&&a<1?0:s,new Ct(s,l,a,e.opacity)}function K_(e,t,n,r){return arguments.length===1?ig(e):new Ct(e,t,n,r??1)}function Ct(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}ec(Ct,K_,og(di,{brighter(e){return e=e==null?Is:Math.pow(Is,e),new Ct(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Zo:Math.pow(Zo,e),new Ct(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,o=2*n-r;return new Ze(Hl(e>=240?e-240:e+120,o,r),Hl(e,o,r),Hl(e<120?e+240:e-120,o,r),this.opacity)},clamp(){return new Ct(Uf(this.h),bi(this.s),bi(this.l),Ps(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=Ps(this.opacity);return`${e===1?"hsl(":"hsla("}${Uf(this.h)}, ${bi(this.s)*100}%, ${bi(this.l)*100}%${e===1?")":`, ${e})`}`}}));function Uf(e){return e=(e||0)%360,e<0?e+360:e}function bi(e){return Math.max(0,Math.min(1,e||0))}function Hl(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const sg=e=>()=>e;function Q_(e,t){return function(n){return e+n*t}}function G_(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}function Z_(e){return(e=+e)==1?lg:function(t,n){return n-t?G_(t,n,e):sg(isNaN(t)?n:t)}}function lg(e,t){var n=t-e;return n?Q_(e,n):sg(isNaN(e)?t:e)}const Wf=function e(t){var n=Z_(t);function r(o,i){var s=n((o=Wa(o)).r,(i=Wa(i)).r),l=n(o.g,i.g),a=n(o.b,i.b),u=lg(o.opacity,i.opacity);return function(c){return o.r=s(c),o.g=l(c),o.b=a(c),o.opacity=u(c),o+""}}return r.gamma=e,r}(1);function an(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}var Va=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Fl=new RegExp(Va.source,"g");function q_(e){return function(){return e}}function J_(e){return function(t){return e(t)+""}}function e1(e,t){var n=Va.lastIndex=Fl.lastIndex=0,r,o,i,s=-1,l=[],a=[];for(e=e+"",t=t+"";(r=Va.exec(e))&&(o=Fl.exec(t));)(i=o.index)>n&&(i=t.slice(n,i),l[s]?l[s]+=i:l[++s]=i),(r=r[0])===(o=o[0])?l[s]?l[s]+=o:l[++s]=o:(l[++s]=null,a.push({i:s,x:an(r,o)})),n=Fl.lastIndex;return n<t.length&&(i=t.slice(n),l[s]?l[s]+=i:l[++s]=i),l.length<2?a[0]?J_(a[0].x):q_(t):(t=a.length,function(u){for(var c=0,f;c<t;++c)l[(f=a[c]).i]=f.x(u);return l.join("")})}var Vf=180/Math.PI,Xa={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function ag(e,t,n,r,o,i){var s,l,a;return(s=Math.sqrt(e*e+t*t))&&(e/=s,t/=s),(a=e*n+t*r)&&(n-=e*a,r-=t*a),(l=Math.sqrt(n*n+r*r))&&(n/=l,r/=l,a/=l),e*r<t*n&&(e=-e,t=-t,a=-a,s=-s),{translateX:o,translateY:i,rotate:Math.atan2(t,e)*Vf,skewX:Math.atan(a)*Vf,scaleX:s,scaleY:l}}var zi;function t1(e){const t=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(e+"");return t.isIdentity?Xa:ag(t.a,t.b,t.c,t.d,t.e,t.f)}function n1(e){return e==null||(zi||(zi=document.createElementNS("http://www.w3.org/2000/svg","g")),zi.setAttribute("transform",e),!(e=zi.transform.baseVal.consolidate()))?Xa:(e=e.matrix,ag(e.a,e.b,e.c,e.d,e.e,e.f))}function ug(e,t,n,r){function o(u){return u.length?u.pop()+" ":""}function i(u,c,f,d,g,v){if(u!==f||c!==d){var y=g.push("translate(",null,t,null,n);v.push({i:y-4,x:an(u,f)},{i:y-2,x:an(c,d)})}else(f||d)&&g.push("translate("+f+t+d+n)}function s(u,c,f,d){u!==c?(u-c>180?c+=360:c-u>180&&(u+=360),d.push({i:f.push(o(f)+"rotate(",null,r)-2,x:an(u,c)})):c&&f.push(o(f)+"rotate("+c+r)}function l(u,c,f,d){u!==c?d.push({i:f.push(o(f)+"skewX(",null,r)-2,x:an(u,c)}):c&&f.push(o(f)+"skewX("+c+r)}function a(u,c,f,d,g,v){if(u!==f||c!==d){var y=g.push(o(g)+"scale(",null,",",null,")");v.push({i:y-4,x:an(u,f)},{i:y-2,x:an(c,d)})}else(f!==1||d!==1)&&g.push(o(g)+"scale("+f+","+d+")")}return function(u,c){var f=[],d=[];return u=e(u),c=e(c),i(u.translateX,u.translateY,c.translateX,c.translateY,f,d),s(u.rotate,c.rotate,f,d),l(u.skewX,c.skewX,f,d),a(u.scaleX,u.scaleY,c.scaleX,c.scaleY,f,d),u=c=null,function(g){for(var v=-1,y=d.length,S;++v<y;)f[(S=d[v]).i]=S.x(g);return f.join("")}}}var r1=ug(t1,"px, ","px)","deg)"),o1=ug(n1,", ",")",")"),i1=1e-12;function Xf(e){return((e=Math.exp(e))+1/e)/2}function s1(e){return((e=Math.exp(e))-1/e)/2}function l1(e){return((e=Math.exp(2*e))-1)/(e+1)}const a1=function e(t,n,r){function o(i,s){var l=i[0],a=i[1],u=i[2],c=s[0],f=s[1],d=s[2],g=c-l,v=f-a,y=g*g+v*v,S,h;if(y<i1)h=Math.log(d/u)/t,S=function(T){return[l+T*g,a+T*v,u*Math.exp(t*T*h)]};else{var p=Math.sqrt(y),m=(d*d-u*u+r*y)/(2*u*n*p),w=(d*d-u*u-r*y)/(2*d*n*p),E=Math.log(Math.sqrt(m*m+1)-m),k=Math.log(Math.sqrt(w*w+1)-w);h=(k-E)/t,S=function(T){var R=T*h,b=Xf(E),z=u/(n*p)*(b*l1(t*R+E)-s1(E));return[l+z*g,a+z*v,u*b/Xf(t*R+E)]}}return S.duration=h*1e3*t/Math.SQRT2,S}return o.rho=function(i){var s=Math.max(.001,+i),l=s*s,a=l*l;return e(s,l,a)},o}(Math.SQRT2,2,4);var Xr=0,xo=0,fo=0,cg=1e3,Rs,So,$s=0,er=0,nl=0,ei=typeof performance=="object"&&performance.now?performance:Date,fg=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function tc(){return er||(fg(u1),er=ei.now()+nl)}function u1(){er=0}function Ms(){this._call=this._time=this._next=null}Ms.prototype=dg.prototype={constructor:Ms,restart:function(e,t,n){if(typeof e!="function")throw new TypeError("callback is not a function");n=(n==null?tc():+n)+(t==null?0:+t),!this._next&&So!==this&&(So?So._next=this:Rs=this,So=this),this._call=e,this._time=n,Ya()},stop:function(){this._call&&(this._call=null,this._time=1/0,Ya())}};function dg(e,t,n){var r=new Ms;return r.restart(e,t,n),r}function c1(){tc(),++Xr;for(var e=Rs,t;e;)(t=er-e._time)>=0&&e._call.call(void 0,t),e=e._next;--Xr}function Yf(){er=($s=ei.now())+nl,Xr=xo=0;try{c1()}finally{Xr=0,d1(),er=0}}function f1(){var e=ei.now(),t=e-$s;t>cg&&(nl-=t,$s=e)}function d1(){for(var e,t=Rs,n,r=1/0;t;)t._call?(r>t._time&&(r=t._time),e=t,t=t._next):(n=t._next,t._next=null,t=e?e._next=n:Rs=n);So=e,Ya(r)}function Ya(e){if(!Xr){xo&&(xo=clearTimeout(xo));var t=e-er;t>24?(e<1/0&&(xo=setTimeout(Yf,e-ei.now()-nl)),fo&&(fo=clearInterval(fo))):(fo||($s=ei.now(),fo=setInterval(f1,cg)),Xr=1,fg(Yf))}}function Kf(e,t,n){var r=new Ms;return t=t==null?0:+t,r.restart(o=>{r.stop(),e(o+t)},t,n),r}var h1=el("start","end","cancel","interrupt"),p1=[],hg=0,Qf=1,Ka=2,es=3,Gf=4,Qa=5,ts=6;function rl(e,t,n,r,o,i){var s=e.__transition;if(!s)e.__transition={};else if(n in s)return;g1(e,n,{name:t,index:r,group:o,on:h1,tween:p1,time:i.time,delay:i.delay,duration:i.duration,ease:i.ease,timer:null,state:hg})}function nc(e,t){var n=Rt(e,t);if(n.state>hg)throw new Error("too late; already scheduled");return n}function Ot(e,t){var n=Rt(e,t);if(n.state>es)throw new Error("too late; already running");return n}function Rt(e,t){var n=e.__transition;if(!n||!(n=n[t]))throw new Error("transition not found");return n}function g1(e,t,n){var r=e.__transition,o;r[t]=n,n.timer=dg(i,0,n.time);function i(u){n.state=Qf,n.timer.restart(s,n.delay,n.time),n.delay<=u&&s(u-n.delay)}function s(u){var c,f,d,g;if(n.state!==Qf)return a();for(c in r)if(g=r[c],g.name===n.name){if(g.state===es)return Kf(s);g.state===Gf?(g.state=ts,g.timer.stop(),g.on.call("interrupt",e,e.__data__,g.index,g.group),delete r[c]):+c<t&&(g.state=ts,g.timer.stop(),g.on.call("cancel",e,e.__data__,g.index,g.group),delete r[c])}if(Kf(function(){n.state===es&&(n.state=Gf,n.timer.restart(l,n.delay,n.time),l(u))}),n.state=Ka,n.on.call("start",e,e.__data__,n.index,n.group),n.state===Ka){for(n.state=es,o=new Array(d=n.tween.length),c=0,f=-1;c<d;++c)(g=n.tween[c].value.call(e,e.__data__,n.index,n.group))&&(o[++f]=g);o.length=f+1}}function l(u){for(var c=u<n.duration?n.ease.call(null,u/n.duration):(n.timer.restart(a),n.state=Qa,1),f=-1,d=o.length;++f<d;)o[f].call(e,c);n.state===Qa&&(n.on.call("end",e,e.__data__,n.index,n.group),a())}function a(){n.state=ts,n.timer.stop(),delete r[t];for(var u in r)return;delete e.__transition}}function ns(e,t){var n=e.__transition,r,o,i=!0,s;if(n){t=t==null?null:t+"";for(s in n){if((r=n[s]).name!==t){i=!1;continue}o=r.state>Ka&&r.state<Qa,r.state=ts,r.timer.stop(),r.on.call(o?"interrupt":"cancel",e,e.__data__,r.index,r.group),delete n[s]}i&&delete e.__transition}}function m1(e){return this.each(function(){ns(this,e)})}function y1(e,t){var n,r;return function(){var o=Ot(this,e),i=o.tween;if(i!==n){r=n=i;for(var s=0,l=r.length;s<l;++s)if(r[s].name===t){r=r.slice(),r.splice(s,1);break}}o.tween=r}}function v1(e,t,n){var r,o;if(typeof n!="function")throw new Error;return function(){var i=Ot(this,e),s=i.tween;if(s!==r){o=(r=s).slice();for(var l={name:t,value:n},a=0,u=o.length;a<u;++a)if(o[a].name===t){o[a]=l;break}a===u&&o.push(l)}i.tween=o}}function w1(e,t){var n=this._id;if(e+="",arguments.length<2){for(var r=Rt(this.node(),n).tween,o=0,i=r.length,s;o<i;++o)if((s=r[o]).name===e)return s.value;return null}return this.each((t==null?y1:v1)(n,e,t))}function rc(e,t,n){var r=e._id;return e.each(function(){var o=Ot(this,r);(o.value||(o.value={}))[t]=n.apply(this,arguments)}),function(o){return Rt(o,r).value[t]}}function pg(e,t){var n;return(typeof t=="number"?an:t instanceof Jo?Wf:(n=Jo(t))?(t=n,Wf):e1)(e,t)}function _1(e){return function(){this.removeAttribute(e)}}function x1(e){return function(){this.removeAttributeNS(e.space,e.local)}}function S1(e,t,n){var r,o=n+"",i;return function(){var s=this.getAttribute(e);return s===o?null:s===r?i:i=t(r=s,n)}}function E1(e,t,n){var r,o=n+"",i;return function(){var s=this.getAttributeNS(e.space,e.local);return s===o?null:s===r?i:i=t(r=s,n)}}function k1(e,t,n){var r,o,i;return function(){var s,l=n(this),a;return l==null?void this.removeAttribute(e):(s=this.getAttribute(e),a=l+"",s===a?null:s===r&&a===o?i:(o=a,i=t(r=s,l)))}}function C1(e,t,n){var r,o,i;return function(){var s,l=n(this),a;return l==null?void this.removeAttributeNS(e.space,e.local):(s=this.getAttributeNS(e.space,e.local),a=l+"",s===a?null:s===r&&a===o?i:(o=a,i=t(r=s,l)))}}function N1(e,t){var n=tl(e),r=n==="transform"?o1:pg;return this.attrTween(e,typeof t=="function"?(n.local?C1:k1)(n,r,rc(this,"attr."+e,t)):t==null?(n.local?x1:_1)(n):(n.local?E1:S1)(n,r,t))}function T1(e,t){return function(n){this.setAttribute(e,t.call(this,n))}}function I1(e,t){return function(n){this.setAttributeNS(e.space,e.local,t.call(this,n))}}function P1(e,t){var n,r;function o(){var i=t.apply(this,arguments);return i!==r&&(n=(r=i)&&I1(e,i)),n}return o._value=t,o}function R1(e,t){var n,r;function o(){var i=t.apply(this,arguments);return i!==r&&(n=(r=i)&&T1(e,i)),n}return o._value=t,o}function $1(e,t){var n="attr."+e;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(t==null)return this.tween(n,null);if(typeof t!="function")throw new Error;var r=tl(e);return this.tween(n,(r.local?P1:R1)(r,t))}function M1(e,t){return function(){nc(this,e).delay=+t.apply(this,arguments)}}function b1(e,t){return t=+t,function(){nc(this,e).delay=t}}function z1(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?M1:b1)(t,e)):Rt(this.node(),t).delay}function A1(e,t){return function(){Ot(this,e).duration=+t.apply(this,arguments)}}function D1(e,t){return t=+t,function(){Ot(this,e).duration=t}}function L1(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?A1:D1)(t,e)):Rt(this.node(),t).duration}function O1(e,t){if(typeof t!="function")throw new Error;return function(){Ot(this,e).ease=t}}function H1(e){var t=this._id;return arguments.length?this.each(O1(t,e)):Rt(this.node(),t).ease}function F1(e,t){return function(){var n=t.apply(this,arguments);if(typeof n!="function")throw new Error;Ot(this,e).ease=n}}function B1(e){if(typeof e!="function")throw new Error;return this.each(F1(this._id,e))}function j1(e){typeof e!="function"&&(e=Xp(e));for(var t=this._groups,n=t.length,r=new Array(n),o=0;o<n;++o)for(var i=t[o],s=i.length,l=r[o]=[],a,u=0;u<s;++u)(a=i[u])&&e.call(a,a.__data__,u,i)&&l.push(a);return new en(r,this._parents,this._name,this._id)}function U1(e){if(e._id!==this._id)throw new Error;for(var t=this._groups,n=e._groups,r=t.length,o=n.length,i=Math.min(r,o),s=new Array(r),l=0;l<i;++l)for(var a=t[l],u=n[l],c=a.length,f=s[l]=new Array(c),d,g=0;g<c;++g)(d=a[g]||u[g])&&(f[g]=d);for(;l<r;++l)s[l]=t[l];return new en(s,this._parents,this._name,this._id)}function W1(e){return(e+"").trim().split(/^|\s+/).every(function(t){var n=t.indexOf(".");return n>=0&&(t=t.slice(0,n)),!t||t==="start"})}function V1(e,t,n){var r,o,i=W1(t)?nc:Ot;return function(){var s=i(this,e),l=s.on;l!==r&&(o=(r=l).copy()).on(t,n),s.on=o}}function X1(e,t){var n=this._id;return arguments.length<2?Rt(this.node(),n).on.on(e):this.each(V1(n,e,t))}function Y1(e){return function(){var t=this.parentNode;for(var n in this.__transition)if(+n!==e)return;t&&t.removeChild(this)}}function K1(){return this.on("end.remove",Y1(this._id))}function Q1(e){var t=this._name,n=this._id;typeof e!="function"&&(e=qu(e));for(var r=this._groups,o=r.length,i=new Array(o),s=0;s<o;++s)for(var l=r[s],a=l.length,u=i[s]=new Array(a),c,f,d=0;d<a;++d)(c=l[d])&&(f=e.call(c,c.__data__,d,l))&&("__data__"in c&&(f.__data__=c.__data__),u[d]=f,rl(u[d],t,n,d,u,Rt(c,n)));return new en(i,this._parents,t,n)}function G1(e){var t=this._name,n=this._id;typeof e!="function"&&(e=Vp(e));for(var r=this._groups,o=r.length,i=[],s=[],l=0;l<o;++l)for(var a=r[l],u=a.length,c,f=0;f<u;++f)if(c=a[f]){for(var d=e.call(c,c.__data__,f,a),g,v=Rt(c,n),y=0,S=d.length;y<S;++y)(g=d[y])&&rl(g,t,n,y,d,v);i.push(d),s.push(c)}return new en(i,s,t,n)}var Z1=fi.prototype.constructor;function q1(){return new Z1(this._groups,this._parents)}function J1(e,t){var n,r,o;return function(){var i=Vr(this,e),s=(this.style.removeProperty(e),Vr(this,e));return i===s?null:i===n&&s===r?o:o=t(n=i,r=s)}}function gg(e){return function(){this.style.removeProperty(e)}}function ex(e,t,n){var r,o=n+"",i;return function(){var s=Vr(this,e);return s===o?null:s===r?i:i=t(r=s,n)}}function tx(e,t,n){var r,o,i;return function(){var s=Vr(this,e),l=n(this),a=l+"";return l==null&&(a=l=(this.style.removeProperty(e),Vr(this,e))),s===a?null:s===r&&a===o?i:(o=a,i=t(r=s,l))}}function nx(e,t){var n,r,o,i="style."+t,s="end."+i,l;return function(){var a=Ot(this,e),u=a.on,c=a.value[i]==null?l||(l=gg(t)):void 0;(u!==n||o!==c)&&(r=(n=u).copy()).on(s,o=c),a.on=r}}function rx(e,t,n){var r=(e+="")=="transform"?r1:pg;return t==null?this.styleTween(e,J1(e,r)).on("end.style."+e,gg(e)):typeof t=="function"?this.styleTween(e,tx(e,r,rc(this,"style."+e,t))).each(nx(this._id,e)):this.styleTween(e,ex(e,r,t),n).on("end.style."+e,null)}function ox(e,t,n){return function(r){this.style.setProperty(e,t.call(this,r),n)}}function ix(e,t,n){var r,o;function i(){var s=t.apply(this,arguments);return s!==o&&(r=(o=s)&&ox(e,s,n)),r}return i._value=t,i}function sx(e,t,n){var r="style."+(e+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(t==null)return this.tween(r,null);if(typeof t!="function")throw new Error;return this.tween(r,ix(e,t,n??""))}function lx(e){return function(){this.textContent=e}}function ax(e){return function(){var t=e(this);this.textContent=t??""}}function ux(e){return this.tween("text",typeof e=="function"?ax(rc(this,"text",e)):lx(e==null?"":e+""))}function cx(e){return function(t){this.textContent=e.call(this,t)}}function fx(e){var t,n;function r(){var o=e.apply(this,arguments);return o!==n&&(t=(n=o)&&cx(o)),t}return r._value=e,r}function dx(e){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(e==null)return this.tween(t,null);if(typeof e!="function")throw new Error;return this.tween(t,fx(e))}function hx(){for(var e=this._name,t=this._id,n=mg(),r=this._groups,o=r.length,i=0;i<o;++i)for(var s=r[i],l=s.length,a,u=0;u<l;++u)if(a=s[u]){var c=Rt(a,t);rl(a,e,n,u,s,{time:c.time+c.delay+c.duration,delay:0,duration:c.duration,ease:c.ease})}return new en(r,this._parents,e,n)}function px(){var e,t,n=this,r=n._id,o=n.size();return new Promise(function(i,s){var l={value:s},a={value:function(){--o===0&&i()}};n.each(function(){var u=Ot(this,r),c=u.on;c!==e&&(t=(e=c).copy(),t._.cancel.push(l),t._.interrupt.push(l),t._.end.push(a)),u.on=t}),o===0&&i()})}var gx=0;function en(e,t,n,r){this._groups=e,this._parents=t,this._name=n,this._id=r}function mg(){return++gx}var jt=fi.prototype;en.prototype={constructor:en,select:Q1,selectAll:G1,selectChild:jt.selectChild,selectChildren:jt.selectChildren,filter:j1,merge:U1,selection:q1,transition:hx,call:jt.call,nodes:jt.nodes,node:jt.node,size:jt.size,empty:jt.empty,each:jt.each,on:X1,attr:N1,attrTween:$1,style:rx,styleTween:sx,text:ux,textTween:dx,remove:K1,tween:w1,delay:z1,duration:L1,ease:H1,easeVarying:B1,end:px,[Symbol.iterator]:jt[Symbol.iterator]};function mx(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}var yx={time:null,delay:0,duration:250,ease:mx};function vx(e,t){for(var n;!(n=e.__transition)||!(n=n[t]);)if(!(e=e.parentNode))throw new Error(`transition ${t} not found`);return n}function wx(e){var t,n;e instanceof en?(t=e._id,e=e._name):(t=mg(),(n=yx).time=tc(),e=e==null?null:e+"");for(var r=this._groups,o=r.length,i=0;i<o;++i)for(var s=r[i],l=s.length,a,u=0;u<l;++u)(a=s[u])&&rl(a,e,t,u,s,n||vx(a,t));return new en(r,this._parents,e,t)}fi.prototype.interrupt=m1;fi.prototype.transition=wx;const Ai=e=>()=>e;function _x(e,{sourceEvent:t,target:n,transform:r,dispatch:o}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},transform:{value:r,enumerable:!0,configurable:!0},_:{value:o}})}function Yt(e,t,n){this.k=e,this.x=t,this.y=n}Yt.prototype={constructor:Yt,scale:function(e){return e===1?this:new Yt(this.k*e,this.x,this.y)},translate:function(e,t){return e===0&t===0?this:new Yt(this.k,this.x+this.k*e,this.y+this.k*t)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var Qt=new Yt(1,0,0);Yt.prototype;function Bl(e){e.stopImmediatePropagation()}function ho(e){e.preventDefault(),e.stopImmediatePropagation()}function xx(e){return(!e.ctrlKey||e.type==="wheel")&&!e.button}function Sx(){var e=this;return e instanceof SVGElement?(e=e.ownerSVGElement||e,e.hasAttribute("viewBox")?(e=e.viewBox.baseVal,[[e.x,e.y],[e.x+e.width,e.y+e.height]]):[[0,0],[e.width.baseVal.value,e.height.baseVal.value]]):[[0,0],[e.clientWidth,e.clientHeight]]}function Zf(){return this.__zoom||Qt}function Ex(e){return-e.deltaY*(e.deltaMode===1?.05:e.deltaMode?1:.002)*(e.ctrlKey?10:1)}function kx(){return navigator.maxTouchPoints||"ontouchstart"in this}function Cx(e,t,n){var r=e.invertX(t[0][0])-n[0][0],o=e.invertX(t[1][0])-n[1][0],i=e.invertY(t[0][1])-n[0][1],s=e.invertY(t[1][1])-n[1][1];return e.translate(o>r?(r+o)/2:Math.min(0,r)||Math.max(0,o),s>i?(i+s)/2:Math.min(0,i)||Math.max(0,s))}function yg(){var e=xx,t=Sx,n=Cx,r=Ex,o=kx,i=[0,1/0],s=[[-1/0,-1/0],[1/0,1/0]],l=250,a=a1,u=el("start","zoom","end"),c,f,d,g=500,v=150,y=0,S=10;function h(_){_.property("__zoom",Zf).on("wheel.zoom",R,{passive:!1}).on("mousedown.zoom",b).on("dblclick.zoom",z).filter(o).on("touchstart.zoom",H).on("touchmove.zoom",j).on("touchend.zoom touchcancel.zoom",B).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}h.transform=function(_,$,C,L){var N=_.selection?_.selection():_;N.property("__zoom",Zf),_!==N?E(_,$,C,L):N.interrupt().each(function(){k(this,arguments).event(L).start().zoom(null,typeof $=="function"?$.apply(this,arguments):$).end()})},h.scaleBy=function(_,$,C,L){h.scaleTo(_,function(){var N=this.__zoom.k,x=typeof $=="function"?$.apply(this,arguments):$;return N*x},C,L)},h.scaleTo=function(_,$,C,L){h.transform(_,function(){var N=t.apply(this,arguments),x=this.__zoom,P=C==null?w(N):typeof C=="function"?C.apply(this,arguments):C,D=x.invert(P),O=typeof $=="function"?$.apply(this,arguments):$;return n(m(p(x,O),P,D),N,s)},C,L)},h.translateBy=function(_,$,C,L){h.transform(_,function(){return n(this.__zoom.translate(typeof $=="function"?$.apply(this,arguments):$,typeof C=="function"?C.apply(this,arguments):C),t.apply(this,arguments),s)},null,L)},h.translateTo=function(_,$,C,L,N){h.transform(_,function(){var x=t.apply(this,arguments),P=this.__zoom,D=L==null?w(x):typeof L=="function"?L.apply(this,arguments):L;return n(Qt.translate(D[0],D[1]).scale(P.k).translate(typeof $=="function"?-$.apply(this,arguments):-$,typeof C=="function"?-C.apply(this,arguments):-C),x,s)},L,N)};function p(_,$){return $=Math.max(i[0],Math.min(i[1],$)),$===_.k?_:new Yt($,_.x,_.y)}function m(_,$,C){var L=$[0]-C[0]*_.k,N=$[1]-C[1]*_.k;return L===_.x&&N===_.y?_:new Yt(_.k,L,N)}function w(_){return[(+_[0][0]+ +_[1][0])/2,(+_[0][1]+ +_[1][1])/2]}function E(_,$,C,L){_.on("start.zoom",function(){k(this,arguments).event(L).start()}).on("interrupt.zoom end.zoom",function(){k(this,arguments).event(L).end()}).tween("zoom",function(){var N=this,x=arguments,P=k(N,x).event(L),D=t.apply(N,x),O=C==null?w(D):typeof C=="function"?C.apply(N,x):C,W=Math.max(D[1][0]-D[0][0],D[1][1]-D[0][1]),U=N.__zoom,Y=typeof $=="function"?$.apply(N,x):$,G=a(U.invert(O).concat(W/U.k),Y.invert(O).concat(W/Y.k));return function(q){if(q===1)q=Y;else{var oe=G(q),re=W/oe[2];q=new Yt(re,O[0]-oe[0]*re,O[1]-oe[1]*re)}P.zoom(null,q)}})}function k(_,$,C){return!C&&_.__zooming||new T(_,$)}function T(_,$){this.that=_,this.args=$,this.active=0,this.sourceEvent=null,this.extent=t.apply(_,$),this.taps=0}T.prototype={event:function(_){return _&&(this.sourceEvent=_),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(_,$){return this.mouse&&_!=="mouse"&&(this.mouse[1]=$.invert(this.mouse[0])),this.touch0&&_!=="touch"&&(this.touch0[1]=$.invert(this.touch0[0])),this.touch1&&_!=="touch"&&(this.touch1[1]=$.invert(this.touch1[0])),this.that.__zoom=$,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(_){var $=dt(this.that).datum();u.call(_,this.that,new _x(_,{sourceEvent:this.sourceEvent,target:h,transform:this.that.__zoom,dispatch:u}),$)}};function R(_,...$){if(!e.apply(this,arguments))return;var C=k(this,$).event(_),L=this.__zoom,N=Math.max(i[0],Math.min(i[1],L.k*Math.pow(2,r.apply(this,arguments)))),x=Et(_);if(C.wheel)(C.mouse[0][0]!==x[0]||C.mouse[0][1]!==x[1])&&(C.mouse[1]=L.invert(C.mouse[0]=x)),clearTimeout(C.wheel);else{if(L.k===N)return;C.mouse=[x,L.invert(x)],ns(this),C.start()}ho(_),C.wheel=setTimeout(P,v),C.zoom("mouse",n(m(p(L,N),C.mouse[0],C.mouse[1]),C.extent,s));function P(){C.wheel=null,C.end()}}function b(_,...$){if(d||!e.apply(this,arguments))return;var C=_.currentTarget,L=k(this,$,!0).event(_),N=dt(_.view).on("mousemove.zoom",O,!0).on("mouseup.zoom",W,!0),x=Et(_,C),P=_.clientX,D=_.clientY;ng(_.view),Bl(_),L.mouse=[x,this.__zoom.invert(x)],ns(this),L.start();function O(U){if(ho(U),!L.moved){var Y=U.clientX-P,G=U.clientY-D;L.moved=Y*Y+G*G>y}L.event(U).zoom("mouse",n(m(L.that.__zoom,L.mouse[0]=Et(U,C),L.mouse[1]),L.extent,s))}function W(U){N.on("mousemove.zoom mouseup.zoom",null),rg(U.view,L.moved),ho(U),L.event(U).end()}}function z(_,...$){if(e.apply(this,arguments)){var C=this.__zoom,L=Et(_.changedTouches?_.changedTouches[0]:_,this),N=C.invert(L),x=C.k*(_.shiftKey?.5:2),P=n(m(p(C,x),L,N),t.apply(this,$),s);ho(_),l>0?dt(this).transition().duration(l).call(E,P,L,_):dt(this).call(h.transform,P,L,_)}}function H(_,...$){if(e.apply(this,arguments)){var C=_.touches,L=C.length,N=k(this,$,_.changedTouches.length===L).event(_),x,P,D,O;for(Bl(_),P=0;P<L;++P)D=C[P],O=Et(D,this),O=[O,this.__zoom.invert(O),D.identifier],N.touch0?!N.touch1&&N.touch0[2]!==O[2]&&(N.touch1=O,N.taps=0):(N.touch0=O,x=!0,N.taps=1+!!c);c&&(c=clearTimeout(c)),x&&(N.taps<2&&(f=O[0],c=setTimeout(function(){c=null},g)),ns(this),N.start())}}function j(_,...$){if(this.__zooming){var C=k(this,$).event(_),L=_.changedTouches,N=L.length,x,P,D,O;for(ho(_),x=0;x<N;++x)P=L[x],D=Et(P,this),C.touch0&&C.touch0[2]===P.identifier?C.touch0[0]=D:C.touch1&&C.touch1[2]===P.identifier&&(C.touch1[0]=D);if(P=C.that.__zoom,C.touch1){var W=C.touch0[0],U=C.touch0[1],Y=C.touch1[0],G=C.touch1[1],q=(q=Y[0]-W[0])*q+(q=Y[1]-W[1])*q,oe=(oe=G[0]-U[0])*oe+(oe=G[1]-U[1])*oe;P=p(P,Math.sqrt(q/oe)),D=[(W[0]+Y[0])/2,(W[1]+Y[1])/2],O=[(U[0]+G[0])/2,(U[1]+G[1])/2]}else if(C.touch0)D=C.touch0[0],O=C.touch0[1];else return;C.zoom("touch",n(m(P,D,O),C.extent,s))}}function B(_,...$){if(this.__zooming){var C=k(this,$).event(_),L=_.changedTouches,N=L.length,x,P;for(Bl(_),d&&clearTimeout(d),d=setTimeout(function(){d=null},g),x=0;x<N;++x)P=L[x],C.touch0&&C.touch0[2]===P.identifier?delete C.touch0:C.touch1&&C.touch1[2]===P.identifier&&delete C.touch1;if(C.touch1&&!C.touch0&&(C.touch0=C.touch1,delete C.touch1),C.touch0)C.touch0[1]=this.__zoom.invert(C.touch0[0]);else if(C.end(),C.taps===2&&(P=Et(P,this),Math.hypot(f[0]-P[0],f[1]-P[1])<S)){var D=dt(this).on("dblclick.zoom");D&&D.apply(this,arguments)}}}return h.wheelDelta=function(_){return arguments.length?(r=typeof _=="function"?_:Ai(+_),h):r},h.filter=function(_){return arguments.length?(e=typeof _=="function"?_:Ai(!!_),h):e},h.touchable=function(_){return arguments.length?(o=typeof _=="function"?_:Ai(!!_),h):o},h.extent=function(_){return arguments.length?(t=typeof _=="function"?_:Ai([[+_[0][0],+_[0][1]],[+_[1][0],+_[1][1]]]),h):t},h.scaleExtent=function(_){return arguments.length?(i[0]=+_[0],i[1]=+_[1],h):[i[0],i[1]]},h.translateExtent=function(_){return arguments.length?(s[0][0]=+_[0][0],s[1][0]=+_[1][0],s[0][1]=+_[0][1],s[1][1]=+_[1][1],h):[[s[0][0],s[0][1]],[s[1][0],s[1][1]]]},h.constrain=function(_){return arguments.length?(n=_,h):n},h.duration=function(_){return arguments.length?(l=+_,h):l},h.interpolate=function(_){return arguments.length?(a=_,h):a},h.on=function(){var _=u.on.apply(u,arguments);return _===u?h:_},h.clickDistance=function(_){return arguments.length?(y=(_=+_)*_,h):Math.sqrt(y)},h.tapDistance=function(_){return arguments.length?(S=+_,h):S},h}const ol=I.createContext(null),Nx=ol.Provider,tn={error001:()=>"[React Flow]: Seems like you have not used zustand provider as an ancestor. Help: https://reactflow.dev/error#001",error002:()=>"It looks like you've created a new nodeTypes or edgeTypes object. If this wasn't on purpose please define the nodeTypes/edgeTypes outside of the component or memoize them.",error003:e=>`Node type "${e}" not found. Using fallback type "default".`,error004:()=>"The React Flow parent container needs a width and a height to render the graph.",error005:()=>"Only child nodes can use a parent extent.",error006:()=>"Can't create edge. An edge needs a source and a target.",error007:e=>`The old edge with id=${e} does not exist.`,error009:e=>`Marker type "${e}" doesn't exist.`,error008:(e,t)=>`Couldn't create edge for ${e?"target":"source"} handle id: "${e?t.targetHandle:t.sourceHandle}", edge id: ${t.id}.`,error010:()=>"Handle: No node id found. Make sure to only use a Handle inside a custom Node.",error011:e=>`Edge type "${e}" not found. Using fallback type "default".`,error012:e=>`Node with id "${e}" does not exist, it may have been removed. This can happen when a node is deleted before the "onNodeClick" handler is called.`},vg=tn.error001();function ae(e,t){const n=I.useContext(ol);if(n===null)throw new Error(vg);return Up(n,e,t)}const Te=()=>{const e=I.useContext(ol);if(e===null)throw new Error(vg);return I.useMemo(()=>({getState:e.getState,setState:e.setState,subscribe:e.subscribe,destroy:e.destroy}),[e])},Tx=e=>e.userSelectionActive?"none":"all";function oc({position:e,children:t,className:n,style:r,...o}){const i=ae(Tx),s=`${e}`.split("-");return M.createElement("div",{className:Ae(["react-flow__panel",n,...s]),style:{...r,pointerEvents:i},...o},t)}function Ix({proOptions:e,position:t="bottom-right"}){return e!=null&&e.hideAttribution?null:M.createElement(oc,{position:t,className:"react-flow__attribution","data-message":"Please only hide this attribution when you are subscribed to React Flow Pro: https://reactflow.dev/pro"},M.createElement("a",{href:"https://reactflow.dev",target:"_blank",rel:"noopener noreferrer","aria-label":"React Flow attribution"},"React Flow"))}const Px=({x:e,y:t,label:n,labelStyle:r={},labelShowBg:o=!0,labelBgStyle:i={},labelBgPadding:s=[2,4],labelBgBorderRadius:l=2,children:a,className:u,...c})=>{const f=I.useRef(null),[d,g]=I.useState({x:0,y:0,width:0,height:0}),v=Ae(["react-flow__edge-textwrapper",u]);return I.useEffect(()=>{if(f.current){const y=f.current.getBBox();g({x:y.x,y:y.y,width:y.width,height:y.height})}},[n]),typeof n>"u"||!n?null:M.createElement("g",{transform:`translate(${e-d.width/2} ${t-d.height/2})`,className:v,visibility:d.width?"visible":"hidden",...c},o&&M.createElement("rect",{width:d.width+2*s[0],x:-s[0],y:-s[1],height:d.height+2*s[1],className:"react-flow__edge-textbg",style:i,rx:l,ry:l}),M.createElement("text",{className:"react-flow__edge-text",y:d.height/2,dy:"0.3em",ref:f,style:r},n),a)};var Rx=I.memo(Px);const ic=e=>({width:e.offsetWidth,height:e.offsetHeight}),Yr=(e,t=0,n=1)=>Math.min(Math.max(e,t),n),sc=(e={x:0,y:0},t)=>({x:Yr(e.x,t[0][0],t[1][0]),y:Yr(e.y,t[0][1],t[1][1])}),qf=(e,t,n)=>e<t?Yr(Math.abs(e-t),1,50)/50:e>n?-Yr(Math.abs(e-n),1,50)/50:0,wg=(e,t)=>{const n=qf(e.x,35,t.width-35)*20,r=qf(e.y,35,t.height-35)*20;return[n,r]},_g=e=>{var t;return((t=e.getRootNode)==null?void 0:t.call(e))||(window==null?void 0:window.document)},xg=(e,t)=>({x:Math.min(e.x,t.x),y:Math.min(e.y,t.y),x2:Math.max(e.x2,t.x2),y2:Math.max(e.y2,t.y2)}),ti=({x:e,y:t,width:n,height:r})=>({x:e,y:t,x2:e+n,y2:t+r}),Sg=({x:e,y:t,x2:n,y2:r})=>({x:e,y:t,width:n-e,height:r-t}),Jf=e=>({...e.positionAbsolute||{x:0,y:0},width:e.width||0,height:e.height||0}),$x=(e,t)=>Sg(xg(ti(e),ti(t))),Ga=(e,t)=>{const n=Math.max(0,Math.min(e.x+e.width,t.x+t.width)-Math.max(e.x,t.x)),r=Math.max(0,Math.min(e.y+e.height,t.y+t.height)-Math.max(e.y,t.y));return Math.ceil(n*r)},Mx=e=>pt(e.width)&&pt(e.height)&&pt(e.x)&&pt(e.y),pt=e=>!isNaN(e)&&isFinite(e),ve=Symbol.for("internals"),Eg=["Enter"," ","Escape"],bx=(e,t)=>{},zx=e=>"nativeEvent"in e;function Za(e){var o,i;const t=zx(e)?e.nativeEvent:e,n=((i=(o=t.composedPath)==null?void 0:o.call(t))==null?void 0:i[0])||e.target;return["INPUT","SELECT","TEXTAREA"].includes(n==null?void 0:n.nodeName)||(n==null?void 0:n.hasAttribute("contenteditable"))||!!(n!=null&&n.closest(".nokey"))}const kg=e=>"clientX"in e,En=(e,t)=>{var i,s;const n=kg(e),r=n?e.clientX:(i=e.touches)==null?void 0:i[0].clientX,o=n?e.clientY:(s=e.touches)==null?void 0:s[0].clientY;return{x:r-((t==null?void 0:t.left)??0),y:o-((t==null?void 0:t.top)??0)}},bs=()=>{var e;return typeof navigator<"u"&&((e=navigator==null?void 0:navigator.userAgent)==null?void 0:e.indexOf("Mac"))>=0},hi=({id:e,path:t,labelX:n,labelY:r,label:o,labelStyle:i,labelShowBg:s,labelBgStyle:l,labelBgPadding:a,labelBgBorderRadius:u,style:c,markerEnd:f,markerStart:d,interactionWidth:g=20})=>M.createElement(M.Fragment,null,M.createElement("path",{id:e,style:c,d:t,fill:"none",className:"react-flow__edge-path",markerEnd:f,markerStart:d}),g&&M.createElement("path",{d:t,fill:"none",strokeOpacity:0,strokeWidth:g,className:"react-flow__edge-interaction"}),o&&pt(n)&&pt(r)?M.createElement(Rx,{x:n,y:r,label:o,labelStyle:i,labelShowBg:s,labelBgStyle:l,labelBgPadding:a,labelBgBorderRadius:u}):null);hi.displayName="BaseEdge";function po(e,t,n){return n===void 0?n:r=>{const o=t().edges.find(i=>i.id===e);o&&n(r,{...o})}}function Cg({sourceX:e,sourceY:t,targetX:n,targetY:r}){const o=Math.abs(n-e)/2,i=n<e?n+o:n-o,s=Math.abs(r-t)/2,l=r<t?r+s:r-s;return[i,l,o,s]}function Ng({sourceX:e,sourceY:t,targetX:n,targetY:r,sourceControlX:o,sourceControlY:i,targetControlX:s,targetControlY:l}){const a=e*.125+o*.375+s*.375+n*.125,u=t*.125+i*.375+l*.375+r*.125,c=Math.abs(a-e),f=Math.abs(u-t);return[a,u,c,f]}var tr;(function(e){e.Strict="strict",e.Loose="loose"})(tr||(tr={}));var jn;(function(e){e.Free="free",e.Vertical="vertical",e.Horizontal="horizontal"})(jn||(jn={}));var ni;(function(e){e.Partial="partial",e.Full="full"})(ni||(ni={}));var dn;(function(e){e.Bezier="default",e.Straight="straight",e.Step="step",e.SmoothStep="smoothstep",e.SimpleBezier="simplebezier"})(dn||(dn={}));var zs;(function(e){e.Arrow="arrow",e.ArrowClosed="arrowclosed"})(zs||(zs={}));var K;(function(e){e.Left="left",e.Top="top",e.Right="right",e.Bottom="bottom"})(K||(K={}));function ed({pos:e,x1:t,y1:n,x2:r,y2:o}){return e===K.Left||e===K.Right?[.5*(t+r),n]:[t,.5*(n+o)]}function Tg({sourceX:e,sourceY:t,sourcePosition:n=K.Bottom,targetX:r,targetY:o,targetPosition:i=K.Top}){const[s,l]=ed({pos:n,x1:e,y1:t,x2:r,y2:o}),[a,u]=ed({pos:i,x1:r,y1:o,x2:e,y2:t}),[c,f,d,g]=Ng({sourceX:e,sourceY:t,targetX:r,targetY:o,sourceControlX:s,sourceControlY:l,targetControlX:a,targetControlY:u});return[`M${e},${t} C${s},${l} ${a},${u} ${r},${o}`,c,f,d,g]}const lc=I.memo(({sourceX:e,sourceY:t,targetX:n,targetY:r,sourcePosition:o=K.Bottom,targetPosition:i=K.Top,label:s,labelStyle:l,labelShowBg:a,labelBgStyle:u,labelBgPadding:c,labelBgBorderRadius:f,style:d,markerEnd:g,markerStart:v,interactionWidth:y})=>{const[S,h,p]=Tg({sourceX:e,sourceY:t,sourcePosition:o,targetX:n,targetY:r,targetPosition:i});return M.createElement(hi,{path:S,labelX:h,labelY:p,label:s,labelStyle:l,labelShowBg:a,labelBgStyle:u,labelBgPadding:c,labelBgBorderRadius:f,style:d,markerEnd:g,markerStart:v,interactionWidth:y})});lc.displayName="SimpleBezierEdge";const td={[K.Left]:{x:-1,y:0},[K.Right]:{x:1,y:0},[K.Top]:{x:0,y:-1},[K.Bottom]:{x:0,y:1}},Ax=({source:e,sourcePosition:t=K.Bottom,target:n})=>t===K.Left||t===K.Right?e.x<n.x?{x:1,y:0}:{x:-1,y:0}:e.y<n.y?{x:0,y:1}:{x:0,y:-1},nd=(e,t)=>Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2));function Dx({source:e,sourcePosition:t=K.Bottom,target:n,targetPosition:r=K.Top,center:o,offset:i}){const s=td[t],l=td[r],a={x:e.x+s.x*i,y:e.y+s.y*i},u={x:n.x+l.x*i,y:n.y+l.y*i},c=Ax({source:a,sourcePosition:t,target:u}),f=c.x!==0?"x":"y",d=c[f];let g=[],v,y;const S={x:0,y:0},h={x:0,y:0},[p,m,w,E]=Cg({sourceX:e.x,sourceY:e.y,targetX:n.x,targetY:n.y});if(s[f]*l[f]===-1){v=o.x??p,y=o.y??m;const T=[{x:v,y:a.y},{x:v,y:u.y}],R=[{x:a.x,y},{x:u.x,y}];s[f]===d?g=f==="x"?T:R:g=f==="x"?R:T}else{const T=[{x:a.x,y:u.y}],R=[{x:u.x,y:a.y}];if(f==="x"?g=s.x===d?R:T:g=s.y===d?T:R,t===r){const B=Math.abs(e[f]-n[f]);if(B<=i){const _=Math.min(i-1,i-B);s[f]===d?S[f]=(a[f]>e[f]?-1:1)*_:h[f]=(u[f]>n[f]?-1:1)*_}}if(t!==r){const B=f==="x"?"y":"x",_=s[f]===l[B],$=a[B]>u[B],C=a[B]<u[B];(s[f]===1&&(!_&&$||_&&C)||s[f]!==1&&(!_&&C||_&&$))&&(g=f==="x"?T:R)}const b={x:a.x+S.x,y:a.y+S.y},z={x:u.x+h.x,y:u.y+h.y},H=Math.max(Math.abs(b.x-g[0].x),Math.abs(z.x-g[0].x)),j=Math.max(Math.abs(b.y-g[0].y),Math.abs(z.y-g[0].y));H>=j?(v=(b.x+z.x)/2,y=g[0].y):(v=g[0].x,y=(b.y+z.y)/2)}return[[e,{x:a.x+S.x,y:a.y+S.y},...g,{x:u.x+h.x,y:u.y+h.y},n],v,y,w,E]}function Lx(e,t,n,r){const o=Math.min(nd(e,t)/2,nd(t,n)/2,r),{x:i,y:s}=t;if(e.x===i&&i===n.x||e.y===s&&s===n.y)return`L${i} ${s}`;if(e.y===s){const u=e.x<n.x?-1:1,c=e.y<n.y?1:-1;return`L ${i+o*u},${s}Q ${i},${s} ${i},${s+o*c}`}const l=e.x<n.x?1:-1,a=e.y<n.y?-1:1;return`L ${i},${s+o*a}Q ${i},${s} ${i+o*l},${s}`}function qa({sourceX:e,sourceY:t,sourcePosition:n=K.Bottom,targetX:r,targetY:o,targetPosition:i=K.Top,borderRadius:s=5,centerX:l,centerY:a,offset:u=20}){const[c,f,d,g,v]=Dx({source:{x:e,y:t},sourcePosition:n,target:{x:r,y:o},targetPosition:i,center:{x:l,y:a},offset:u});return[c.reduce((S,h,p)=>{let m="";return p>0&&p<c.length-1?m=Lx(c[p-1],h,c[p+1],s):m=`${p===0?"M":"L"}${h.x} ${h.y}`,S+=m,S},""),f,d,g,v]}const il=I.memo(({sourceX:e,sourceY:t,targetX:n,targetY:r,label:o,labelStyle:i,labelShowBg:s,labelBgStyle:l,labelBgPadding:a,labelBgBorderRadius:u,style:c,sourcePosition:f=K.Bottom,targetPosition:d=K.Top,markerEnd:g,markerStart:v,pathOptions:y,interactionWidth:S})=>{const[h,p,m]=qa({sourceX:e,sourceY:t,sourcePosition:f,targetX:n,targetY:r,targetPosition:d,borderRadius:y==null?void 0:y.borderRadius,offset:y==null?void 0:y.offset});return M.createElement(hi,{path:h,labelX:p,labelY:m,label:o,labelStyle:i,labelShowBg:s,labelBgStyle:l,labelBgPadding:a,labelBgBorderRadius:u,style:c,markerEnd:g,markerStart:v,interactionWidth:S})});il.displayName="SmoothStepEdge";const ac=I.memo(e=>{var t;return M.createElement(il,{...e,pathOptions:I.useMemo(()=>{var n;return{borderRadius:0,offset:(n=e.pathOptions)==null?void 0:n.offset}},[(t=e.pathOptions)==null?void 0:t.offset])})});ac.displayName="StepEdge";function Ox({sourceX:e,sourceY:t,targetX:n,targetY:r}){const[o,i,s,l]=Cg({sourceX:e,sourceY:t,targetX:n,targetY:r});return[`M ${e},${t}L ${n},${r}`,o,i,s,l]}const uc=I.memo(({sourceX:e,sourceY:t,targetX:n,targetY:r,label:o,labelStyle:i,labelShowBg:s,labelBgStyle:l,labelBgPadding:a,labelBgBorderRadius:u,style:c,markerEnd:f,markerStart:d,interactionWidth:g})=>{const[v,y,S]=Ox({sourceX:e,sourceY:t,targetX:n,targetY:r});return M.createElement(hi,{path:v,labelX:y,labelY:S,label:o,labelStyle:i,labelShowBg:s,labelBgStyle:l,labelBgPadding:a,labelBgBorderRadius:u,style:c,markerEnd:f,markerStart:d,interactionWidth:g})});uc.displayName="StraightEdge";function Di(e,t){return e>=0?.5*e:t*25*Math.sqrt(-e)}function rd({pos:e,x1:t,y1:n,x2:r,y2:o,c:i}){switch(e){case K.Left:return[t-Di(t-r,i),n];case K.Right:return[t+Di(r-t,i),n];case K.Top:return[t,n-Di(n-o,i)];case K.Bottom:return[t,n+Di(o-n,i)]}}function Ig({sourceX:e,sourceY:t,sourcePosition:n=K.Bottom,targetX:r,targetY:o,targetPosition:i=K.Top,curvature:s=.25}){const[l,a]=rd({pos:n,x1:e,y1:t,x2:r,y2:o,c:s}),[u,c]=rd({pos:i,x1:r,y1:o,x2:e,y2:t,c:s}),[f,d,g,v]=Ng({sourceX:e,sourceY:t,targetX:r,targetY:o,sourceControlX:l,sourceControlY:a,targetControlX:u,targetControlY:c});return[`M${e},${t} C${l},${a} ${u},${c} ${r},${o}`,f,d,g,v]}const As=I.memo(({sourceX:e,sourceY:t,targetX:n,targetY:r,sourcePosition:o=K.Bottom,targetPosition:i=K.Top,label:s,labelStyle:l,labelShowBg:a,labelBgStyle:u,labelBgPadding:c,labelBgBorderRadius:f,style:d,markerEnd:g,markerStart:v,pathOptions:y,interactionWidth:S})=>{const[h,p,m]=Ig({sourceX:e,sourceY:t,sourcePosition:o,targetX:n,targetY:r,targetPosition:i,curvature:y==null?void 0:y.curvature});return M.createElement(hi,{path:h,labelX:p,labelY:m,label:s,labelStyle:l,labelShowBg:a,labelBgStyle:u,labelBgPadding:c,labelBgBorderRadius:f,style:d,markerEnd:g,markerStart:v,interactionWidth:S})});As.displayName="BezierEdge";const cc=I.createContext(null),Hx=cc.Provider;cc.Consumer;const Fx=()=>I.useContext(cc),Bx=e=>"id"in e&&"source"in e&&"target"in e,jx=({source:e,sourceHandle:t,target:n,targetHandle:r})=>`reactflow__edge-${e}${t||""}-${n}${r||""}`,Ja=(e,t)=>typeof e>"u"?"":typeof e=="string"?e:`${t?`${t}__`:""}${Object.keys(e).sort().map(r=>`${r}=${e[r]}`).join("&")}`,Ux=(e,t)=>t.some(n=>n.source===e.source&&n.target===e.target&&(n.sourceHandle===e.sourceHandle||!n.sourceHandle&&!e.sourceHandle)&&(n.targetHandle===e.targetHandle||!n.targetHandle&&!e.targetHandle)),Pg=(e,t)=>{if(!e.source||!e.target)return t;let n;return Bx(e)?n={...e}:n={...e,id:jx(e)},Ux(n,t)?t:t.concat(n)},eu=({x:e,y:t},[n,r,o],i,[s,l])=>{const a={x:(e-n)/o,y:(t-r)/o};return i?{x:s*Math.round(a.x/s),y:l*Math.round(a.y/l)}:a},Rg=({x:e,y:t},[n,r,o])=>({x:e*o+n,y:t*o+r}),Xn=(e,t=[0,0])=>{if(!e)return{x:0,y:0,positionAbsolute:{x:0,y:0}};const n=(e.width??0)*t[0],r=(e.height??0)*t[1],o={x:e.position.x-n,y:e.position.y-r};return{...o,positionAbsolute:e.positionAbsolute?{x:e.positionAbsolute.x-n,y:e.positionAbsolute.y-r}:o}},sl=(e,t=[0,0])=>{if(e.length===0)return{x:0,y:0,width:0,height:0};const n=e.reduce((r,o)=>{const{x:i,y:s}=Xn(o,t).positionAbsolute;return xg(r,ti({x:i,y:s,width:o.width||0,height:o.height||0}))},{x:1/0,y:1/0,x2:-1/0,y2:-1/0});return Sg(n)},$g=(e,t,[n,r,o]=[0,0,1],i=!1,s=!1,l=[0,0])=>{const a={x:(t.x-n)/o,y:(t.y-r)/o,width:t.width/o,height:t.height/o},u=[];return e.forEach(c=>{const{width:f,height:d,selectable:g=!0,hidden:v=!1}=c;if(s&&!g||v)return!1;const{positionAbsolute:y}=Xn(c,l),S={x:y.x,y:y.y,width:f||0,height:d||0},h=Ga(a,S),p=typeof f>"u"||typeof d>"u"||f===null||d===null,m=i&&h>0,w=(f||0)*(d||0);(p||m||h>=w||c.dragging)&&u.push(c)}),u},Mg=(e,t)=>{const n=e.map(r=>r.id);return t.filter(r=>n.includes(r.source)||n.includes(r.target))},bg=(e,t,n,r,o,i=.1)=>{const s=t/(e.width*(1+i)),l=n/(e.height*(1+i)),a=Math.min(s,l),u=Yr(a,r,o),c=e.x+e.width/2,f=e.y+e.height/2,d=t/2-c*u,g=n/2-f*u;return{x:d,y:g,zoom:u}},Ln=(e,t=0)=>e.transition().duration(t);function od(e,t,n,r){return(t[n]||[]).reduce((o,i)=>{var s,l;return`${e.id}-${i.id}-${n}`!==r&&o.push({id:i.id||null,type:n,nodeId:e.id,x:(((s=e.positionAbsolute)==null?void 0:s.x)??0)+i.x+i.width/2,y:(((l=e.positionAbsolute)==null?void 0:l.y)??0)+i.y+i.height/2}),o},[])}function Wx(e,t,n,r,o,i){const{x:s,y:l}=En(e),u=t.elementsFromPoint(s,l).find(v=>v.classList.contains("react-flow__handle"));if(u){const v=u.getAttribute("data-nodeid");if(v){const y=fc(void 0,u),S=u.getAttribute("data-handleid"),h=i({nodeId:v,id:S,type:y});if(h){const p=o.find(m=>m.nodeId===v&&m.type===y&&m.id===S);return{handle:{id:S,type:y,nodeId:v,x:(p==null?void 0:p.x)||n.x,y:(p==null?void 0:p.y)||n.y},validHandleResult:h}}}}let c=[],f=1/0;if(o.forEach(v=>{const y=Math.sqrt((v.x-n.x)**2+(v.y-n.y)**2);if(y<=r){const S=i(v);y<=f&&(y<f?c=[{handle:v,validHandleResult:S}]:y===f&&c.push({handle:v,validHandleResult:S}),f=y)}}),!c.length)return{handle:null,validHandleResult:zg()};if(c.length===1)return c[0];const d=c.some(({validHandleResult:v})=>v.isValid),g=c.some(({handle:v})=>v.type==="target");return c.find(({handle:v,validHandleResult:y})=>g?v.type==="target":d?y.isValid:!0)||c[0]}const Vx={source:null,target:null,sourceHandle:null,targetHandle:null},zg=()=>({handleDomNode:null,isValid:!1,connection:Vx,endHandle:null});function Ag(e,t,n,r,o,i,s){const l=o==="target",a=s.querySelector(`.react-flow__handle[data-id="${e==null?void 0:e.nodeId}-${e==null?void 0:e.id}-${e==null?void 0:e.type}"]`),u={...zg(),handleDomNode:a};if(a){const c=fc(void 0,a),f=a.getAttribute("data-nodeid"),d=a.getAttribute("data-handleid"),g=a.classList.contains("connectable"),v=a.classList.contains("connectableend"),y={source:l?f:n,sourceHandle:l?d:r,target:l?n:f,targetHandle:l?r:d};u.connection=y,g&&v&&(t===tr.Strict?l&&c==="source"||!l&&c==="target":f!==n||d!==r)&&(u.endHandle={nodeId:f,handleId:d,type:c},u.isValid=i(y))}return u}function Xx({nodes:e,nodeId:t,handleId:n,handleType:r}){return e.reduce((o,i)=>{if(i[ve]){const{handleBounds:s}=i[ve];let l=[],a=[];s&&(l=od(i,s,"source",`${t}-${n}-${r}`),a=od(i,s,"target",`${t}-${n}-${r}`)),o.push(...l,...a)}return o},[])}function fc(e,t){return e||(t!=null&&t.classList.contains("target")?"target":t!=null&&t.classList.contains("source")?"source":null)}function jl(e){e==null||e.classList.remove("valid","connecting","react-flow__handle-valid","react-flow__handle-connecting")}function Yx(e,t){let n=null;return t?n="valid":e&&!t&&(n="invalid"),n}function Dg({event:e,handleId:t,nodeId:n,onConnect:r,isTarget:o,getState:i,setState:s,isValidConnection:l,edgeUpdaterType:a,onReconnectEnd:u}){const c=_g(e.target),{connectionMode:f,domNode:d,autoPanOnConnect:g,connectionRadius:v,onConnectStart:y,panBy:S,getNodes:h,cancelConnection:p}=i();let m=0,w;const{x:E,y:k}=En(e),T=c==null?void 0:c.elementFromPoint(E,k),R=fc(a,T),b=d==null?void 0:d.getBoundingClientRect();if(!b||!R)return;let z,H=En(e,b),j=!1,B=null,_=!1,$=null;const C=Xx({nodes:h(),nodeId:n,handleId:t,handleType:R}),L=()=>{if(!g)return;const[P,D]=wg(H,b);S({x:P,y:D}),m=requestAnimationFrame(L)};s({connectionPosition:H,connectionStatus:null,connectionNodeId:n,connectionHandleId:t,connectionHandleType:R,connectionStartHandle:{nodeId:n,handleId:t,type:R},connectionEndHandle:null}),y==null||y(e,{nodeId:n,handleId:t,handleType:R});function N(P){const{transform:D}=i();H=En(P,b);const{handle:O,validHandleResult:W}=Wx(P,c,eu(H,D,!1,[1,1]),v,C,U=>Ag(U,f,n,t,o?"target":"source",l,c));if(w=O,j||(L(),j=!0),$=W.handleDomNode,B=W.connection,_=W.isValid,s({connectionPosition:w&&_?Rg({x:w.x,y:w.y},D):H,connectionStatus:Yx(!!w,_),connectionEndHandle:W.endHandle}),!w&&!_&&!$)return jl(z);B.source!==B.target&&$&&(jl(z),z=$,$.classList.add("connecting","react-flow__handle-connecting"),$.classList.toggle("valid",_),$.classList.toggle("react-flow__handle-valid",_))}function x(P){var D,O;(w||$)&&B&&_&&(r==null||r(B)),(O=(D=i()).onConnectEnd)==null||O.call(D,P),a&&(u==null||u(P)),jl(z),p(),cancelAnimationFrame(m),j=!1,_=!1,B=null,$=null,c.removeEventListener("mousemove",N),c.removeEventListener("mouseup",x),c.removeEventListener("touchmove",N),c.removeEventListener("touchend",x)}c.addEventListener("mousemove",N),c.addEventListener("mouseup",x),c.addEventListener("touchmove",N),c.addEventListener("touchend",x)}const id=()=>!0,Kx=e=>({connectionStartHandle:e.connectionStartHandle,connectOnClick:e.connectOnClick,noPanClassName:e.noPanClassName}),Qx=(e,t,n)=>r=>{const{connectionStartHandle:o,connectionEndHandle:i,connectionClickStartHandle:s}=r;return{connecting:(o==null?void 0:o.nodeId)===e&&(o==null?void 0:o.handleId)===t&&(o==null?void 0:o.type)===n||(i==null?void 0:i.nodeId)===e&&(i==null?void 0:i.handleId)===t&&(i==null?void 0:i.type)===n,clickConnecting:(s==null?void 0:s.nodeId)===e&&(s==null?void 0:s.handleId)===t&&(s==null?void 0:s.type)===n}},Lg=I.forwardRef(({type:e="source",position:t=K.Top,isValidConnection:n,isConnectable:r=!0,isConnectableStart:o=!0,isConnectableEnd:i=!0,id:s,onConnect:l,children:a,className:u,onMouseDown:c,onTouchStart:f,...d},g)=>{var b,z;const v=s||null,y=e==="target",S=Te(),h=Fx(),{connectOnClick:p,noPanClassName:m}=ae(Kx,Re),{connecting:w,clickConnecting:E}=ae(Qx(h,v,e),Re);h||(z=(b=S.getState()).onError)==null||z.call(b,"010",tn.error010());const k=H=>{const{defaultEdgeOptions:j,onConnect:B,hasDefaultEdges:_}=S.getState(),$={...j,...H};if(_){const{edges:C,setEdges:L}=S.getState();L(Pg($,C))}B==null||B($),l==null||l($)},T=H=>{if(!h)return;const j=kg(H);o&&(j&&H.button===0||!j)&&Dg({event:H,handleId:v,nodeId:h,onConnect:k,isTarget:y,getState:S.getState,setState:S.setState,isValidConnection:n||S.getState().isValidConnection||id}),j?c==null||c(H):f==null||f(H)},R=H=>{const{onClickConnectStart:j,onClickConnectEnd:B,connectionClickStartHandle:_,connectionMode:$,isValidConnection:C}=S.getState();if(!h||!_&&!o)return;if(!_){j==null||j(H,{nodeId:h,handleId:v,handleType:e}),S.setState({connectionClickStartHandle:{nodeId:h,type:e,handleId:v}});return}const L=_g(H.target),N=n||C||id,{connection:x,isValid:P}=Ag({nodeId:h,id:v,type:e},$,_.nodeId,_.handleId||null,_.type,N,L);P&&k(x),B==null||B(H),S.setState({connectionClickStartHandle:null})};return M.createElement("div",{"data-handleid":v,"data-nodeid":h,"data-handlepos":t,"data-id":`${h}-${v}-${e}`,className:Ae(["react-flow__handle",`react-flow__handle-${t}`,"nodrag",m,u,{source:!y,target:y,connectable:r,connectablestart:o,connectableend:i,connecting:E,connectionindicator:r&&(o&&!w||i&&w)}]),onMouseDown:T,onTouchStart:T,onClick:p?R:void 0,ref:g,...d},a)});Lg.displayName="Handle";var Kr=I.memo(Lg);const Og=({data:e,isConnectable:t,targetPosition:n=K.Top,sourcePosition:r=K.Bottom})=>M.createElement(M.Fragment,null,M.createElement(Kr,{type:"target",position:n,isConnectable:t}),e==null?void 0:e.label,M.createElement(Kr,{type:"source",position:r,isConnectable:t}));Og.displayName="DefaultNode";var tu=I.memo(Og);const Hg=({data:e,isConnectable:t,sourcePosition:n=K.Bottom})=>M.createElement(M.Fragment,null,e==null?void 0:e.label,M.createElement(Kr,{type:"source",position:n,isConnectable:t}));Hg.displayName="InputNode";var Fg=I.memo(Hg);const Bg=({data:e,isConnectable:t,targetPosition:n=K.Top})=>M.createElement(M.Fragment,null,M.createElement(Kr,{type:"target",position:n,isConnectable:t}),e==null?void 0:e.label);Bg.displayName="OutputNode";var jg=I.memo(Bg);const dc=()=>null;dc.displayName="GroupNode";const Gx=e=>({selectedNodes:e.getNodes().filter(t=>t.selected),selectedEdges:e.edges.filter(t=>t.selected).map(t=>({...t}))}),Li=e=>e.id;function Zx(e,t){return Re(e.selectedNodes.map(Li),t.selectedNodes.map(Li))&&Re(e.selectedEdges.map(Li),t.selectedEdges.map(Li))}const Ug=I.memo(({onSelectionChange:e})=>{const t=Te(),{selectedNodes:n,selectedEdges:r}=ae(Gx,Zx);return I.useEffect(()=>{const o={nodes:n,edges:r};e==null||e(o),t.getState().onSelectionChange.forEach(i=>i(o))},[n,r,e]),null});Ug.displayName="SelectionListener";const qx=e=>!!e.onSelectionChange;function Jx({onSelectionChange:e}){const t=ae(qx);return e||t?M.createElement(Ug,{onSelectionChange:e}):null}const eS=e=>({setNodes:e.setNodes,setEdges:e.setEdges,setDefaultNodesAndEdges:e.setDefaultNodesAndEdges,setMinZoom:e.setMinZoom,setMaxZoom:e.setMaxZoom,setTranslateExtent:e.setTranslateExtent,setNodeExtent:e.setNodeExtent,reset:e.reset});function fr(e,t){I.useEffect(()=>{typeof e<"u"&&t(e)},[e])}function J(e,t,n){I.useEffect(()=>{typeof t<"u"&&n({[e]:t})},[t])}const tS=({nodes:e,edges:t,defaultNodes:n,defaultEdges:r,onConnect:o,onConnectStart:i,onConnectEnd:s,onClickConnectStart:l,onClickConnectEnd:a,nodesDraggable:u,nodesConnectable:c,nodesFocusable:f,edgesFocusable:d,edgesUpdatable:g,elevateNodesOnSelect:v,minZoom:y,maxZoom:S,nodeExtent:h,onNodesChange:p,onEdgesChange:m,elementsSelectable:w,connectionMode:E,snapGrid:k,snapToGrid:T,translateExtent:R,connectOnClick:b,defaultEdgeOptions:z,fitView:H,fitViewOptions:j,onNodesDelete:B,onEdgesDelete:_,onNodeDrag:$,onNodeDragStart:C,onNodeDragStop:L,onSelectionDrag:N,onSelectionDragStart:x,onSelectionDragStop:P,noPanClassName:D,nodeOrigin:O,rfId:W,autoPanOnConnect:U,autoPanOnNodeDrag:Y,onError:G,connectionRadius:q,isValidConnection:oe,nodeDragThreshold:re})=>{const{setNodes:ne,setEdges:$e,setDefaultNodesAndEdges:Ee,setMinZoom:Ue,setMaxZoom:De,setTranslateExtent:we,setNodeExtent:tt,reset:se}=ae(eS,Re),Q=Te();return I.useEffect(()=>{const We=r==null?void 0:r.map(Ht=>({...Ht,...z}));return Ee(n,We),()=>{se()}},[]),J("defaultEdgeOptions",z,Q.setState),J("connectionMode",E,Q.setState),J("onConnect",o,Q.setState),J("onConnectStart",i,Q.setState),J("onConnectEnd",s,Q.setState),J("onClickConnectStart",l,Q.setState),J("onClickConnectEnd",a,Q.setState),J("nodesDraggable",u,Q.setState),J("nodesConnectable",c,Q.setState),J("nodesFocusable",f,Q.setState),J("edgesFocusable",d,Q.setState),J("edgesUpdatable",g,Q.setState),J("elementsSelectable",w,Q.setState),J("elevateNodesOnSelect",v,Q.setState),J("snapToGrid",T,Q.setState),J("snapGrid",k,Q.setState),J("onNodesChange",p,Q.setState),J("onEdgesChange",m,Q.setState),J("connectOnClick",b,Q.setState),J("fitViewOnInit",H,Q.setState),J("fitViewOnInitOptions",j,Q.setState),J("onNodesDelete",B,Q.setState),J("onEdgesDelete",_,Q.setState),J("onNodeDrag",$,Q.setState),J("onNodeDragStart",C,Q.setState),J("onNodeDragStop",L,Q.setState),J("onSelectionDrag",N,Q.setState),J("onSelectionDragStart",x,Q.setState),J("onSelectionDragStop",P,Q.setState),J("noPanClassName",D,Q.setState),J("nodeOrigin",O,Q.setState),J("rfId",W,Q.setState),J("autoPanOnConnect",U,Q.setState),J("autoPanOnNodeDrag",Y,Q.setState),J("onError",G,Q.setState),J("connectionRadius",q,Q.setState),J("isValidConnection",oe,Q.setState),J("nodeDragThreshold",re,Q.setState),fr(e,ne),fr(t,$e),fr(y,Ue),fr(S,De),fr(R,we),fr(h,tt),null},sd={display:"none"},nS={position:"absolute",width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0px, 0px, 0px, 0px)",clipPath:"inset(100%)"},Wg="react-flow__node-desc",Vg="react-flow__edge-desc",rS="react-flow__aria-live",oS=e=>e.ariaLiveMessage;function iS({rfId:e}){const t=ae(oS);return M.createElement("div",{id:`${rS}-${e}`,"aria-live":"assertive","aria-atomic":"true",style:nS},t)}function sS({rfId:e,disableKeyboardA11y:t}){return M.createElement(M.Fragment,null,M.createElement("div",{id:`${Wg}-${e}`,style:sd},"Press enter or space to select a node.",!t&&"You can then use the arrow keys to move the node around."," Press delete to remove it and escape to cancel."," "),M.createElement("div",{id:`${Vg}-${e}`,style:sd},"Press enter or space to select an edge. You can then press delete to remove it or escape to cancel."),!t&&M.createElement(iS,{rfId:e}))}var ri=(e=null,t={actInsideInputWithModifier:!0})=>{const[n,r]=I.useState(!1),o=I.useRef(!1),i=I.useRef(new Set([])),[s,l]=I.useMemo(()=>{if(e!==null){const u=(Array.isArray(e)?e:[e]).filter(f=>typeof f=="string").map(f=>f.split("+")),c=u.reduce((f,d)=>f.concat(...d),[]);return[u,c]}return[[],[]]},[e]);return I.useEffect(()=>{const a=typeof document<"u"?document:null,u=(t==null?void 0:t.target)||a;if(e!==null){const c=g=>{if(o.current=g.ctrlKey||g.metaKey||g.shiftKey,(!o.current||o.current&&!t.actInsideInputWithModifier)&&Za(g))return!1;const y=ad(g.code,l);i.current.add(g[y]),ld(s,i.current,!1)&&(g.preventDefault(),r(!0))},f=g=>{if((!o.current||o.current&&!t.actInsideInputWithModifier)&&Za(g))return!1;const y=ad(g.code,l);ld(s,i.current,!0)?(r(!1),i.current.clear()):i.current.delete(g[y]),g.key==="Meta"&&i.current.clear(),o.current=!1},d=()=>{i.current.clear(),r(!1)};return u==null||u.addEventListener("keydown",c),u==null||u.addEventListener("keyup",f),window.addEventListener("blur",d),()=>{u==null||u.removeEventListener("keydown",c),u==null||u.removeEventListener("keyup",f),window.removeEventListener("blur",d)}}},[e,r]),n};function ld(e,t,n){return e.filter(r=>n||r.length===t.size).some(r=>r.every(o=>t.has(o)))}function ad(e,t){return t.includes(e)?"code":"key"}function Xg(e,t,n,r){var l,a;const o=e.parentNode||e.parentId;if(!o)return n;const i=t.get(o),s=Xn(i,r);return Xg(i,t,{x:(n.x??0)+s.x,y:(n.y??0)+s.y,z:(((l=i[ve])==null?void 0:l.z)??0)>(n.z??0)?((a=i[ve])==null?void 0:a.z)??0:n.z??0},r)}function Yg(e,t,n){e.forEach(r=>{var i;const o=r.parentNode||r.parentId;if(o&&!e.has(o))throw new Error(`Parent node ${o} not found`);if(o||n!=null&&n[r.id]){const{x:s,y:l,z:a}=Xg(r,e,{...r.position,z:((i=r[ve])==null?void 0:i.z)??0},t);r.positionAbsolute={x:s,y:l},r[ve].z=a,n!=null&&n[r.id]&&(r[ve].isParent=!0)}})}function Ul(e,t,n,r){const o=new Map,i={},s=r?1e3:0;return e.forEach(l=>{var g;const a=(pt(l.zIndex)?l.zIndex:0)+(l.selected?s:0),u=t.get(l.id),c={...l,positionAbsolute:{x:l.position.x,y:l.position.y}},f=l.parentNode||l.parentId;f&&(i[f]=!0);const d=(u==null?void 0:u.type)&&(u==null?void 0:u.type)!==l.type;Object.defineProperty(c,ve,{enumerable:!1,value:{handleBounds:d||(g=u==null?void 0:u[ve])==null?void 0:g.handleBounds,z:a}}),o.set(l.id,c)}),Yg(o,n,i),o}function Kg(e,t={}){const{getNodes:n,width:r,height:o,minZoom:i,maxZoom:s,d3Zoom:l,d3Selection:a,fitViewOnInitDone:u,fitViewOnInit:c,nodeOrigin:f}=e(),d=t.initial&&!u&&c;if(l&&a&&(d||!t.initial)){const v=n().filter(S=>{var p;const h=t.includeHiddenNodes?S.width&&S.height:!S.hidden;return(p=t.nodes)!=null&&p.length?h&&t.nodes.some(m=>m.id===S.id):h}),y=v.every(S=>S.width&&S.height);if(v.length>0&&y){const S=sl(v,f),{x:h,y:p,zoom:m}=bg(S,r,o,t.minZoom??i,t.maxZoom??s,t.padding??.1),w=Qt.translate(h,p).scale(m);return typeof t.duration=="number"&&t.duration>0?l.transform(Ln(a,t.duration),w):l.transform(a,w),!0}}return!1}function lS(e,t){return e.forEach(n=>{const r=t.get(n.id);r&&t.set(r.id,{...r,[ve]:r[ve],selected:n.selected})}),new Map(t)}function aS(e,t){return t.map(n=>{const r=e.find(o=>o.id===n.id);return r&&(n.selected=r.selected),n})}function Oi({changedNodes:e,changedEdges:t,get:n,set:r}){const{nodeInternals:o,edges:i,onNodesChange:s,onEdgesChange:l,hasDefaultNodes:a,hasDefaultEdges:u}=n();e!=null&&e.length&&(a&&r({nodeInternals:lS(e,o)}),s==null||s(e)),t!=null&&t.length&&(u&&r({edges:aS(t,i)}),l==null||l(t))}const dr=()=>{},uS={zoomIn:dr,zoomOut:dr,zoomTo:dr,getZoom:()=>1,setViewport:dr,getViewport:()=>({x:0,y:0,zoom:1}),fitView:()=>!1,setCenter:dr,fitBounds:dr,project:e=>e,screenToFlowPosition:e=>e,flowToScreenPosition:e=>e,viewportInitialized:!1},cS=e=>({d3Zoom:e.d3Zoom,d3Selection:e.d3Selection}),fS=()=>{const e=Te(),{d3Zoom:t,d3Selection:n}=ae(cS,Re);return I.useMemo(()=>n&&t?{zoomIn:o=>t.scaleBy(Ln(n,o==null?void 0:o.duration),1.2),zoomOut:o=>t.scaleBy(Ln(n,o==null?void 0:o.duration),1/1.2),zoomTo:(o,i)=>t.scaleTo(Ln(n,i==null?void 0:i.duration),o),getZoom:()=>e.getState().transform[2],setViewport:(o,i)=>{const[s,l,a]=e.getState().transform,u=Qt.translate(o.x??s,o.y??l).scale(o.zoom??a);t.transform(Ln(n,i==null?void 0:i.duration),u)},getViewport:()=>{const[o,i,s]=e.getState().transform;return{x:o,y:i,zoom:s}},fitView:o=>Kg(e.getState,o),setCenter:(o,i,s)=>{const{width:l,height:a,maxZoom:u}=e.getState(),c=typeof(s==null?void 0:s.zoom)<"u"?s.zoom:u,f=l/2-o*c,d=a/2-i*c,g=Qt.translate(f,d).scale(c);t.transform(Ln(n,s==null?void 0:s.duration),g)},fitBounds:(o,i)=>{const{width:s,height:l,minZoom:a,maxZoom:u}=e.getState(),{x:c,y:f,zoom:d}=bg(o,s,l,a,u,(i==null?void 0:i.padding)??.1),g=Qt.translate(c,f).scale(d);t.transform(Ln(n,i==null?void 0:i.duration),g)},project:o=>{const{transform:i,snapToGrid:s,snapGrid:l}=e.getState();return console.warn("[DEPRECATED] `project` is deprecated. Instead use `screenToFlowPosition`. There is no need to subtract the react flow bounds anymore! https://reactflow.dev/api-reference/types/react-flow-instance#screen-to-flow-position"),eu(o,i,s,l)},screenToFlowPosition:o=>{const{transform:i,snapToGrid:s,snapGrid:l,domNode:a}=e.getState();if(!a)return o;const{x:u,y:c}=a.getBoundingClientRect(),f={x:o.x-u,y:o.y-c};return eu(f,i,s,l)},flowToScreenPosition:o=>{const{transform:i,domNode:s}=e.getState();if(!s)return o;const{x:l,y:a}=s.getBoundingClientRect(),u=Rg(o,i);return{x:u.x+l,y:u.y+a}},viewportInitialized:!0}:uS,[t,n])};function hc(){const e=fS(),t=Te(),n=I.useCallback(()=>t.getState().getNodes().map(y=>({...y})),[]),r=I.useCallback(y=>t.getState().nodeInternals.get(y),[]),o=I.useCallback(()=>{const{edges:y=[]}=t.getState();return y.map(S=>({...S}))},[]),i=I.useCallback(y=>{const{edges:S=[]}=t.getState();return S.find(h=>h.id===y)},[]),s=I.useCallback(y=>{const{getNodes:S,setNodes:h,hasDefaultNodes:p,onNodesChange:m}=t.getState(),w=S(),E=typeof y=="function"?y(w):y;if(p)h(E);else if(m){const k=E.length===0?w.map(T=>({type:"remove",id:T.id})):E.map(T=>({item:T,type:"reset"}));m(k)}},[]),l=I.useCallback(y=>{const{edges:S=[],setEdges:h,hasDefaultEdges:p,onEdgesChange:m}=t.getState(),w=typeof y=="function"?y(S):y;if(p)h(w);else if(m){const E=w.length===0?S.map(k=>({type:"remove",id:k.id})):w.map(k=>({item:k,type:"reset"}));m(E)}},[]),a=I.useCallback(y=>{const S=Array.isArray(y)?y:[y],{getNodes:h,setNodes:p,hasDefaultNodes:m,onNodesChange:w}=t.getState();if(m){const k=[...h(),...S];p(k)}else if(w){const E=S.map(k=>({item:k,type:"add"}));w(E)}},[]),u=I.useCallback(y=>{const S=Array.isArray(y)?y:[y],{edges:h=[],setEdges:p,hasDefaultEdges:m,onEdgesChange:w}=t.getState();if(m)p([...h,...S]);else if(w){const E=S.map(k=>({item:k,type:"add"}));w(E)}},[]),c=I.useCallback(()=>{const{getNodes:y,edges:S=[],transform:h}=t.getState(),[p,m,w]=h;return{nodes:y().map(E=>({...E})),edges:S.map(E=>({...E})),viewport:{x:p,y:m,zoom:w}}},[]),f=I.useCallback(({nodes:y,edges:S})=>{const{nodeInternals:h,getNodes:p,edges:m,hasDefaultNodes:w,hasDefaultEdges:E,onNodesDelete:k,onEdgesDelete:T,onNodesChange:R,onEdgesChange:b}=t.getState(),z=(y||[]).map($=>$.id),H=(S||[]).map($=>$.id),j=p().reduce(($,C)=>{const L=C.parentNode||C.parentId,N=!z.includes(C.id)&&L&&$.find(P=>P.id===L);return(typeof C.deletable=="boolean"?C.deletable:!0)&&(z.includes(C.id)||N)&&$.push(C),$},[]),B=m.filter($=>typeof $.deletable=="boolean"?$.deletable:!0),_=B.filter($=>H.includes($.id));if(j||_){const $=Mg(j,B),C=[..._,...$],L=C.reduce((N,x)=>(N.includes(x.id)||N.push(x.id),N),[]);if((E||w)&&(E&&t.setState({edges:m.filter(N=>!L.includes(N.id))}),w&&(j.forEach(N=>{h.delete(N.id)}),t.setState({nodeInternals:new Map(h)}))),L.length>0&&(T==null||T(C),b&&b(L.map(N=>({id:N,type:"remove"})))),j.length>0&&(k==null||k(j),R)){const N=j.map(x=>({id:x.id,type:"remove"}));R(N)}}},[]),d=I.useCallback(y=>{const S=Mx(y),h=S?null:t.getState().nodeInternals.get(y.id);return!S&&!h?[null,null,S]:[S?y:Jf(h),h,S]},[]),g=I.useCallback((y,S=!0,h)=>{const[p,m,w]=d(y);return p?(h||t.getState().getNodes()).filter(E=>{if(!w&&(E.id===m.id||!E.positionAbsolute))return!1;const k=Jf(E),T=Ga(k,p);return S&&T>0||T>=p.width*p.height}):[]},[]),v=I.useCallback((y,S,h=!0)=>{const[p]=d(y);if(!p)return!1;const m=Ga(p,S);return h&&m>0||m>=p.width*p.height},[]);return I.useMemo(()=>({...e,getNodes:n,getNode:r,getEdges:o,getEdge:i,setNodes:s,setEdges:l,addNodes:a,addEdges:u,toObject:c,deleteElements:f,getIntersectingNodes:g,isNodeIntersecting:v}),[e,n,r,o,i,s,l,a,u,c,f,g,v])}const dS={actInsideInputWithModifier:!1};var hS=({deleteKeyCode:e,multiSelectionKeyCode:t})=>{const n=Te(),{deleteElements:r}=hc(),o=ri(e,dS),i=ri(t);I.useEffect(()=>{if(o){const{edges:s,getNodes:l}=n.getState(),a=l().filter(c=>c.selected),u=s.filter(c=>c.selected);r({nodes:a,edges:u}),n.setState({nodesSelectionActive:!1})}},[o]),I.useEffect(()=>{n.setState({multiSelectionActive:i})},[i])};function pS(e){const t=Te();I.useEffect(()=>{let n;const r=()=>{var i,s;if(!e.current)return;const o=ic(e.current);(o.height===0||o.width===0)&&((s=(i=t.getState()).onError)==null||s.call(i,"004",tn.error004())),t.setState({width:o.width||500,height:o.height||500})};return r(),window.addEventListener("resize",r),e.current&&(n=new ResizeObserver(()=>r()),n.observe(e.current)),()=>{window.removeEventListener("resize",r),n&&e.current&&n.unobserve(e.current)}},[])}const pc={position:"absolute",width:"100%",height:"100%",top:0,left:0},gS=(e,t)=>e.x!==t.x||e.y!==t.y||e.zoom!==t.k,Hi=e=>({x:e.x,y:e.y,zoom:e.k}),hr=(e,t)=>e.target.closest(`.${t}`),ud=(e,t)=>t===2&&Array.isArray(e)&&e.includes(2),cd=e=>{const t=e.ctrlKey&&bs()?10:1;return-e.deltaY*(e.deltaMode===1?.05:e.deltaMode?1:.002)*t},mS=e=>({d3Zoom:e.d3Zoom,d3Selection:e.d3Selection,d3ZoomHandler:e.d3ZoomHandler,userSelectionActive:e.userSelectionActive}),yS=({onMove:e,onMoveStart:t,onMoveEnd:n,onPaneContextMenu:r,zoomOnScroll:o=!0,zoomOnPinch:i=!0,panOnScroll:s=!1,panOnScrollSpeed:l=.5,panOnScrollMode:a=jn.Free,zoomOnDoubleClick:u=!0,elementsSelectable:c,panOnDrag:f=!0,defaultViewport:d,translateExtent:g,minZoom:v,maxZoom:y,zoomActivationKeyCode:S,preventScrolling:h=!0,children:p,noWheelClassName:m,noPanClassName:w})=>{const E=I.useRef(),k=Te(),T=I.useRef(!1),R=I.useRef(!1),b=I.useRef(null),z=I.useRef({x:0,y:0,zoom:0}),{d3Zoom:H,d3Selection:j,d3ZoomHandler:B,userSelectionActive:_}=ae(mS,Re),$=ri(S),C=I.useRef(0),L=I.useRef(!1),N=I.useRef();return pS(b),I.useEffect(()=>{if(b.current){const x=b.current.getBoundingClientRect(),P=yg().scaleExtent([v,y]).translateExtent(g),D=dt(b.current).call(P),O=Qt.translate(d.x,d.y).scale(Yr(d.zoom,v,y)),W=[[0,0],[x.width,x.height]],U=P.constrain()(O,W,g);P.transform(D,U),P.wheelDelta(cd),k.setState({d3Zoom:P,d3Selection:D,d3ZoomHandler:D.on("wheel.zoom"),transform:[U.x,U.y,U.k],domNode:b.current.closest(".react-flow")})}},[]),I.useEffect(()=>{j&&H&&(s&&!$&&!_?j.on("wheel.zoom",x=>{if(hr(x,m))return!1;x.preventDefault(),x.stopImmediatePropagation();const P=j.property("__zoom").k||1;if(x.ctrlKey&&i){const oe=Et(x),re=cd(x),ne=P*Math.pow(2,re);H.scaleTo(j,ne,oe,x);return}const D=x.deltaMode===1?20:1;let O=a===jn.Vertical?0:x.deltaX*D,W=a===jn.Horizontal?0:x.deltaY*D;!bs()&&x.shiftKey&&a!==jn.Vertical&&(O=x.deltaY*D,W=0),H.translateBy(j,-(O/P)*l,-(W/P)*l,{internal:!0});const U=Hi(j.property("__zoom")),{onViewportChangeStart:Y,onViewportChange:G,onViewportChangeEnd:q}=k.getState();clearTimeout(N.current),L.current||(L.current=!0,t==null||t(x,U),Y==null||Y(U)),L.current&&(e==null||e(x,U),G==null||G(U),N.current=setTimeout(()=>{n==null||n(x,U),q==null||q(U),L.current=!1},150))},{passive:!1}):typeof B<"u"&&j.on("wheel.zoom",function(x,P){if(!h&&x.type==="wheel"&&!x.ctrlKey||hr(x,m))return null;x.preventDefault(),B.call(this,x,P)},{passive:!1}))},[_,s,a,j,H,B,$,i,h,m,t,e,n]),I.useEffect(()=>{H&&H.on("start",x=>{var O,W;if(!x.sourceEvent||x.sourceEvent.internal)return null;C.current=(O=x.sourceEvent)==null?void 0:O.button;const{onViewportChangeStart:P}=k.getState(),D=Hi(x.transform);T.current=!0,z.current=D,((W=x.sourceEvent)==null?void 0:W.type)==="mousedown"&&k.setState({paneDragging:!0}),P==null||P(D),t==null||t(x.sourceEvent,D)})},[H,t]),I.useEffect(()=>{H&&(_&&!T.current?H.on("zoom",null):_||H.on("zoom",x=>{var D;const{onViewportChange:P}=k.getState();if(k.setState({transform:[x.transform.x,x.transform.y,x.transform.k]}),R.current=!!(r&&ud(f,C.current??0)),(e||P)&&!((D=x.sourceEvent)!=null&&D.internal)){const O=Hi(x.transform);P==null||P(O),e==null||e(x.sourceEvent,O)}}))},[_,H,e,f,r]),I.useEffect(()=>{H&&H.on("end",x=>{if(!x.sourceEvent||x.sourceEvent.internal)return null;const{onViewportChangeEnd:P}=k.getState();if(T.current=!1,k.setState({paneDragging:!1}),r&&ud(f,C.current??0)&&!R.current&&r(x.sourceEvent),R.current=!1,(n||P)&&gS(z.current,x.transform)){const D=Hi(x.transform);z.current=D,clearTimeout(E.current),E.current=setTimeout(()=>{P==null||P(D),n==null||n(x.sourceEvent,D)},s?150:0)}})},[H,s,f,n,r]),I.useEffect(()=>{H&&H.filter(x=>{const P=$||o,D=i&&x.ctrlKey;if((f===!0||Array.isArray(f)&&f.includes(1))&&x.button===1&&x.type==="mousedown"&&(hr(x,"react-flow__node")||hr(x,"react-flow__edge")))return!0;if(!f&&!P&&!s&&!u&&!i||_||!u&&x.type==="dblclick"||hr(x,m)&&x.type==="wheel"||hr(x,w)&&(x.type!=="wheel"||s&&x.type==="wheel"&&!$)||!i&&x.ctrlKey&&x.type==="wheel"||!P&&!s&&!D&&x.type==="wheel"||!f&&(x.type==="mousedown"||x.type==="touchstart")||Array.isArray(f)&&!f.includes(x.button)&&x.type==="mousedown")return!1;const O=Array.isArray(f)&&f.includes(x.button)||!x.button||x.button<=1;return(!x.ctrlKey||x.type==="wheel")&&O})},[_,H,o,i,s,u,f,c,$]),M.createElement("div",{className:"react-flow__renderer",ref:b,style:pc},p)},vS=e=>({userSelectionActive:e.userSelectionActive,userSelectionRect:e.userSelectionRect});function wS(){const{userSelectionActive:e,userSelectionRect:t}=ae(vS,Re);return e&&t?M.createElement("div",{className:"react-flow__selection react-flow__container",style:{width:t.width,height:t.height,transform:`translate(${t.x}px, ${t.y}px)`}}):null}function fd(e,t){const n=t.parentNode||t.parentId,r=e.find(o=>o.id===n);if(r){const o=t.position.x+t.width-r.width,i=t.position.y+t.height-r.height;if(o>0||i>0||t.position.x<0||t.position.y<0){if(r.style={...r.style},r.style.width=r.style.width??r.width,r.style.height=r.style.height??r.height,o>0&&(r.style.width+=o),i>0&&(r.style.height+=i),t.position.x<0){const s=Math.abs(t.position.x);r.position.x=r.position.x-s,r.style.width+=s,t.position.x=0}if(t.position.y<0){const s=Math.abs(t.position.y);r.position.y=r.position.y-s,r.style.height+=s,t.position.y=0}r.width=r.style.width,r.height=r.style.height}}}function Qg(e,t){if(e.some(r=>r.type==="reset"))return e.filter(r=>r.type==="reset").map(r=>r.item);const n=e.filter(r=>r.type==="add").map(r=>r.item);return t.reduce((r,o)=>{const i=e.filter(l=>l.id===o.id);if(i.length===0)return r.push(o),r;const s={...o};for(const l of i)if(l)switch(l.type){case"select":{s.selected=l.selected;break}case"position":{typeof l.position<"u"&&(s.position=l.position),typeof l.positionAbsolute<"u"&&(s.positionAbsolute=l.positionAbsolute),typeof l.dragging<"u"&&(s.dragging=l.dragging),s.expandParent&&fd(r,s);break}case"dimensions":{typeof l.dimensions<"u"&&(s.width=l.dimensions.width,s.height=l.dimensions.height),typeof l.updateStyle<"u"&&(s.style={...s.style||{},...l.dimensions}),typeof l.resizing=="boolean"&&(s.resizing=l.resizing),s.expandParent&&fd(r,s);break}case"remove":return r}return r.push(s),r},n)}function Gg(e,t){return Qg(e,t)}function _S(e,t){return Qg(e,t)}const un=(e,t)=>({id:e,type:"select",selected:t});function Tr(e,t){return e.reduce((n,r)=>{const o=t.includes(r.id);return!r.selected&&o?(r.selected=!0,n.push(un(r.id,!0))):r.selected&&!o&&(r.selected=!1,n.push(un(r.id,!1))),n},[])}const Wl=(e,t)=>n=>{n.target===t.current&&(e==null||e(n))},xS=e=>({userSelectionActive:e.userSelectionActive,elementsSelectable:e.elementsSelectable,dragging:e.paneDragging}),Zg=I.memo(({isSelecting:e,selectionMode:t=ni.Full,panOnDrag:n,onSelectionStart:r,onSelectionEnd:o,onPaneClick:i,onPaneContextMenu:s,onPaneScroll:l,onPaneMouseEnter:a,onPaneMouseMove:u,onPaneMouseLeave:c,children:f})=>{const d=I.useRef(null),g=Te(),v=I.useRef(0),y=I.useRef(0),S=I.useRef(),{userSelectionActive:h,elementsSelectable:p,dragging:m}=ae(xS,Re),w=()=>{g.setState({userSelectionActive:!1,userSelectionRect:null}),v.current=0,y.current=0},E=B=>{i==null||i(B),g.getState().resetSelectedElements(),g.setState({nodesSelectionActive:!1})},k=B=>{if(Array.isArray(n)&&(n!=null&&n.includes(2))){B.preventDefault();return}s==null||s(B)},T=l?B=>l(B):void 0,R=B=>{const{resetSelectedElements:_,domNode:$}=g.getState();if(S.current=$==null?void 0:$.getBoundingClientRect(),!p||!e||B.button!==0||B.target!==d.current||!S.current)return;const{x:C,y:L}=En(B,S.current);_(),g.setState({userSelectionRect:{width:0,height:0,startX:C,startY:L,x:C,y:L}}),r==null||r(B)},b=B=>{const{userSelectionRect:_,nodeInternals:$,edges:C,transform:L,onNodesChange:N,onEdgesChange:x,nodeOrigin:P,getNodes:D}=g.getState();if(!e||!S.current||!_)return;g.setState({userSelectionActive:!0,nodesSelectionActive:!1});const O=En(B,S.current),W=_.startX??0,U=_.startY??0,Y={..._,x:O.x<W?O.x:W,y:O.y<U?O.y:U,width:Math.abs(O.x-W),height:Math.abs(O.y-U)},G=D(),q=$g($,Y,L,t===ni.Partial,!0,P),oe=Mg(q,C).map(ne=>ne.id),re=q.map(ne=>ne.id);if(v.current!==re.length){v.current=re.length;const ne=Tr(G,re);ne.length&&(N==null||N(ne))}if(y.current!==oe.length){y.current=oe.length;const ne=Tr(C,oe);ne.length&&(x==null||x(ne))}g.setState({userSelectionRect:Y})},z=B=>{if(B.button!==0)return;const{userSelectionRect:_}=g.getState();!h&&_&&B.target===d.current&&(E==null||E(B)),g.setState({nodesSelectionActive:v.current>0}),w(),o==null||o(B)},H=B=>{h&&(g.setState({nodesSelectionActive:v.current>0}),o==null||o(B)),w()},j=p&&(e||h);return M.createElement("div",{className:Ae(["react-flow__pane",{dragging:m,selection:e}]),onClick:j?void 0:Wl(E,d),onContextMenu:Wl(k,d),onWheel:Wl(T,d),onMouseEnter:j?void 0:a,onMouseDown:j?R:void 0,onMouseMove:j?b:u,onMouseUp:j?z:void 0,onMouseLeave:j?H:c,ref:d,style:pc},f,M.createElement(wS,null))});Zg.displayName="Pane";function qg(e,t){const n=e.parentNode||e.parentId;if(!n)return!1;const r=t.get(n);return r?r.selected?!0:qg(r,t):!1}function dd(e,t,n){let r=e;do{if(r!=null&&r.matches(t))return!0;if(r===n.current)return!1;r=r.parentElement}while(r);return!1}function SS(e,t,n,r){return Array.from(e.values()).filter(o=>(o.selected||o.id===r)&&(!o.parentNode||o.parentId||!qg(o,e))&&(o.draggable||t&&typeof o.draggable>"u")).map(o=>{var i,s;return{id:o.id,position:o.position||{x:0,y:0},positionAbsolute:o.positionAbsolute||{x:0,y:0},distance:{x:n.x-(((i=o.positionAbsolute)==null?void 0:i.x)??0),y:n.y-(((s=o.positionAbsolute)==null?void 0:s.y)??0)},delta:{x:0,y:0},extent:o.extent,parentNode:o.parentNode||o.parentId,parentId:o.parentNode||o.parentId,width:o.width,height:o.height,expandParent:o.expandParent}})}function ES(e,t){return!t||t==="parent"?t:[t[0],[t[1][0]-(e.width||0),t[1][1]-(e.height||0)]]}function Jg(e,t,n,r,o=[0,0],i){const s=ES(e,e.extent||r);let l=s;const a=e.parentNode||e.parentId;if(e.extent==="parent"&&!e.expandParent)if(a&&e.width&&e.height){const f=n.get(a),{x:d,y:g}=Xn(f,o).positionAbsolute;l=f&&pt(d)&&pt(g)&&pt(f.width)&&pt(f.height)?[[d+e.width*o[0],g+e.height*o[1]],[d+f.width-e.width+e.width*o[0],g+f.height-e.height+e.height*o[1]]]:l}else i==null||i("005",tn.error005()),l=s;else if(e.extent&&a&&e.extent!=="parent"){const f=n.get(a),{x:d,y:g}=Xn(f,o).positionAbsolute;l=[[e.extent[0][0]+d,e.extent[0][1]+g],[e.extent[1][0]+d,e.extent[1][1]+g]]}let u={x:0,y:0};if(a){const f=n.get(a);u=Xn(f,o).positionAbsolute}const c=l&&l!=="parent"?sc(t,l):t;return{position:{x:c.x-u.x,y:c.y-u.y},positionAbsolute:c}}function Vl({nodeId:e,dragItems:t,nodeInternals:n}){const r=t.map(o=>({...n.get(o.id),position:o.position,positionAbsolute:o.positionAbsolute}));return[e?r.find(o=>o.id===e):r[0],r]}const hd=(e,t,n,r)=>{const o=t.querySelectorAll(e);if(!o||!o.length)return null;const i=Array.from(o),s=t.getBoundingClientRect(),l={x:s.width*r[0],y:s.height*r[1]};return i.map(a=>{const u=a.getBoundingClientRect();return{id:a.getAttribute("data-handleid"),position:a.getAttribute("data-handlepos"),x:(u.left-s.left-l.x)/n,y:(u.top-s.top-l.y)/n,...ic(a)}})};function go(e,t,n){return n===void 0?n:r=>{const o=t().nodeInternals.get(e);o&&n(r,{...o})}}function nu({id:e,store:t,unselect:n=!1,nodeRef:r}){const{addSelectedNodes:o,unselectNodesAndEdges:i,multiSelectionActive:s,nodeInternals:l,onError:a}=t.getState(),u=l.get(e);if(!u){a==null||a("012",tn.error012(e));return}t.setState({nodesSelectionActive:!1}),u.selected?(n||u.selected&&s)&&(i({nodes:[u],edges:[]}),requestAnimationFrame(()=>{var c;return(c=r==null?void 0:r.current)==null?void 0:c.blur()})):o([e])}function kS(){const e=Te();return I.useCallback(({sourceEvent:n})=>{const{transform:r,snapGrid:o,snapToGrid:i}=e.getState(),s=n.touches?n.touches[0].clientX:n.clientX,l=n.touches?n.touches[0].clientY:n.clientY,a={x:(s-r[0])/r[2],y:(l-r[1])/r[2]};return{xSnapped:i?o[0]*Math.round(a.x/o[0]):a.x,ySnapped:i?o[1]*Math.round(a.y/o[1]):a.y,...a}},[])}function Xl(e){return(t,n,r)=>e==null?void 0:e(t,r)}function em({nodeRef:e,disabled:t=!1,noDragClassName:n,handleSelector:r,nodeId:o,isSelectable:i,selectNodesOnDrag:s}){const l=Te(),[a,u]=I.useState(!1),c=I.useRef([]),f=I.useRef({x:null,y:null}),d=I.useRef(0),g=I.useRef(null),v=I.useRef({x:0,y:0}),y=I.useRef(null),S=I.useRef(!1),h=I.useRef(!1),p=I.useRef(!1),m=kS();return I.useEffect(()=>{if(e!=null&&e.current){const w=dt(e.current),E=({x:R,y:b})=>{const{nodeInternals:z,onNodeDrag:H,onSelectionDrag:j,updateNodePositions:B,nodeExtent:_,snapGrid:$,snapToGrid:C,nodeOrigin:L,onError:N}=l.getState();f.current={x:R,y:b};let x=!1,P={x:0,y:0,x2:0,y2:0};if(c.current.length>1&&_){const O=sl(c.current,L);P=ti(O)}if(c.current=c.current.map(O=>{const W={x:R-O.distance.x,y:b-O.distance.y};C&&(W.x=$[0]*Math.round(W.x/$[0]),W.y=$[1]*Math.round(W.y/$[1]));const U=[[_[0][0],_[0][1]],[_[1][0],_[1][1]]];c.current.length>1&&_&&!O.extent&&(U[0][0]=O.positionAbsolute.x-P.x+_[0][0],U[1][0]=O.positionAbsolute.x+(O.width??0)-P.x2+_[1][0],U[0][1]=O.positionAbsolute.y-P.y+_[0][1],U[1][1]=O.positionAbsolute.y+(O.height??0)-P.y2+_[1][1]);const Y=Jg(O,W,z,U,L,N);return x=x||O.position.x!==Y.position.x||O.position.y!==Y.position.y,O.position=Y.position,O.positionAbsolute=Y.positionAbsolute,O}),!x)return;B(c.current,!0,!0),u(!0);const D=o?H:Xl(j);if(D&&y.current){const[O,W]=Vl({nodeId:o,dragItems:c.current,nodeInternals:z});D(y.current,O,W)}},k=()=>{if(!g.current)return;const[R,b]=wg(v.current,g.current);if(R!==0||b!==0){const{transform:z,panBy:H}=l.getState();f.current.x=(f.current.x??0)-R/z[2],f.current.y=(f.current.y??0)-b/z[2],H({x:R,y:b})&&E(f.current)}d.current=requestAnimationFrame(k)},T=R=>{var L;const{nodeInternals:b,multiSelectionActive:z,nodesDraggable:H,unselectNodesAndEdges:j,onNodeDragStart:B,onSelectionDragStart:_}=l.getState();h.current=!0;const $=o?B:Xl(_);(!s||!i)&&!z&&o&&((L=b.get(o))!=null&&L.selected||j()),o&&i&&s&&nu({id:o,store:l,nodeRef:e});const C=m(R);if(f.current=C,c.current=SS(b,H,C,o),$&&c.current){const[N,x]=Vl({nodeId:o,dragItems:c.current,nodeInternals:b});$(R.sourceEvent,N,x)}};if(t)w.on(".drag",null);else{const R=D_().on("start",b=>{const{domNode:z,nodeDragThreshold:H}=l.getState();H===0&&T(b),p.current=!1;const j=m(b);f.current=j,g.current=(z==null?void 0:z.getBoundingClientRect())||null,v.current=En(b.sourceEvent,g.current)}).on("drag",b=>{var B,_;const z=m(b),{autoPanOnNodeDrag:H,nodeDragThreshold:j}=l.getState();if(b.sourceEvent.type==="touchmove"&&b.sourceEvent.touches.length>1&&(p.current=!0),!p.current){if(!S.current&&h.current&&H&&(S.current=!0,k()),!h.current){const $=z.xSnapped-(((B=f==null?void 0:f.current)==null?void 0:B.x)??0),C=z.ySnapped-(((_=f==null?void 0:f.current)==null?void 0:_.y)??0);Math.sqrt($*$+C*C)>j&&T(b)}(f.current.x!==z.xSnapped||f.current.y!==z.ySnapped)&&c.current&&h.current&&(y.current=b.sourceEvent,v.current=En(b.sourceEvent,g.current),E(z))}}).on("end",b=>{if(!(!h.current||p.current)&&(u(!1),S.current=!1,h.current=!1,cancelAnimationFrame(d.current),c.current)){const{updateNodePositions:z,nodeInternals:H,onNodeDragStop:j,onSelectionDragStop:B}=l.getState(),_=o?j:Xl(B);if(z(c.current,!1,!1),_){const[$,C]=Vl({nodeId:o,dragItems:c.current,nodeInternals:H});_(b.sourceEvent,$,C)}}}).filter(b=>{const z=b.target;return!b.button&&(!n||!dd(z,`.${n}`,e))&&(!r||dd(z,r,e))});return w.call(R),()=>{w.on(".drag",null)}}}},[e,t,n,r,i,l,o,s,m]),a}function tm(){const e=Te();return I.useCallback(n=>{const{nodeInternals:r,nodeExtent:o,updateNodePositions:i,getNodes:s,snapToGrid:l,snapGrid:a,onError:u,nodesDraggable:c}=e.getState(),f=s().filter(p=>p.selected&&(p.draggable||c&&typeof p.draggable>"u")),d=l?a[0]:5,g=l?a[1]:5,v=n.isShiftPressed?4:1,y=n.x*d*v,S=n.y*g*v,h=f.map(p=>{if(p.positionAbsolute){const m={x:p.positionAbsolute.x+y,y:p.positionAbsolute.y+S};l&&(m.x=a[0]*Math.round(m.x/a[0]),m.y=a[1]*Math.round(m.y/a[1]));const{positionAbsolute:w,position:E}=Jg(p,m,r,o,void 0,u);p.position=E,p.positionAbsolute=w}return p});i(h,!0,!1)},[])}const Dr={ArrowUp:{x:0,y:-1},ArrowDown:{x:0,y:1},ArrowLeft:{x:-1,y:0},ArrowRight:{x:1,y:0}};var mo=e=>{const t=({id:n,type:r,data:o,xPos:i,yPos:s,xPosOrigin:l,yPosOrigin:a,selected:u,onClick:c,onMouseEnter:f,onMouseMove:d,onMouseLeave:g,onContextMenu:v,onDoubleClick:y,style:S,className:h,isDraggable:p,isSelectable:m,isConnectable:w,isFocusable:E,selectNodesOnDrag:k,sourcePosition:T,targetPosition:R,hidden:b,resizeObserver:z,dragHandle:H,zIndex:j,isParent:B,noDragClassName:_,noPanClassName:$,initialized:C,disableKeyboardA11y:L,ariaLabel:N,rfId:x,hasHandleBounds:P})=>{const D=Te(),O=I.useRef(null),W=I.useRef(null),U=I.useRef(T),Y=I.useRef(R),G=I.useRef(r),q=m||p||c||f||d||g,oe=tm(),re=go(n,D.getState,f),ne=go(n,D.getState,d),$e=go(n,D.getState,g),Ee=go(n,D.getState,v),Ue=go(n,D.getState,y),De=se=>{const{nodeDragThreshold:Q}=D.getState();if(m&&(!k||!p||Q>0)&&nu({id:n,store:D,nodeRef:O}),c){const We=D.getState().nodeInternals.get(n);We&&c(se,{...We})}},we=se=>{if(!Za(se)&&!L)if(Eg.includes(se.key)&&m){const Q=se.key==="Escape";nu({id:n,store:D,unselect:Q,nodeRef:O})}else p&&u&&Object.prototype.hasOwnProperty.call(Dr,se.key)&&(D.setState({ariaLiveMessage:`Moved selected node ${se.key.replace("Arrow","").toLowerCase()}. New position, x: ${~~i}, y: ${~~s}`}),oe({x:Dr[se.key].x,y:Dr[se.key].y,isShiftPressed:se.shiftKey}))};I.useEffect(()=>()=>{W.current&&(z==null||z.unobserve(W.current),W.current=null)},[]),I.useEffect(()=>{if(O.current&&!b){const se=O.current;(!C||!P||W.current!==se)&&(W.current&&(z==null||z.unobserve(W.current)),z==null||z.observe(se),W.current=se)}},[b,C,P]),I.useEffect(()=>{const se=G.current!==r,Q=U.current!==T,We=Y.current!==R;O.current&&(se||Q||We)&&(se&&(G.current=r),Q&&(U.current=T),We&&(Y.current=R),D.getState().updateNodeDimensions([{id:n,nodeElement:O.current,forceUpdate:!0}]))},[n,r,T,R]);const tt=em({nodeRef:O,disabled:b||!p,noDragClassName:_,handleSelector:H,nodeId:n,isSelectable:m,selectNodesOnDrag:k});return b?null:M.createElement("div",{className:Ae(["react-flow__node",`react-flow__node-${r}`,{[$]:p},h,{selected:u,selectable:m,parent:B,dragging:tt}]),ref:O,style:{zIndex:j,transform:`translate(${l}px,${a}px)`,pointerEvents:q?"all":"none",visibility:C?"visible":"hidden",...S},"data-id":n,"data-testid":`rf__node-${n}`,onMouseEnter:re,onMouseMove:ne,onMouseLeave:$e,onContextMenu:Ee,onClick:De,onDoubleClick:Ue,onKeyDown:E?we:void 0,tabIndex:E?0:void 0,role:E?"button":void 0,"aria-describedby":L?void 0:`${Wg}-${x}`,"aria-label":N},M.createElement(Hx,{value:n},M.createElement(e,{id:n,data:o,type:r,xPos:i,yPos:s,selected:u,isConnectable:w,sourcePosition:T,targetPosition:R,dragging:tt,dragHandle:H,zIndex:j})))};return t.displayName="NodeWrapper",I.memo(t)};const CS=e=>{const t=e.getNodes().filter(n=>n.selected);return{...sl(t,e.nodeOrigin),transformString:`translate(${e.transform[0]}px,${e.transform[1]}px) scale(${e.transform[2]})`,userSelectionActive:e.userSelectionActive}};function NS({onSelectionContextMenu:e,noPanClassName:t,disableKeyboardA11y:n}){const r=Te(),{width:o,height:i,x:s,y:l,transformString:a,userSelectionActive:u}=ae(CS,Re),c=tm(),f=I.useRef(null);if(I.useEffect(()=>{var v;n||(v=f.current)==null||v.focus({preventScroll:!0})},[n]),em({nodeRef:f}),u||!o||!i)return null;const d=e?v=>{const y=r.getState().getNodes().filter(S=>S.selected);e(v,y)}:void 0,g=v=>{Object.prototype.hasOwnProperty.call(Dr,v.key)&&c({x:Dr[v.key].x,y:Dr[v.key].y,isShiftPressed:v.shiftKey})};return M.createElement("div",{className:Ae(["react-flow__nodesselection","react-flow__container",t]),style:{transform:a}},M.createElement("div",{ref:f,className:"react-flow__nodesselection-rect",onContextMenu:d,tabIndex:n?void 0:-1,onKeyDown:n?void 0:g,style:{width:o,height:i,top:l,left:s}}))}var TS=I.memo(NS);const IS=e=>e.nodesSelectionActive,nm=({children:e,onPaneClick:t,onPaneMouseEnter:n,onPaneMouseMove:r,onPaneMouseLeave:o,onPaneContextMenu:i,onPaneScroll:s,deleteKeyCode:l,onMove:a,onMoveStart:u,onMoveEnd:c,selectionKeyCode:f,selectionOnDrag:d,selectionMode:g,onSelectionStart:v,onSelectionEnd:y,multiSelectionKeyCode:S,panActivationKeyCode:h,zoomActivationKeyCode:p,elementsSelectable:m,zoomOnScroll:w,zoomOnPinch:E,panOnScroll:k,panOnScrollSpeed:T,panOnScrollMode:R,zoomOnDoubleClick:b,panOnDrag:z,defaultViewport:H,translateExtent:j,minZoom:B,maxZoom:_,preventScrolling:$,onSelectionContextMenu:C,noWheelClassName:L,noPanClassName:N,disableKeyboardA11y:x})=>{const P=ae(IS),D=ri(f),O=ri(h),W=O||z,U=O||k,Y=D||d&&W!==!0;return hS({deleteKeyCode:l,multiSelectionKeyCode:S}),M.createElement(yS,{onMove:a,onMoveStart:u,onMoveEnd:c,onPaneContextMenu:i,elementsSelectable:m,zoomOnScroll:w,zoomOnPinch:E,panOnScroll:U,panOnScrollSpeed:T,panOnScrollMode:R,zoomOnDoubleClick:b,panOnDrag:!D&&W,defaultViewport:H,translateExtent:j,minZoom:B,maxZoom:_,zoomActivationKeyCode:p,preventScrolling:$,noWheelClassName:L,noPanClassName:N},M.createElement(Zg,{onSelectionStart:v,onSelectionEnd:y,onPaneClick:t,onPaneMouseEnter:n,onPaneMouseMove:r,onPaneMouseLeave:o,onPaneContextMenu:i,onPaneScroll:s,panOnDrag:W,isSelecting:!!Y,selectionMode:g},e,P&&M.createElement(TS,{onSelectionContextMenu:C,noPanClassName:N,disableKeyboardA11y:x})))};nm.displayName="FlowRenderer";var PS=I.memo(nm);function RS(e){return ae(I.useCallback(n=>e?$g(n.nodeInternals,{x:0,y:0,width:n.width,height:n.height},n.transform,!0):n.getNodes(),[e]))}function $S(e){const t={input:mo(e.input||Fg),default:mo(e.default||tu),output:mo(e.output||jg),group:mo(e.group||dc)},n={},r=Object.keys(e).filter(o=>!["input","default","output","group"].includes(o)).reduce((o,i)=>(o[i]=mo(e[i]||tu),o),n);return{...t,...r}}const MS=({x:e,y:t,width:n,height:r,origin:o})=>!n||!r?{x:e,y:t}:o[0]<0||o[1]<0||o[0]>1||o[1]>1?{x:e,y:t}:{x:e-n*o[0],y:t-r*o[1]},bS=e=>({nodesDraggable:e.nodesDraggable,nodesConnectable:e.nodesConnectable,nodesFocusable:e.nodesFocusable,elementsSelectable:e.elementsSelectable,updateNodeDimensions:e.updateNodeDimensions,onError:e.onError}),rm=e=>{const{nodesDraggable:t,nodesConnectable:n,nodesFocusable:r,elementsSelectable:o,updateNodeDimensions:i,onError:s}=ae(bS,Re),l=RS(e.onlyRenderVisibleElements),a=I.useRef(),u=I.useMemo(()=>{if(typeof ResizeObserver>"u")return null;const c=new ResizeObserver(f=>{const d=f.map(g=>({id:g.target.getAttribute("data-id"),nodeElement:g.target,forceUpdate:!0}));i(d)});return a.current=c,c},[]);return I.useEffect(()=>()=>{var c;(c=a==null?void 0:a.current)==null||c.disconnect()},[]),M.createElement("div",{className:"react-flow__nodes",style:pc},l.map(c=>{var E,k,T;let f=c.type||"default";e.nodeTypes[f]||(s==null||s("003",tn.error003(f)),f="default");const d=e.nodeTypes[f]||e.nodeTypes.default,g=!!(c.draggable||t&&typeof c.draggable>"u"),v=!!(c.selectable||o&&typeof c.selectable>"u"),y=!!(c.connectable||n&&typeof c.connectable>"u"),S=!!(c.focusable||r&&typeof c.focusable>"u"),h=e.nodeExtent?sc(c.positionAbsolute,e.nodeExtent):c.positionAbsolute,p=(h==null?void 0:h.x)??0,m=(h==null?void 0:h.y)??0,w=MS({x:p,y:m,width:c.width??0,height:c.height??0,origin:e.nodeOrigin});return M.createElement(d,{key:c.id,id:c.id,className:c.className,style:c.style,type:f,data:c.data,sourcePosition:c.sourcePosition||K.Bottom,targetPosition:c.targetPosition||K.Top,hidden:c.hidden,xPos:p,yPos:m,xPosOrigin:w.x,yPosOrigin:w.y,selectNodesOnDrag:e.selectNodesOnDrag,onClick:e.onNodeClick,onMouseEnter:e.onNodeMouseEnter,onMouseMove:e.onNodeMouseMove,onMouseLeave:e.onNodeMouseLeave,onContextMenu:e.onNodeContextMenu,onDoubleClick:e.onNodeDoubleClick,selected:!!c.selected,isDraggable:g,isSelectable:v,isConnectable:y,isFocusable:S,resizeObserver:u,dragHandle:c.dragHandle,zIndex:((E=c[ve])==null?void 0:E.z)??0,isParent:!!((k=c[ve])!=null&&k.isParent),noDragClassName:e.noDragClassName,noPanClassName:e.noPanClassName,initialized:!!c.width&&!!c.height,rfId:e.rfId,disableKeyboardA11y:e.disableKeyboardA11y,ariaLabel:c.ariaLabel,hasHandleBounds:!!((T=c[ve])!=null&&T.handleBounds)})}))};rm.displayName="NodeRenderer";var zS=I.memo(rm);const AS=(e,t,n)=>n===K.Left?e-t:n===K.Right?e+t:e,DS=(e,t,n)=>n===K.Top?e-t:n===K.Bottom?e+t:e,pd="react-flow__edgeupdater",gd=({position:e,centerX:t,centerY:n,radius:r=10,onMouseDown:o,onMouseEnter:i,onMouseOut:s,type:l})=>M.createElement("circle",{onMouseDown:o,onMouseEnter:i,onMouseOut:s,className:Ae([pd,`${pd}-${l}`]),cx:AS(t,r,e),cy:DS(n,r,e),r,stroke:"transparent",fill:"transparent"}),LS=()=>!0;var pr=e=>{const t=({id:n,className:r,type:o,data:i,onClick:s,onEdgeDoubleClick:l,selected:a,animated:u,label:c,labelStyle:f,labelShowBg:d,labelBgStyle:g,labelBgPadding:v,labelBgBorderRadius:y,style:S,source:h,target:p,sourceX:m,sourceY:w,targetX:E,targetY:k,sourcePosition:T,targetPosition:R,elementsSelectable:b,hidden:z,sourceHandleId:H,targetHandleId:j,onContextMenu:B,onMouseEnter:_,onMouseMove:$,onMouseLeave:C,reconnectRadius:L,onReconnect:N,onReconnectStart:x,onReconnectEnd:P,markerEnd:D,markerStart:O,rfId:W,ariaLabel:U,isFocusable:Y,isReconnectable:G,pathOptions:q,interactionWidth:oe,disableKeyboardA11y:re})=>{const ne=I.useRef(null),[$e,Ee]=I.useState(!1),[Ue,De]=I.useState(!1),we=Te(),tt=I.useMemo(()=>`url('#${Ja(O,W)}')`,[O,W]),se=I.useMemo(()=>`url('#${Ja(D,W)}')`,[D,W]);if(z)return null;const Q=Le=>{var $t;const{edges:wt,addSelectedEdges:$n,unselectNodesAndEdges:Mn,multiSelectionActive:bn}=we.getState(),Bt=wt.find(to=>to.id===n);Bt&&(b&&(we.setState({nodesSelectionActive:!1}),Bt.selected&&bn?(Mn({nodes:[],edges:[Bt]}),($t=ne.current)==null||$t.blur()):$n([n])),s&&s(Le,Bt))},We=po(n,we.getState,l),Ht=po(n,we.getState,B),Jr=po(n,we.getState,_),ir=po(n,we.getState,$),sr=po(n,we.getState,C),Ft=(Le,wt)=>{if(Le.button!==0)return;const{edges:$n,isValidConnection:Mn}=we.getState(),bn=wt?p:h,Bt=(wt?j:H)||null,$t=wt?"target":"source",to=Mn||LS,al=wt,no=$n.find(zn=>zn.id===n);De(!0),x==null||x(Le,no,$t);const ul=zn=>{De(!1),P==null||P(zn,no,$t)};Dg({event:Le,handleId:Bt,nodeId:bn,onConnect:zn=>N==null?void 0:N(no,zn),isTarget:al,getState:we.getState,setState:we.setState,isValidConnection:to,edgeUpdaterType:$t,onReconnectEnd:ul})},lr=Le=>Ft(Le,!0),Pn=Le=>Ft(Le,!1),Rn=()=>Ee(!0),ar=()=>Ee(!1),ur=!b&&!s,eo=Le=>{var wt;if(!re&&Eg.includes(Le.key)&&b){const{unselectNodesAndEdges:$n,addSelectedEdges:Mn,edges:bn}=we.getState();Le.key==="Escape"?((wt=ne.current)==null||wt.blur(),$n({edges:[bn.find($t=>$t.id===n)]})):Mn([n])}};return M.createElement("g",{className:Ae(["react-flow__edge",`react-flow__edge-${o}`,r,{selected:a,animated:u,inactive:ur,updating:$e}]),onClick:Q,onDoubleClick:We,onContextMenu:Ht,onMouseEnter:Jr,onMouseMove:ir,onMouseLeave:sr,onKeyDown:Y?eo:void 0,tabIndex:Y?0:void 0,role:Y?"button":"img","data-testid":`rf__edge-${n}`,"aria-label":U===null?void 0:U||`Edge from ${h} to ${p}`,"aria-describedby":Y?`${Vg}-${W}`:void 0,ref:ne},!Ue&&M.createElement(e,{id:n,source:h,target:p,selected:a,animated:u,label:c,labelStyle:f,labelShowBg:d,labelBgStyle:g,labelBgPadding:v,labelBgBorderRadius:y,data:i,style:S,sourceX:m,sourceY:w,targetX:E,targetY:k,sourcePosition:T,targetPosition:R,sourceHandleId:H,targetHandleId:j,markerStart:tt,markerEnd:se,pathOptions:q,interactionWidth:oe}),G&&M.createElement(M.Fragment,null,(G==="source"||G===!0)&&M.createElement(gd,{position:T,centerX:m,centerY:w,radius:L,onMouseDown:lr,onMouseEnter:Rn,onMouseOut:ar,type:"source"}),(G==="target"||G===!0)&&M.createElement(gd,{position:R,centerX:E,centerY:k,radius:L,onMouseDown:Pn,onMouseEnter:Rn,onMouseOut:ar,type:"target"})))};return t.displayName="EdgeWrapper",I.memo(t)};function OS(e){const t={default:pr(e.default||As),straight:pr(e.bezier||uc),step:pr(e.step||ac),smoothstep:pr(e.step||il),simplebezier:pr(e.simplebezier||lc)},n={},r=Object.keys(e).filter(o=>!["default","bezier"].includes(o)).reduce((o,i)=>(o[i]=pr(e[i]||As),o),n);return{...t,...r}}function md(e,t,n=null){const r=((n==null?void 0:n.x)||0)+t.x,o=((n==null?void 0:n.y)||0)+t.y,i=(n==null?void 0:n.width)||t.width,s=(n==null?void 0:n.height)||t.height;switch(e){case K.Top:return{x:r+i/2,y:o};case K.Right:return{x:r+i,y:o+s/2};case K.Bottom:return{x:r+i/2,y:o+s};case K.Left:return{x:r,y:o+s/2}}}function yd(e,t){return e?e.length===1||!t?e[0]:t&&e.find(n=>n.id===t)||null:null}const HS=(e,t,n,r,o,i)=>{const s=md(n,e,t),l=md(i,r,o);return{sourceX:s.x,sourceY:s.y,targetX:l.x,targetY:l.y}};function FS({sourcePos:e,targetPos:t,sourceWidth:n,sourceHeight:r,targetWidth:o,targetHeight:i,width:s,height:l,transform:a}){const u={x:Math.min(e.x,t.x),y:Math.min(e.y,t.y),x2:Math.max(e.x+n,t.x+o),y2:Math.max(e.y+r,t.y+i)};u.x===u.x2&&(u.x2+=1),u.y===u.y2&&(u.y2+=1);const c=ti({x:(0-a[0])/a[2],y:(0-a[1])/a[2],width:s/a[2],height:l/a[2]}),f=Math.max(0,Math.min(c.x2,u.x2)-Math.max(c.x,u.x)),d=Math.max(0,Math.min(c.y2,u.y2)-Math.max(c.y,u.y));return Math.ceil(f*d)>0}function vd(e){var r,o,i,s,l;const t=((r=e==null?void 0:e[ve])==null?void 0:r.handleBounds)||null,n=t&&(e==null?void 0:e.width)&&(e==null?void 0:e.height)&&typeof((o=e==null?void 0:e.positionAbsolute)==null?void 0:o.x)<"u"&&typeof((i=e==null?void 0:e.positionAbsolute)==null?void 0:i.y)<"u";return[{x:((s=e==null?void 0:e.positionAbsolute)==null?void 0:s.x)||0,y:((l=e==null?void 0:e.positionAbsolute)==null?void 0:l.y)||0,width:(e==null?void 0:e.width)||0,height:(e==null?void 0:e.height)||0},t,!!n]}const BS=[{level:0,isMaxLevel:!0,edges:[]}];function jS(e,t,n=!1){let r=-1;const o=e.reduce((s,l)=>{var c,f;const a=pt(l.zIndex);let u=a?l.zIndex:0;if(n){const d=t.get(l.target),g=t.get(l.source),v=l.selected||(d==null?void 0:d.selected)||(g==null?void 0:g.selected),y=Math.max(((c=g==null?void 0:g[ve])==null?void 0:c.z)||0,((f=d==null?void 0:d[ve])==null?void 0:f.z)||0,1e3);u=(a?l.zIndex:0)+(v?y:0)}return s[u]?s[u].push(l):s[u]=[l],r=u>r?u:r,s},{}),i=Object.entries(o).map(([s,l])=>{const a=+s;return{edges:l,level:a,isMaxLevel:a===r}});return i.length===0?BS:i}function US(e,t,n){const r=ae(I.useCallback(o=>e?o.edges.filter(i=>{const s=t.get(i.source),l=t.get(i.target);return(s==null?void 0:s.width)&&(s==null?void 0:s.height)&&(l==null?void 0:l.width)&&(l==null?void 0:l.height)&&FS({sourcePos:s.positionAbsolute||{x:0,y:0},targetPos:l.positionAbsolute||{x:0,y:0},sourceWidth:s.width,sourceHeight:s.height,targetWidth:l.width,targetHeight:l.height,width:o.width,height:o.height,transform:o.transform})}):o.edges,[e,t]));return jS(r,t,n)}const WS=({color:e="none",strokeWidth:t=1})=>M.createElement("polyline",{style:{stroke:e,strokeWidth:t},strokeLinecap:"round",strokeLinejoin:"round",fill:"none",points:"-5,-4 0,0 -5,4"}),VS=({color:e="none",strokeWidth:t=1})=>M.createElement("polyline",{style:{stroke:e,fill:e,strokeWidth:t},strokeLinecap:"round",strokeLinejoin:"round",points:"-5,-4 0,0 -5,4 -5,-4"}),wd={[zs.Arrow]:WS,[zs.ArrowClosed]:VS};function XS(e){const t=Te();return I.useMemo(()=>{var o,i;return Object.prototype.hasOwnProperty.call(wd,e)?wd[e]:((i=(o=t.getState()).onError)==null||i.call(o,"009",tn.error009(e)),null)},[e])}const YS=({id:e,type:t,color:n,width:r=12.5,height:o=12.5,markerUnits:i="strokeWidth",strokeWidth:s,orient:l="auto-start-reverse"})=>{const a=XS(t);return a?M.createElement("marker",{className:"react-flow__arrowhead",id:e,markerWidth:`${r}`,markerHeight:`${o}`,viewBox:"-10 -10 20 20",markerUnits:i,orient:l,refX:"0",refY:"0"},M.createElement(a,{color:n,strokeWidth:s})):null},KS=({defaultColor:e,rfId:t})=>n=>{const r=[];return n.edges.reduce((o,i)=>([i.markerStart,i.markerEnd].forEach(s=>{if(s&&typeof s=="object"){const l=Ja(s,t);r.includes(l)||(o.push({id:l,color:s.color||e,...s}),r.push(l))}}),o),[]).sort((o,i)=>o.id.localeCompare(i.id))},om=({defaultColor:e,rfId:t})=>{const n=ae(I.useCallback(KS({defaultColor:e,rfId:t}),[e,t]),(r,o)=>!(r.length!==o.length||r.some((i,s)=>i.id!==o[s].id)));return M.createElement("defs",null,n.map(r=>M.createElement(YS,{id:r.id,key:r.id,type:r.type,color:r.color,width:r.width,height:r.height,markerUnits:r.markerUnits,strokeWidth:r.strokeWidth,orient:r.orient})))};om.displayName="MarkerDefinitions";var QS=I.memo(om);const GS=e=>({nodesConnectable:e.nodesConnectable,edgesFocusable:e.edgesFocusable,edgesUpdatable:e.edgesUpdatable,elementsSelectable:e.elementsSelectable,width:e.width,height:e.height,connectionMode:e.connectionMode,nodeInternals:e.nodeInternals,onError:e.onError}),im=({defaultMarkerColor:e,onlyRenderVisibleElements:t,elevateEdgesOnSelect:n,rfId:r,edgeTypes:o,noPanClassName:i,onEdgeContextMenu:s,onEdgeMouseEnter:l,onEdgeMouseMove:a,onEdgeMouseLeave:u,onEdgeClick:c,onEdgeDoubleClick:f,onReconnect:d,onReconnectStart:g,onReconnectEnd:v,reconnectRadius:y,children:S,disableKeyboardA11y:h})=>{const{edgesFocusable:p,edgesUpdatable:m,elementsSelectable:w,width:E,height:k,connectionMode:T,nodeInternals:R,onError:b}=ae(GS,Re),z=US(t,R,n);return E?M.createElement(M.Fragment,null,z.map(({level:H,edges:j,isMaxLevel:B})=>M.createElement("svg",{key:H,style:{zIndex:H},width:E,height:k,className:"react-flow__edges react-flow__container"},B&&M.createElement(QS,{defaultColor:e,rfId:r}),M.createElement("g",null,j.map(_=>{const[$,C,L]=vd(R.get(_.source)),[N,x,P]=vd(R.get(_.target));if(!L||!P)return null;let D=_.type||"default";o[D]||(b==null||b("011",tn.error011(D)),D="default");const O=o[D]||o.default,W=T===tr.Strict?x.target:(x.target??[]).concat(x.source??[]),U=yd(C.source,_.sourceHandle),Y=yd(W,_.targetHandle),G=(U==null?void 0:U.position)||K.Bottom,q=(Y==null?void 0:Y.position)||K.Top,oe=!!(_.focusable||p&&typeof _.focusable>"u"),re=_.reconnectable||_.updatable,ne=typeof d<"u"&&(re||m&&typeof re>"u");if(!U||!Y)return b==null||b("008",tn.error008(U,_)),null;const{sourceX:$e,sourceY:Ee,targetX:Ue,targetY:De}=HS($,U,G,N,Y,q);return M.createElement(O,{key:_.id,id:_.id,className:Ae([_.className,i]),type:D,data:_.data,selected:!!_.selected,animated:!!_.animated,hidden:!!_.hidden,label:_.label,labelStyle:_.labelStyle,labelShowBg:_.labelShowBg,labelBgStyle:_.labelBgStyle,labelBgPadding:_.labelBgPadding,labelBgBorderRadius:_.labelBgBorderRadius,style:_.style,source:_.source,target:_.target,sourceHandleId:_.sourceHandle,targetHandleId:_.targetHandle,markerEnd:_.markerEnd,markerStart:_.markerStart,sourceX:$e,sourceY:Ee,targetX:Ue,targetY:De,sourcePosition:G,targetPosition:q,elementsSelectable:w,onContextMenu:s,onMouseEnter:l,onMouseMove:a,onMouseLeave:u,onClick:c,onEdgeDoubleClick:f,onReconnect:d,onReconnectStart:g,onReconnectEnd:v,reconnectRadius:y,rfId:r,ariaLabel:_.ariaLabel,isFocusable:oe,isReconnectable:ne,pathOptions:"pathOptions"in _?_.pathOptions:void 0,interactionWidth:_.interactionWidth,disableKeyboardA11y:h})})))),S):null};im.displayName="EdgeRenderer";var ZS=I.memo(im);const qS=e=>`translate(${e.transform[0]}px,${e.transform[1]}px) scale(${e.transform[2]})`;function JS({children:e}){const t=ae(qS);return M.createElement("div",{className:"react-flow__viewport react-flow__container",style:{transform:t}},e)}function eE(e){const t=hc(),n=I.useRef(!1);I.useEffect(()=>{!n.current&&t.viewportInitialized&&e&&(setTimeout(()=>e(t),1),n.current=!0)},[e,t.viewportInitialized])}const tE={[K.Left]:K.Right,[K.Right]:K.Left,[K.Top]:K.Bottom,[K.Bottom]:K.Top},sm=({nodeId:e,handleType:t,style:n,type:r=dn.Bezier,CustomComponent:o,connectionStatus:i})=>{var k,T,R;const{fromNode:s,handleId:l,toX:a,toY:u,connectionMode:c}=ae(I.useCallback(b=>({fromNode:b.nodeInternals.get(e),handleId:b.connectionHandleId,toX:(b.connectionPosition.x-b.transform[0])/b.transform[2],toY:(b.connectionPosition.y-b.transform[1])/b.transform[2],connectionMode:b.connectionMode}),[e]),Re),f=(k=s==null?void 0:s[ve])==null?void 0:k.handleBounds;let d=f==null?void 0:f[t];if(c===tr.Loose&&(d=d||(f==null?void 0:f[t==="source"?"target":"source"])),!s||!d)return null;const g=l?d.find(b=>b.id===l):d[0],v=g?g.x+g.width/2:(s.width??0)/2,y=g?g.y+g.height/2:s.height??0,S=(((T=s.positionAbsolute)==null?void 0:T.x)??0)+v,h=(((R=s.positionAbsolute)==null?void 0:R.y)??0)+y,p=g==null?void 0:g.position,m=p?tE[p]:null;if(!p||!m)return null;if(o)return M.createElement(o,{connectionLineType:r,connectionLineStyle:n,fromNode:s,fromHandle:g,fromX:S,fromY:h,toX:a,toY:u,fromPosition:p,toPosition:m,connectionStatus:i});let w="";const E={sourceX:S,sourceY:h,sourcePosition:p,targetX:a,targetY:u,targetPosition:m};return r===dn.Bezier?[w]=Ig(E):r===dn.Step?[w]=qa({...E,borderRadius:0}):r===dn.SmoothStep?[w]=qa(E):r===dn.SimpleBezier?[w]=Tg(E):w=`M${S},${h} ${a},${u}`,M.createElement("path",{d:w,fill:"none",className:"react-flow__connection-path",style:n})};sm.displayName="ConnectionLine";const nE=e=>({nodeId:e.connectionNodeId,handleType:e.connectionHandleType,nodesConnectable:e.nodesConnectable,connectionStatus:e.connectionStatus,width:e.width,height:e.height});function rE({containerStyle:e,style:t,type:n,component:r}){const{nodeId:o,handleType:i,nodesConnectable:s,width:l,height:a,connectionStatus:u}=ae(nE,Re);return!(o&&i&&l&&s)?null:M.createElement("svg",{style:e,width:l,height:a,className:"react-flow__edges react-flow__connectionline react-flow__container"},M.createElement("g",{className:Ae(["react-flow__connection",u])},M.createElement(sm,{nodeId:o,handleType:i,style:t,type:n,CustomComponent:r,connectionStatus:u})))}function _d(e,t){return I.useRef(null),Te(),I.useMemo(()=>t(e),[e])}const lm=({nodeTypes:e,edgeTypes:t,onMove:n,onMoveStart:r,onMoveEnd:o,onInit:i,onNodeClick:s,onEdgeClick:l,onNodeDoubleClick:a,onEdgeDoubleClick:u,onNodeMouseEnter:c,onNodeMouseMove:f,onNodeMouseLeave:d,onNodeContextMenu:g,onSelectionContextMenu:v,onSelectionStart:y,onSelectionEnd:S,connectionLineType:h,connectionLineStyle:p,connectionLineComponent:m,connectionLineContainerStyle:w,selectionKeyCode:E,selectionOnDrag:k,selectionMode:T,multiSelectionKeyCode:R,panActivationKeyCode:b,zoomActivationKeyCode:z,deleteKeyCode:H,onlyRenderVisibleElements:j,elementsSelectable:B,selectNodesOnDrag:_,defaultViewport:$,translateExtent:C,minZoom:L,maxZoom:N,preventScrolling:x,defaultMarkerColor:P,zoomOnScroll:D,zoomOnPinch:O,panOnScroll:W,panOnScrollSpeed:U,panOnScrollMode:Y,zoomOnDoubleClick:G,panOnDrag:q,onPaneClick:oe,onPaneMouseEnter:re,onPaneMouseMove:ne,onPaneMouseLeave:$e,onPaneScroll:Ee,onPaneContextMenu:Ue,onEdgeContextMenu:De,onEdgeMouseEnter:we,onEdgeMouseMove:tt,onEdgeMouseLeave:se,onReconnect:Q,onReconnectStart:We,onReconnectEnd:Ht,reconnectRadius:Jr,noDragClassName:ir,noWheelClassName:sr,noPanClassName:Ft,elevateEdgesOnSelect:lr,disableKeyboardA11y:Pn,nodeOrigin:Rn,nodeExtent:ar,rfId:ur})=>{const eo=_d(e,$S),Le=_d(t,OS);return eE(i),M.createElement(PS,{onPaneClick:oe,onPaneMouseEnter:re,onPaneMouseMove:ne,onPaneMouseLeave:$e,onPaneContextMenu:Ue,onPaneScroll:Ee,deleteKeyCode:H,selectionKeyCode:E,selectionOnDrag:k,selectionMode:T,onSelectionStart:y,onSelectionEnd:S,multiSelectionKeyCode:R,panActivationKeyCode:b,zoomActivationKeyCode:z,elementsSelectable:B,onMove:n,onMoveStart:r,onMoveEnd:o,zoomOnScroll:D,zoomOnPinch:O,zoomOnDoubleClick:G,panOnScroll:W,panOnScrollSpeed:U,panOnScrollMode:Y,panOnDrag:q,defaultViewport:$,translateExtent:C,minZoom:L,maxZoom:N,onSelectionContextMenu:v,preventScrolling:x,noDragClassName:ir,noWheelClassName:sr,noPanClassName:Ft,disableKeyboardA11y:Pn},M.createElement(JS,null,M.createElement(ZS,{edgeTypes:Le,onEdgeClick:l,onEdgeDoubleClick:u,onlyRenderVisibleElements:j,onEdgeContextMenu:De,onEdgeMouseEnter:we,onEdgeMouseMove:tt,onEdgeMouseLeave:se,onReconnect:Q,onReconnectStart:We,onReconnectEnd:Ht,reconnectRadius:Jr,defaultMarkerColor:P,noPanClassName:Ft,elevateEdgesOnSelect:!!lr,disableKeyboardA11y:Pn,rfId:ur},M.createElement(rE,{style:p,type:h,component:m,containerStyle:w})),M.createElement("div",{className:"react-flow__edgelabel-renderer"}),M.createElement(zS,{nodeTypes:eo,onNodeClick:s,onNodeDoubleClick:a,onNodeMouseEnter:c,onNodeMouseMove:f,onNodeMouseLeave:d,onNodeContextMenu:g,selectNodesOnDrag:_,onlyRenderVisibleElements:j,noPanClassName:Ft,noDragClassName:ir,disableKeyboardA11y:Pn,nodeOrigin:Rn,nodeExtent:ar,rfId:ur})))};lm.displayName="GraphView";var oE=I.memo(lm);const ru=[[Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY],[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY]],on={rfId:"1",width:0,height:0,transform:[0,0,1],nodeInternals:new Map,edges:[],onNodesChange:null,onEdgesChange:null,hasDefaultNodes:!1,hasDefaultEdges:!1,d3Zoom:null,d3Selection:null,d3ZoomHandler:void 0,minZoom:.5,maxZoom:2,translateExtent:ru,nodeExtent:ru,nodesSelectionActive:!1,userSelectionActive:!1,userSelectionRect:null,connectionNodeId:null,connectionHandleId:null,connectionHandleType:"source",connectionPosition:{x:0,y:0},connectionStatus:null,connectionMode:tr.Strict,domNode:null,paneDragging:!1,noPanClassName:"nopan",nodeOrigin:[0,0],nodeDragThreshold:0,snapGrid:[15,15],snapToGrid:!1,nodesDraggable:!0,nodesConnectable:!0,nodesFocusable:!0,edgesFocusable:!0,edgesUpdatable:!0,elementsSelectable:!0,elevateNodesOnSelect:!0,fitViewOnInit:!1,fitViewOnInitDone:!1,fitViewOnInitOptions:void 0,onSelectionChange:[],multiSelectionActive:!1,connectionStartHandle:null,connectionEndHandle:null,connectionClickStartHandle:null,connectOnClick:!0,ariaLiveMessage:"",autoPanOnConnect:!0,autoPanOnNodeDrag:!0,connectionRadius:20,onError:bx,isValidConnection:void 0},iE=()=>Kv((e,t)=>({...on,setNodes:n=>{const{nodeInternals:r,nodeOrigin:o,elevateNodesOnSelect:i}=t();e({nodeInternals:Ul(n,r,o,i)})},getNodes:()=>Array.from(t().nodeInternals.values()),setEdges:n=>{const{defaultEdgeOptions:r={}}=t();e({edges:n.map(o=>({...r,...o}))})},setDefaultNodesAndEdges:(n,r)=>{const o=typeof n<"u",i=typeof r<"u",s=o?Ul(n,new Map,t().nodeOrigin,t().elevateNodesOnSelect):new Map;e({nodeInternals:s,edges:i?r:[],hasDefaultNodes:o,hasDefaultEdges:i})},updateNodeDimensions:n=>{const{onNodesChange:r,nodeInternals:o,fitViewOnInit:i,fitViewOnInitDone:s,fitViewOnInitOptions:l,domNode:a,nodeOrigin:u}=t(),c=a==null?void 0:a.querySelector(".react-flow__viewport");if(!c)return;const f=window.getComputedStyle(c),{m22:d}=new window.DOMMatrixReadOnly(f.transform),g=n.reduce((y,S)=>{const h=o.get(S.id);if(h!=null&&h.hidden)o.set(h.id,{...h,[ve]:{...h[ve],handleBounds:void 0}});else if(h){const p=ic(S.nodeElement);!!(p.width&&p.height&&(h.width!==p.width||h.height!==p.height||S.forceUpdate))&&(o.set(h.id,{...h,[ve]:{...h[ve],handleBounds:{source:hd(".source",S.nodeElement,d,u),target:hd(".target",S.nodeElement,d,u)}},...p}),y.push({id:h.id,type:"dimensions",dimensions:p}))}return y},[]);Yg(o,u);const v=s||i&&!s&&Kg(t,{initial:!0,...l});e({nodeInternals:new Map(o),fitViewOnInitDone:v}),(g==null?void 0:g.length)>0&&(r==null||r(g))},updateNodePositions:(n,r=!0,o=!1)=>{const{triggerNodeChanges:i}=t(),s=n.map(l=>{const a={id:l.id,type:"position",dragging:o};return r&&(a.positionAbsolute=l.positionAbsolute,a.position=l.position),a});i(s)},triggerNodeChanges:n=>{const{onNodesChange:r,nodeInternals:o,hasDefaultNodes:i,nodeOrigin:s,getNodes:l,elevateNodesOnSelect:a}=t();if(n!=null&&n.length){if(i){const u=Gg(n,l()),c=Ul(u,o,s,a);e({nodeInternals:c})}r==null||r(n)}},addSelectedNodes:n=>{const{multiSelectionActive:r,edges:o,getNodes:i}=t();let s,l=null;r?s=n.map(a=>un(a,!0)):(s=Tr(i(),n),l=Tr(o,[])),Oi({changedNodes:s,changedEdges:l,get:t,set:e})},addSelectedEdges:n=>{const{multiSelectionActive:r,edges:o,getNodes:i}=t();let s,l=null;r?s=n.map(a=>un(a,!0)):(s=Tr(o,n),l=Tr(i(),[])),Oi({changedNodes:l,changedEdges:s,get:t,set:e})},unselectNodesAndEdges:({nodes:n,edges:r}={})=>{const{edges:o,getNodes:i}=t(),s=n||i(),l=r||o,a=s.map(c=>(c.selected=!1,un(c.id,!1))),u=l.map(c=>un(c.id,!1));Oi({changedNodes:a,changedEdges:u,get:t,set:e})},setMinZoom:n=>{const{d3Zoom:r,maxZoom:o}=t();r==null||r.scaleExtent([n,o]),e({minZoom:n})},setMaxZoom:n=>{const{d3Zoom:r,minZoom:o}=t();r==null||r.scaleExtent([o,n]),e({maxZoom:n})},setTranslateExtent:n=>{var r;(r=t().d3Zoom)==null||r.translateExtent(n),e({translateExtent:n})},resetSelectedElements:()=>{const{edges:n,getNodes:r}=t(),i=r().filter(l=>l.selected).map(l=>un(l.id,!1)),s=n.filter(l=>l.selected).map(l=>un(l.id,!1));Oi({changedNodes:i,changedEdges:s,get:t,set:e})},setNodeExtent:n=>{const{nodeInternals:r}=t();r.forEach(o=>{o.positionAbsolute=sc(o.position,n)}),e({nodeExtent:n,nodeInternals:new Map(r)})},panBy:n=>{const{transform:r,width:o,height:i,d3Zoom:s,d3Selection:l,translateExtent:a}=t();if(!s||!l||!n.x&&!n.y)return!1;const u=Qt.translate(r[0]+n.x,r[1]+n.y).scale(r[2]),c=[[0,0],[o,i]],f=s==null?void 0:s.constrain()(u,c,a);return s.transform(l,f),r[0]!==f.x||r[1]!==f.y||r[2]!==f.k},cancelConnection:()=>e({connectionNodeId:on.connectionNodeId,connectionHandleId:on.connectionHandleId,connectionHandleType:on.connectionHandleType,connectionStatus:on.connectionStatus,connectionStartHandle:on.connectionStartHandle,connectionEndHandle:on.connectionEndHandle}),reset:()=>e({...on})}),Object.is),am=({children:e})=>{const t=I.useRef(null);return t.current||(t.current=iE()),M.createElement(Nx,{value:t.current},e)};am.displayName="ReactFlowProvider";const um=({children:e})=>I.useContext(ol)?M.createElement(M.Fragment,null,e):M.createElement(am,null,e);um.displayName="ReactFlowWrapper";const sE={input:Fg,default:tu,output:jg,group:dc},lE={default:As,straight:uc,step:ac,smoothstep:il,simplebezier:lc},aE=[0,0],uE=[15,15],cE={x:0,y:0,zoom:1},fE={width:"100%",height:"100%",overflow:"hidden",position:"relative",zIndex:0},cm=I.forwardRef(({nodes:e,edges:t,defaultNodes:n,defaultEdges:r,className:o,nodeTypes:i=sE,edgeTypes:s=lE,onNodeClick:l,onEdgeClick:a,onInit:u,onMove:c,onMoveStart:f,onMoveEnd:d,onConnect:g,onConnectStart:v,onConnectEnd:y,onClickConnectStart:S,onClickConnectEnd:h,onNodeMouseEnter:p,onNodeMouseMove:m,onNodeMouseLeave:w,onNodeContextMenu:E,onNodeDoubleClick:k,onNodeDragStart:T,onNodeDrag:R,onNodeDragStop:b,onNodesDelete:z,onEdgesDelete:H,onSelectionChange:j,onSelectionDragStart:B,onSelectionDrag:_,onSelectionDragStop:$,onSelectionContextMenu:C,onSelectionStart:L,onSelectionEnd:N,connectionMode:x=tr.Strict,connectionLineType:P=dn.Bezier,connectionLineStyle:D,connectionLineComponent:O,connectionLineContainerStyle:W,deleteKeyCode:U="Backspace",selectionKeyCode:Y="Shift",selectionOnDrag:G=!1,selectionMode:q=ni.Full,panActivationKeyCode:oe="Space",multiSelectionKeyCode:re=bs()?"Meta":"Control",zoomActivationKeyCode:ne=bs()?"Meta":"Control",snapToGrid:$e=!1,snapGrid:Ee=uE,onlyRenderVisibleElements:Ue=!1,selectNodesOnDrag:De=!0,nodesDraggable:we,nodesConnectable:tt,nodesFocusable:se,nodeOrigin:Q=aE,edgesFocusable:We,edgesUpdatable:Ht,elementsSelectable:Jr,defaultViewport:ir=cE,minZoom:sr=.5,maxZoom:Ft=2,translateExtent:lr=ru,preventScrolling:Pn=!0,nodeExtent:Rn,defaultMarkerColor:ar="#b1b1b7",zoomOnScroll:ur=!0,zoomOnPinch:eo=!0,panOnScroll:Le=!1,panOnScrollSpeed:wt=.5,panOnScrollMode:$n=jn.Free,zoomOnDoubleClick:Mn=!0,panOnDrag:bn=!0,onPaneClick:Bt,onPaneMouseEnter:$t,onPaneMouseMove:to,onPaneMouseLeave:al,onPaneScroll:no,onPaneContextMenu:ul,children:vc,onEdgeContextMenu:zn,onEdgeDoubleClick:vm,onEdgeMouseEnter:wm,onEdgeMouseMove:_m,onEdgeMouseLeave:xm,onEdgeUpdate:Sm,onEdgeUpdateStart:Em,onEdgeUpdateEnd:km,onReconnect:Cm,onReconnectStart:Nm,onReconnectEnd:Tm,reconnectRadius:Im=10,edgeUpdaterRadius:Pm=10,onNodesChange:Rm,onEdgesChange:$m,noDragClassName:Mm="nodrag",noWheelClassName:bm="nowheel",noPanClassName:wc="nopan",fitView:zm=!1,fitViewOptions:Am,connectOnClick:Dm=!0,attributionPosition:Lm,proOptions:Om,defaultEdgeOptions:Hm,elevateNodesOnSelect:Fm=!0,elevateEdgesOnSelect:Bm=!1,disableKeyboardA11y:_c=!1,autoPanOnConnect:jm=!0,autoPanOnNodeDrag:Um=!0,connectionRadius:Wm=20,isValidConnection:Vm,onError:Xm,style:Ym,id:xc,nodeDragThreshold:Km,...Qm},Gm)=>{const cl=xc||"1";return M.createElement("div",{...Qm,style:{...Ym,...fE},ref:Gm,className:Ae(["react-flow",o]),"data-testid":"rf__wrapper",id:xc},M.createElement(um,null,M.createElement(oE,{onInit:u,onMove:c,onMoveStart:f,onMoveEnd:d,onNodeClick:l,onEdgeClick:a,onNodeMouseEnter:p,onNodeMouseMove:m,onNodeMouseLeave:w,onNodeContextMenu:E,onNodeDoubleClick:k,nodeTypes:i,edgeTypes:s,connectionLineType:P,connectionLineStyle:D,connectionLineComponent:O,connectionLineContainerStyle:W,selectionKeyCode:Y,selectionOnDrag:G,selectionMode:q,deleteKeyCode:U,multiSelectionKeyCode:re,panActivationKeyCode:oe,zoomActivationKeyCode:ne,onlyRenderVisibleElements:Ue,selectNodesOnDrag:De,defaultViewport:ir,translateExtent:lr,minZoom:sr,maxZoom:Ft,preventScrolling:Pn,zoomOnScroll:ur,zoomOnPinch:eo,zoomOnDoubleClick:Mn,panOnScroll:Le,panOnScrollSpeed:wt,panOnScrollMode:$n,panOnDrag:bn,onPaneClick:Bt,onPaneMouseEnter:$t,onPaneMouseMove:to,onPaneMouseLeave:al,onPaneScroll:no,onPaneContextMenu:ul,onSelectionContextMenu:C,onSelectionStart:L,onSelectionEnd:N,onEdgeContextMenu:zn,onEdgeDoubleClick:vm,onEdgeMouseEnter:wm,onEdgeMouseMove:_m,onEdgeMouseLeave:xm,onReconnect:Cm??Sm,onReconnectStart:Nm??Em,onReconnectEnd:Tm??km,reconnectRadius:Im??Pm,defaultMarkerColor:ar,noDragClassName:Mm,noWheelClassName:bm,noPanClassName:wc,elevateEdgesOnSelect:Bm,rfId:cl,disableKeyboardA11y:_c,nodeOrigin:Q,nodeExtent:Rn}),M.createElement(tS,{nodes:e,edges:t,defaultNodes:n,defaultEdges:r,onConnect:g,onConnectStart:v,onConnectEnd:y,onClickConnectStart:S,onClickConnectEnd:h,nodesDraggable:we,nodesConnectable:tt,nodesFocusable:se,edgesFocusable:We,edgesUpdatable:Ht,elementsSelectable:Jr,elevateNodesOnSelect:Fm,minZoom:sr,maxZoom:Ft,nodeExtent:Rn,onNodesChange:Rm,onEdgesChange:$m,snapToGrid:$e,snapGrid:Ee,connectionMode:x,translateExtent:lr,connectOnClick:Dm,defaultEdgeOptions:Hm,fitView:zm,fitViewOptions:Am,onNodesDelete:z,onEdgesDelete:H,onNodeDragStart:T,onNodeDrag:R,onNodeDragStop:b,onSelectionDrag:_,onSelectionDragStart:B,onSelectionDragStop:$,noPanClassName:wc,nodeOrigin:Q,rfId:cl,autoPanOnConnect:jm,autoPanOnNodeDrag:Um,onError:Xm,connectionRadius:Wm,isValidConnection:Vm,nodeDragThreshold:Km}),M.createElement(Jx,{onSelectionChange:j}),vc,M.createElement(Ix,{proOptions:Om,position:Lm}),M.createElement(sS,{rfId:cl,disableKeyboardA11y:_c})))});cm.displayName="ReactFlow";function fm(e){return t=>{const[n,r]=I.useState(t),o=I.useCallback(i=>r(s=>e(i,s)),[]);return[n,r,o]}}const dE=fm(Gg),hE=fm(_S),dm=({id:e,x:t,y:n,width:r,height:o,style:i,color:s,strokeColor:l,strokeWidth:a,className:u,borderRadius:c,shapeRendering:f,onClick:d,selected:g})=>{const{background:v,backgroundColor:y}=i||{},S=s||v||y;return M.createElement("rect",{className:Ae(["react-flow__minimap-node",{selected:g},u]),x:t,y:n,rx:c,ry:c,width:r,height:o,fill:S,stroke:l,strokeWidth:a,shapeRendering:f,onClick:d?h=>d(h,e):void 0})};dm.displayName="MiniMapNode";var pE=I.memo(dm);const gE=e=>e.nodeOrigin,mE=e=>e.getNodes().filter(t=>!t.hidden&&t.width&&t.height),Yl=e=>e instanceof Function?e:()=>e;function yE({nodeStrokeColor:e="transparent",nodeColor:t="#e2e2e2",nodeClassName:n="",nodeBorderRadius:r=5,nodeStrokeWidth:o=2,nodeComponent:i=pE,onClick:s}){const l=ae(mE,Re),a=ae(gE),u=Yl(t),c=Yl(e),f=Yl(n),d=typeof window>"u"||window.chrome?"crispEdges":"geometricPrecision";return M.createElement(M.Fragment,null,l.map(g=>{const{x:v,y}=Xn(g,a).positionAbsolute;return M.createElement(i,{key:g.id,x:v,y,width:g.width,height:g.height,style:g.style,selected:g.selected,className:f(g),color:u(g),borderRadius:r,strokeColor:c(g),strokeWidth:o,shapeRendering:d,onClick:s,id:g.id})}))}var vE=I.memo(yE);const wE=200,_E=150,xE=e=>{const t=e.getNodes(),n={x:-e.transform[0]/e.transform[2],y:-e.transform[1]/e.transform[2],width:e.width/e.transform[2],height:e.height/e.transform[2]};return{viewBB:n,boundingRect:t.length>0?$x(sl(t,e.nodeOrigin),n):n,rfId:e.rfId}},SE="react-flow__minimap-desc";function hm({style:e,className:t,nodeStrokeColor:n="transparent",nodeColor:r="#e2e2e2",nodeClassName:o="",nodeBorderRadius:i=5,nodeStrokeWidth:s=2,nodeComponent:l,maskColor:a="rgb(240, 240, 240, 0.6)",maskStrokeColor:u="none",maskStrokeWidth:c=1,position:f="bottom-right",onClick:d,onNodeClick:g,pannable:v=!1,zoomable:y=!1,ariaLabel:S="React Flow mini map",inversePan:h=!1,zoomStep:p=10,offsetScale:m=5}){const w=Te(),E=I.useRef(null),{boundingRect:k,viewBB:T,rfId:R}=ae(xE,Re),b=(e==null?void 0:e.width)??wE,z=(e==null?void 0:e.height)??_E,H=k.width/b,j=k.height/z,B=Math.max(H,j),_=B*b,$=B*z,C=m*B,L=k.x-(_-k.width)/2-C,N=k.y-($-k.height)/2-C,x=_+C*2,P=$+C*2,D=`${SE}-${R}`,O=I.useRef(0);O.current=B,I.useEffect(()=>{if(E.current){const Y=dt(E.current),G=re=>{const{transform:ne,d3Selection:$e,d3Zoom:Ee}=w.getState();if(re.sourceEvent.type!=="wheel"||!$e||!Ee)return;const Ue=-re.sourceEvent.deltaY*(re.sourceEvent.deltaMode===1?.05:re.sourceEvent.deltaMode?1:.002)*p,De=ne[2]*Math.pow(2,Ue);Ee.scaleTo($e,De)},q=re=>{const{transform:ne,d3Selection:$e,d3Zoom:Ee,translateExtent:Ue,width:De,height:we}=w.getState();if(re.sourceEvent.type!=="mousemove"||!$e||!Ee)return;const tt=O.current*Math.max(1,ne[2])*(h?-1:1),se={x:ne[0]-re.sourceEvent.movementX*tt,y:ne[1]-re.sourceEvent.movementY*tt},Q=[[0,0],[De,we]],We=Qt.translate(se.x,se.y).scale(ne[2]),Ht=Ee.constrain()(We,Q,Ue);Ee.transform($e,Ht)},oe=yg().on("zoom",v?q:null).on("zoom.wheel",y?G:null);return Y.call(oe),()=>{Y.on("zoom",null)}}},[v,y,h,p]);const W=d?Y=>{const G=Et(Y);d(Y,{x:G[0],y:G[1]})}:void 0,U=g?(Y,G)=>{const q=w.getState().nodeInternals.get(G);g(Y,q)}:void 0;return M.createElement(oc,{position:f,style:e,className:Ae(["react-flow__minimap",t]),"data-testid":"rf__minimap"},M.createElement("svg",{width:b,height:z,viewBox:`${L} ${N} ${x} ${P}`,role:"img","aria-labelledby":D,ref:E,onClick:W},S&&M.createElement("title",{id:D},S),M.createElement(vE,{onClick:U,nodeColor:r,nodeStrokeColor:n,nodeBorderRadius:i,nodeClassName:o,nodeStrokeWidth:s,nodeComponent:l}),M.createElement("path",{className:"react-flow__minimap-mask",d:`M${L-C},${N-C}h${x+C*2}v${P+C*2}h${-x-C*2}z
        M${T.x},${T.y}h${T.width}v${T.height}h${-T.width}z`,fill:a,fillRule:"evenodd",stroke:u,strokeWidth:c,pointerEvents:"none"})))}hm.displayName="MiniMap";var EE=I.memo(hm);function kE(){return M.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32"},M.createElement("path",{d:"M32 18.133H18.133V32h-4.266V18.133H0v-4.266h13.867V0h4.266v13.867H32z"}))}function CE(){return M.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 5"},M.createElement("path",{d:"M0 0h32v4.2H0z"}))}function NE(){return M.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 30"},M.createElement("path",{d:"M3.692 4.63c0-.53.4-.938.939-.938h5.215V0H4.708C2.13 0 0 2.054 0 4.63v5.216h3.692V4.631zM27.354 0h-5.2v3.692h5.17c.53 0 .984.4.984.939v5.215H32V4.631A4.624 4.624 0 0027.354 0zm.954 24.83c0 .532-.4.94-.939.94h-5.215v3.768h5.215c2.577 0 4.631-2.13 4.631-4.707v-5.139h-3.692v5.139zm-23.677.94c-.531 0-.939-.4-.939-.94v-5.138H0v5.139c0 2.577 2.13 4.707 4.708 4.707h5.138V25.77H4.631z"}))}function TE(){return M.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32"},M.createElement("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0 8 0 4.571 3.429 4.571 7.619v3.048H3.048A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047zm4.724-13.866H7.467V7.619c0-2.59 2.133-4.724 4.723-4.724 2.591 0 4.724 2.133 4.724 4.724v3.048z"}))}function IE(){return M.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32"},M.createElement("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0c-4.114 1.828-1.37 2.133.305 2.438 1.676.305 4.42 2.59 4.42 5.181v3.048H3.047A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047z"}))}const Eo=({children:e,className:t,...n})=>M.createElement("button",{type:"button",className:Ae(["react-flow__controls-button",t]),...n},e);Eo.displayName="ControlButton";const PE=e=>({isInteractive:e.nodesDraggable||e.nodesConnectable||e.elementsSelectable,minZoomReached:e.transform[2]<=e.minZoom,maxZoomReached:e.transform[2]>=e.maxZoom}),pm=({style:e,showZoom:t=!0,showFitView:n=!0,showInteractive:r=!0,fitViewOptions:o,onZoomIn:i,onZoomOut:s,onFitView:l,onInteractiveChange:a,className:u,children:c,position:f="bottom-left"})=>{const d=Te(),[g,v]=I.useState(!1),{isInteractive:y,minZoomReached:S,maxZoomReached:h}=ae(PE,Re),{zoomIn:p,zoomOut:m,fitView:w}=hc();if(I.useEffect(()=>{v(!0)},[]),!g)return null;const E=()=>{p(),i==null||i()},k=()=>{m(),s==null||s()},T=()=>{w(o),l==null||l()},R=()=>{d.setState({nodesDraggable:!y,nodesConnectable:!y,elementsSelectable:!y}),a==null||a(!y)};return M.createElement(oc,{className:Ae(["react-flow__controls",u]),position:f,style:e,"data-testid":"rf__controls"},t&&M.createElement(M.Fragment,null,M.createElement(Eo,{onClick:E,className:"react-flow__controls-zoomin",title:"zoom in","aria-label":"zoom in",disabled:h},M.createElement(kE,null)),M.createElement(Eo,{onClick:k,className:"react-flow__controls-zoomout",title:"zoom out","aria-label":"zoom out",disabled:S},M.createElement(CE,null))),n&&M.createElement(Eo,{className:"react-flow__controls-fitview",onClick:T,title:"fit view","aria-label":"fit view"},M.createElement(NE,null)),r&&M.createElement(Eo,{className:"react-flow__controls-interactive",onClick:R,title:"toggle interactivity","aria-label":"toggle interactivity"},y?M.createElement(IE,null):M.createElement(TE,null)),c)};pm.displayName="Controls";var RE=I.memo(pm),mt;(function(e){e.Lines="lines",e.Dots="dots",e.Cross="cross"})(mt||(mt={}));function $E({color:e,dimensions:t,lineWidth:n}){return M.createElement("path",{stroke:e,strokeWidth:n,d:`M${t[0]/2} 0 V${t[1]} M0 ${t[1]/2} H${t[0]}`})}function ME({color:e,radius:t}){return M.createElement("circle",{cx:t,cy:t,r:t,fill:e})}const bE={[mt.Dots]:"#91919a",[mt.Lines]:"#eee",[mt.Cross]:"#e2e2e2"},zE={[mt.Dots]:1,[mt.Lines]:1,[mt.Cross]:6},AE=e=>({transform:e.transform,patternId:`pattern-${e.rfId}`});function gm({id:e,variant:t=mt.Dots,gap:n=20,size:r,lineWidth:o=1,offset:i=2,color:s,style:l,className:a}){const u=I.useRef(null),{transform:c,patternId:f}=ae(AE,Re),d=s||bE[t],g=r||zE[t],v=t===mt.Dots,y=t===mt.Cross,S=Array.isArray(n)?n:[n,n],h=[S[0]*c[2]||1,S[1]*c[2]||1],p=g*c[2],m=y?[p,p]:h,w=v?[p/i,p/i]:[m[0]/i,m[1]/i];return M.createElement("svg",{className:Ae(["react-flow__background",a]),style:{...l,position:"absolute",width:"100%",height:"100%",top:0,left:0},ref:u,"data-testid":"rf__background"},M.createElement("pattern",{id:f+e,x:c[0]%h[0],y:c[1]%h[1],width:h[0],height:h[1],patternUnits:"userSpaceOnUse",patternTransform:`translate(-${w[0]},-${w[1]})`},v?M.createElement(ME,{color:d,radius:p/i}):M.createElement($E,{dimensions:m,color:d,lineWidth:o})),M.createElement("rect",{x:"0",y:"0",width:"100%",height:"100%",fill:`url(#${f+e})`}))}gm.displayName="Background";var DE=I.memo(gm);const LE=({data:e})=>{const[t,n]=I.useState(!0),[r,o]=I.useState([]),i=e.isActive||!1,s=e.globalToolCounts||{},l=a=>{a.stopPropagation(),console.log(` Clicked ${e.name}, current expanded:`,t,"will toggle to:",!t),n(!t)};return I.useEffect(()=>{if(console.log(` AgentNode ${e.name} received data update:`,{lastToolCalled:e.lastToolCalled,lastToolTimestamp:e.lastToolTimestamp,isActive:e.isActive}),e.lastToolCalled&&e.lastToolTimestamp){console.log(` Tool highlight triggered for ${e.name}:`,e.lastToolCalled),o(u=>{if(u.some(f=>f.timestamp===e.lastToolTimestamp))return u;const c=[{name:e.lastToolCalled,timestamp:e.lastToolTimestamp},...u.slice(0,2)];return console.log(`   Updated recentTools for ${e.name}:`,c),c});const a=setTimeout(()=>{o(u=>u.filter(c=>c.timestamp!==e.lastToolTimestamp))},3e3);return()=>clearTimeout(a)}},[e.lastToolCalled,e.lastToolTimestamp,e.name]),X.jsxs("div",{style:{background:"white",border:`3px solid ${e.color}`,borderRadius:"16px",padding:"16px",minWidth:"300px",maxWidth:"400px",boxShadow:i?`0 0 30px ${e.color}, 0 0 60px ${e.color}, 0 10px 15px -3px rgba(0, 0, 0, 0.1)`:"0 10px 15px -3px rgba(0, 0, 0, 0.1)",cursor:"pointer",transition:"all 0.3s ease",transform:i?"scale(1.05)":"scale(1)"},onClick:l,children:[X.jsx(Kr,{type:"target",position:K.Top,style:{background:e.color}}),X.jsxs("div",{style:{marginBottom:"12px"},children:[X.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"10px",marginBottom:"8px"},children:[X.jsx("span",{style:{fontSize:"32px"},children:e.emoji}),X.jsxs("div",{style:{flex:1},children:[X.jsxs("div",{style:{fontSize:"18px",fontWeight:"bold",color:"#1f2937",marginBottom:"4px",display:"flex",alignItems:"center",gap:"8px"},children:[e.name,e.activeOrders>0&&X.jsx("span",{style:{background:e.color,color:"white",fontSize:"11px",padding:"2px 8px",borderRadius:"12px",fontWeight:"bold"},children:e.activeOrders})]}),X.jsx("div",{style:{fontSize:"12px",color:"#6b7280",fontStyle:"italic"},children:e.agentId})]})]}),X.jsx("div",{style:{padding:"8px 12px",background:`${e.color}15`,borderRadius:"8px",fontSize:"13px",color:"#374151",lineHeight:"1.5"},children:e.domain})]}),t&&X.jsxs("div",{style:{borderTop:`2px solid ${e.color}20`,paddingTop:"12px",marginTop:"12px"},children:[X.jsxs("div",{style:{fontSize:"14px",fontWeight:"bold",color:e.color,marginBottom:"8px",display:"flex",alignItems:"center",gap:"6px"},children:[X.jsx("span",{children:""}),"Available Tools (",e.tools.length,")"]}),X.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"6px"},children:e.tools.map((a,u)=>{const c=r.some(d=>d.name===a.name),f=s[`${e.name}:${a.name}`]||0;return X.jsxs("div",{style:{padding:"10px",background:c?`linear-gradient(135deg, ${e.color}40 0%, ${e.color}20 100%)`:f>0?"#f3f4f6":"#f9fafb",borderRadius:"8px",fontSize:"12px",borderLeft:`4px solid ${c?e.color:f>0?"#9ca3af":"#e5e7eb"}`,transition:"all 0.2s ease",transform:c?"scale(1.02)":"scale(1)",boxShadow:c?`0 4px 12px ${e.color}60, 0 0 20px ${e.color}40`:f>0?"0 1px 3px rgba(0, 0, 0, 0.1)":"none",position:"relative",border:c?`2px solid ${e.color}`:"1px solid transparent"},children:[X.jsxs("div",{style:{fontWeight:"bold",color:c?e.color:"#1f2937",fontFamily:"monospace",display:"flex",alignItems:"center",gap:"8px",justifyContent:"space-between"},children:[X.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"6px"},children:[c&&X.jsx("span",{style:{fontSize:"14px",animation:"pulse 0.5s ease-in-out infinite"},children:""}),a.name,"()"]}),f>0&&X.jsx("span",{style:{background:c?e.color:"#6b7280",color:"white",fontSize:"10px",fontWeight:"bold",padding:"2px 6px",borderRadius:"10px",minWidth:"20px",textAlign:"center"},children:f})]}),X.jsx("div",{style:{color:"#6b7280",marginTop:"4px",fontSize:"11px"},children:a.desc}),c&&X.jsx("div",{style:{position:"absolute",top:0,left:0,right:0,height:"2px",background:`linear-gradient(90deg, transparent, ${e.color}, transparent)`,animation:"shimmer 1s ease-in-out infinite"}})]},u)})})]}),!t&&X.jsxs("div",{style:{fontSize:"11px",color:"#9ca3af",textAlign:"center",marginTop:"8px",fontStyle:"italic"},children:["Click to see ",e.tools.length," tools"]}),X.jsx(Kr,{type:"source",position:K.Bottom,style:{background:e.color}})]})};class Yn extends Error{constructor(t,n){const r=new.target.prototype;super(`${t}: Status code '${n}'`),this.statusCode=n,this.__proto__=r}}class gc extends Error{constructor(t="A timeout occurred."){const n=new.target.prototype;super(t),this.__proto__=n}}class Nt extends Error{constructor(t="An abort occurred."){const n=new.target.prototype;super(t),this.__proto__=n}}class OE extends Error{constructor(t,n){const r=new.target.prototype;super(t),this.transport=n,this.errorType="UnsupportedTransportError",this.__proto__=r}}class HE extends Error{constructor(t,n){const r=new.target.prototype;super(t),this.transport=n,this.errorType="DisabledTransportError",this.__proto__=r}}class FE extends Error{constructor(t,n){const r=new.target.prototype;super(t),this.transport=n,this.errorType="FailedToStartTransportError",this.__proto__=r}}class xd extends Error{constructor(t){const n=new.target.prototype;super(t),this.errorType="FailedToNegotiateWithServerError",this.__proto__=n}}class BE extends Error{constructor(t,n){const r=new.target.prototype;super(t),this.innerErrors=n,this.__proto__=r}}class mm{constructor(t,n,r){this.statusCode=t,this.statusText=n,this.content=r}}class ll{get(t,n){return this.send({...n,method:"GET",url:t})}post(t,n){return this.send({...n,method:"POST",url:t})}delete(t,n){return this.send({...n,method:"DELETE",url:t})}getCookieString(t){return""}}var A;(function(e){e[e.Trace=0]="Trace",e[e.Debug=1]="Debug",e[e.Information=2]="Information",e[e.Warning=3]="Warning",e[e.Error=4]="Error",e[e.Critical=5]="Critical",e[e.None=6]="None"})(A||(A={}));class oi{constructor(){}log(t,n){}}oi.instance=new oi;const jE="9.0.6";class xe{static isRequired(t,n){if(t==null)throw new Error(`The '${n}' argument is required.`)}static isNotEmpty(t,n){if(!t||t.match(/^\s*$/))throw new Error(`The '${n}' argument should not be empty.`)}static isIn(t,n,r){if(!(t in n))throw new Error(`Unknown ${r} value: ${t}.`)}}class pe{static get isBrowser(){return!pe.isNode&&typeof window=="object"&&typeof window.document=="object"}static get isWebWorker(){return!pe.isNode&&typeof self=="object"&&"importScripts"in self}static get isReactNative(){return!pe.isNode&&typeof window=="object"&&typeof window.document>"u"}static get isNode(){return typeof process<"u"&&process.release&&process.release.name==="node"}}function ii(e,t){let n="";return nr(e)?(n=`Binary data of length ${e.byteLength}`,t&&(n+=`. Content: '${UE(e)}'`)):typeof e=="string"&&(n=`String data of length ${e.length}`,t&&(n+=`. Content: '${e}'`)),n}function UE(e){const t=new Uint8Array(e);let n="";return t.forEach(r=>{const o=r<16?"0":"";n+=`0x${o}${r.toString(16)} `}),n.substr(0,n.length-1)}function nr(e){return e&&typeof ArrayBuffer<"u"&&(e instanceof ArrayBuffer||e.constructor&&e.constructor.name==="ArrayBuffer")}async function ym(e,t,n,r,o,i){const s={},[l,a]=Qr();s[l]=a,e.log(A.Trace,`(${t} transport) sending data. ${ii(o,i.logMessageContent)}.`);const u=nr(o)?"arraybuffer":"text",c=await n.post(r,{content:o,headers:{...s,...i.headers},responseType:u,timeout:i.timeout,withCredentials:i.withCredentials});e.log(A.Trace,`(${t} transport) request complete. Response status: ${c.statusCode}.`)}function WE(e){return e===void 0?new Ds(A.Information):e===null?oi.instance:e.log!==void 0?e:new Ds(e)}class VE{constructor(t,n){this._subject=t,this._observer=n}dispose(){const t=this._subject.observers.indexOf(this._observer);t>-1&&this._subject.observers.splice(t,1),this._subject.observers.length===0&&this._subject.cancelCallback&&this._subject.cancelCallback().catch(n=>{})}}class Ds{constructor(t){this._minLevel=t,this.out=console}log(t,n){if(t>=this._minLevel){const r=`[${new Date().toISOString()}] ${A[t]}: ${n}`;switch(t){case A.Critical:case A.Error:this.out.error(r);break;case A.Warning:this.out.warn(r);break;case A.Information:this.out.info(r);break;default:this.out.log(r);break}}}}function Qr(){let e="X-SignalR-User-Agent";return pe.isNode&&(e="User-Agent"),[e,XE(jE,YE(),QE(),KE())]}function XE(e,t,n,r){let o="Microsoft SignalR/";const i=e.split(".");return o+=`${i[0]}.${i[1]}`,o+=` (${e}; `,t&&t!==""?o+=`${t}; `:o+="Unknown OS; ",o+=`${n}`,r?o+=`; ${r}`:o+="; Unknown Runtime Version",o+=")",o}function YE(){if(pe.isNode)switch(process.platform){case"win32":return"Windows NT";case"darwin":return"macOS";case"linux":return"Linux";default:return process.platform}else return""}function KE(){if(pe.isNode)return process.versions.node}function QE(){return pe.isNode?"NodeJS":"Browser"}function Kl(e){return e.stack?e.stack:e.message?e.message:`${e}`}function GE(){if(typeof globalThis<"u")return globalThis;if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("could not find global")}class ZE extends ll{constructor(t){if(super(),this._logger=t,typeof fetch>"u"||pe.isNode){const n=typeof __webpack_require__=="function"?__non_webpack_require__:require;this._jar=new(n("tough-cookie")).CookieJar,typeof fetch>"u"?this._fetchType=n("node-fetch"):this._fetchType=fetch,this._fetchType=n("fetch-cookie")(this._fetchType,this._jar)}else this._fetchType=fetch.bind(GE());if(typeof AbortController>"u"){const n=typeof __webpack_require__=="function"?__non_webpack_require__:require;this._abortControllerType=n("abort-controller")}else this._abortControllerType=AbortController}async send(t){if(t.abortSignal&&t.abortSignal.aborted)throw new Nt;if(!t.method)throw new Error("No method defined.");if(!t.url)throw new Error("No url defined.");const n=new this._abortControllerType;let r;t.abortSignal&&(t.abortSignal.onabort=()=>{n.abort(),r=new Nt});let o=null;if(t.timeout){const a=t.timeout;o=setTimeout(()=>{n.abort(),this._logger.log(A.Warning,"Timeout from HTTP request."),r=new gc},a)}t.content===""&&(t.content=void 0),t.content&&(t.headers=t.headers||{},nr(t.content)?t.headers["Content-Type"]="application/octet-stream":t.headers["Content-Type"]="text/plain;charset=UTF-8");let i;try{i=await this._fetchType(t.url,{body:t.content,cache:"no-cache",credentials:t.withCredentials===!0?"include":"same-origin",headers:{"X-Requested-With":"XMLHttpRequest",...t.headers},method:t.method,mode:"cors",redirect:"follow",signal:n.signal})}catch(a){throw r||(this._logger.log(A.Warning,`Error from HTTP request. ${a}.`),a)}finally{o&&clearTimeout(o),t.abortSignal&&(t.abortSignal.onabort=null)}if(!i.ok){const a=await Sd(i,"text");throw new Yn(a||i.statusText,i.status)}const l=await Sd(i,t.responseType);return new mm(i.status,i.statusText,l)}getCookieString(t){let n="";return pe.isNode&&this._jar&&this._jar.getCookies(t,(r,o)=>n=o.join("; ")),n}}function Sd(e,t){let n;switch(t){case"arraybuffer":n=e.arrayBuffer();break;case"text":n=e.text();break;case"blob":case"document":case"json":throw new Error(`${t} is not supported.`);default:n=e.text();break}return n}class qE extends ll{constructor(t){super(),this._logger=t}send(t){return t.abortSignal&&t.abortSignal.aborted?Promise.reject(new Nt):t.method?t.url?new Promise((n,r)=>{const o=new XMLHttpRequest;o.open(t.method,t.url,!0),o.withCredentials=t.withCredentials===void 0?!0:t.withCredentials,o.setRequestHeader("X-Requested-With","XMLHttpRequest"),t.content===""&&(t.content=void 0),t.content&&(nr(t.content)?o.setRequestHeader("Content-Type","application/octet-stream"):o.setRequestHeader("Content-Type","text/plain;charset=UTF-8"));const i=t.headers;i&&Object.keys(i).forEach(s=>{o.setRequestHeader(s,i[s])}),t.responseType&&(o.responseType=t.responseType),t.abortSignal&&(t.abortSignal.onabort=()=>{o.abort(),r(new Nt)}),t.timeout&&(o.timeout=t.timeout),o.onload=()=>{t.abortSignal&&(t.abortSignal.onabort=null),o.status>=200&&o.status<300?n(new mm(o.status,o.statusText,o.response||o.responseText)):r(new Yn(o.response||o.responseText||o.statusText,o.status))},o.onerror=()=>{this._logger.log(A.Warning,`Error from HTTP request. ${o.status}: ${o.statusText}.`),r(new Yn(o.statusText,o.status))},o.ontimeout=()=>{this._logger.log(A.Warning,"Timeout from HTTP request."),r(new gc)},o.send(t.content)}):Promise.reject(new Error("No url defined.")):Promise.reject(new Error("No method defined."))}}class JE extends ll{constructor(t){if(super(),typeof fetch<"u"||pe.isNode)this._httpClient=new ZE(t);else if(typeof XMLHttpRequest<"u")this._httpClient=new qE(t);else throw new Error("No usable HttpClient found.")}send(t){return t.abortSignal&&t.abortSignal.aborted?Promise.reject(new Nt):t.method?t.url?this._httpClient.send(t):Promise.reject(new Error("No url defined.")):Promise.reject(new Error("No method defined."))}getCookieString(t){return this._httpClient.getCookieString(t)}}class ot{static write(t){return`${t}${ot.RecordSeparator}`}static parse(t){if(t[t.length-1]!==ot.RecordSeparator)throw new Error("Message is incomplete.");const n=t.split(ot.RecordSeparator);return n.pop(),n}}ot.RecordSeparatorCode=30;ot.RecordSeparator=String.fromCharCode(ot.RecordSeparatorCode);class ek{writeHandshakeRequest(t){return ot.write(JSON.stringify(t))}parseHandshakeResponse(t){let n,r;if(nr(t)){const l=new Uint8Array(t),a=l.indexOf(ot.RecordSeparatorCode);if(a===-1)throw new Error("Message is incomplete.");const u=a+1;n=String.fromCharCode.apply(null,Array.prototype.slice.call(l.slice(0,u))),r=l.byteLength>u?l.slice(u).buffer:null}else{const l=t,a=l.indexOf(ot.RecordSeparator);if(a===-1)throw new Error("Message is incomplete.");const u=a+1;n=l.substring(0,u),r=l.length>u?l.substring(u):null}const o=ot.parse(n),i=JSON.parse(o[0]);if(i.type)throw new Error("Expected a handshake response from the server.");return[r,i]}}var Z;(function(e){e[e.Invocation=1]="Invocation",e[e.StreamItem=2]="StreamItem",e[e.Completion=3]="Completion",e[e.StreamInvocation=4]="StreamInvocation",e[e.CancelInvocation=5]="CancelInvocation",e[e.Ping=6]="Ping",e[e.Close=7]="Close",e[e.Ack=8]="Ack",e[e.Sequence=9]="Sequence"})(Z||(Z={}));class tk{constructor(){this.observers=[]}next(t){for(const n of this.observers)n.next(t)}error(t){for(const n of this.observers)n.error&&n.error(t)}complete(){for(const t of this.observers)t.complete&&t.complete()}subscribe(t){return this.observers.push(t),new VE(this,t)}}class nk{constructor(t,n,r){this._bufferSize=1e5,this._messages=[],this._totalMessageCount=0,this._waitForSequenceMessage=!1,this._nextReceivingSequenceId=1,this._latestReceivedSequenceId=0,this._bufferedByteCount=0,this._reconnectInProgress=!1,this._protocol=t,this._connection=n,this._bufferSize=r}async _send(t){const n=this._protocol.writeMessage(t);let r=Promise.resolve();if(this._isInvocationMessage(t)){this._totalMessageCount++;let o=()=>{},i=()=>{};nr(n)?this._bufferedByteCount+=n.byteLength:this._bufferedByteCount+=n.length,this._bufferedByteCount>=this._bufferSize&&(r=new Promise((s,l)=>{o=s,i=l})),this._messages.push(new rk(n,this._totalMessageCount,o,i))}try{this._reconnectInProgress||await this._connection.send(n)}catch{this._disconnected()}await r}_ack(t){let n=-1;for(let r=0;r<this._messages.length;r++){const o=this._messages[r];if(o._id<=t.sequenceId)n=r,nr(o._message)?this._bufferedByteCount-=o._message.byteLength:this._bufferedByteCount-=o._message.length,o._resolver();else if(this._bufferedByteCount<this._bufferSize)o._resolver();else break}n!==-1&&(this._messages=this._messages.slice(n+1))}_shouldProcessMessage(t){if(this._waitForSequenceMessage)return t.type!==Z.Sequence?!1:(this._waitForSequenceMessage=!1,!0);if(!this._isInvocationMessage(t))return!0;const n=this._nextReceivingSequenceId;return this._nextReceivingSequenceId++,n<=this._latestReceivedSequenceId?(n===this._latestReceivedSequenceId&&this._ackTimer(),!1):(this._latestReceivedSequenceId=n,this._ackTimer(),!0)}_resetSequence(t){if(t.sequenceId>this._nextReceivingSequenceId){this._connection.stop(new Error("Sequence ID greater than amount of messages we've received."));return}this._nextReceivingSequenceId=t.sequenceId}_disconnected(){this._reconnectInProgress=!0,this._waitForSequenceMessage=!0}async _resend(){const t=this._messages.length!==0?this._messages[0]._id:this._totalMessageCount+1;await this._connection.send(this._protocol.writeMessage({type:Z.Sequence,sequenceId:t}));const n=this._messages;for(const r of n)await this._connection.send(r._message);this._reconnectInProgress=!1}_dispose(t){t??(t=new Error("Unable to reconnect to server."));for(const n of this._messages)n._rejector(t)}_isInvocationMessage(t){switch(t.type){case Z.Invocation:case Z.StreamItem:case Z.Completion:case Z.StreamInvocation:case Z.CancelInvocation:return!0;case Z.Close:case Z.Sequence:case Z.Ping:case Z.Ack:return!1}}_ackTimer(){this._ackTimerHandle===void 0&&(this._ackTimerHandle=setTimeout(async()=>{try{this._reconnectInProgress||await this._connection.send(this._protocol.writeMessage({type:Z.Ack,sequenceId:this._latestReceivedSequenceId}))}catch{}clearTimeout(this._ackTimerHandle),this._ackTimerHandle=void 0},1e3))}}class rk{constructor(t,n,r,o){this._message=t,this._id=n,this._resolver=r,this._rejector=o}}const ok=30*1e3,ik=15*1e3,sk=1e5;var fe;(function(e){e.Disconnected="Disconnected",e.Connecting="Connecting",e.Connected="Connected",e.Disconnecting="Disconnecting",e.Reconnecting="Reconnecting"})(fe||(fe={}));class mc{static create(t,n,r,o,i,s,l){return new mc(t,n,r,o,i,s,l)}constructor(t,n,r,o,i,s,l){this._nextKeepAlive=0,this._freezeEventListener=()=>{this._logger.log(A.Warning,"The page is being frozen, this will likely lead to the connection being closed and messages being lost. For more information see the docs at https://learn.microsoft.com/aspnet/core/signalr/javascript-client#bsleep")},xe.isRequired(t,"connection"),xe.isRequired(n,"logger"),xe.isRequired(r,"protocol"),this.serverTimeoutInMilliseconds=i??ok,this.keepAliveIntervalInMilliseconds=s??ik,this._statefulReconnectBufferSize=l??sk,this._logger=n,this._protocol=r,this.connection=t,this._reconnectPolicy=o,this._handshakeProtocol=new ek,this.connection.onreceive=a=>this._processIncomingData(a),this.connection.onclose=a=>this._connectionClosed(a),this._callbacks={},this._methods={},this._closedCallbacks=[],this._reconnectingCallbacks=[],this._reconnectedCallbacks=[],this._invocationId=0,this._receivedHandshakeResponse=!1,this._connectionState=fe.Disconnected,this._connectionStarted=!1,this._cachedPingMessage=this._protocol.writeMessage({type:Z.Ping})}get state(){return this._connectionState}get connectionId(){return this.connection&&this.connection.connectionId||null}get baseUrl(){return this.connection.baseUrl||""}set baseUrl(t){if(this._connectionState!==fe.Disconnected&&this._connectionState!==fe.Reconnecting)throw new Error("The HubConnection must be in the Disconnected or Reconnecting state to change the url.");if(!t)throw new Error("The HubConnection url must be a valid url.");this.connection.baseUrl=t}start(){return this._startPromise=this._startWithStateTransitions(),this._startPromise}async _startWithStateTransitions(){if(this._connectionState!==fe.Disconnected)return Promise.reject(new Error("Cannot start a HubConnection that is not in the 'Disconnected' state."));this._connectionState=fe.Connecting,this._logger.log(A.Debug,"Starting HubConnection.");try{await this._startInternal(),pe.isBrowser&&window.document.addEventListener("freeze",this._freezeEventListener),this._connectionState=fe.Connected,this._connectionStarted=!0,this._logger.log(A.Debug,"HubConnection connected successfully.")}catch(t){return this._connectionState=fe.Disconnected,this._logger.log(A.Debug,`HubConnection failed to start successfully because of error '${t}'.`),Promise.reject(t)}}async _startInternal(){this._stopDuringStartError=void 0,this._receivedHandshakeResponse=!1;const t=new Promise((n,r)=>{this._handshakeResolver=n,this._handshakeRejecter=r});await this.connection.start(this._protocol.transferFormat);try{let n=this._protocol.version;this.connection.features.reconnect||(n=1);const r={protocol:this._protocol.name,version:n};if(this._logger.log(A.Debug,"Sending handshake request."),await this._sendMessage(this._handshakeProtocol.writeHandshakeRequest(r)),this._logger.log(A.Information,`Using HubProtocol '${this._protocol.name}'.`),this._cleanupTimeout(),this._resetTimeoutPeriod(),this._resetKeepAliveInterval(),await t,this._stopDuringStartError)throw this._stopDuringStartError;(this.connection.features.reconnect||!1)&&(this._messageBuffer=new nk(this._protocol,this.connection,this._statefulReconnectBufferSize),this.connection.features.disconnected=this._messageBuffer._disconnected.bind(this._messageBuffer),this.connection.features.resend=()=>{if(this._messageBuffer)return this._messageBuffer._resend()}),this.connection.features.inherentKeepAlive||await this._sendMessage(this._cachedPingMessage)}catch(n){throw this._logger.log(A.Debug,`Hub handshake failed with error '${n}' during start(). Stopping HubConnection.`),this._cleanupTimeout(),this._cleanupPingTimer(),await this.connection.stop(n),n}}async stop(){const t=this._startPromise;this.connection.features.reconnect=!1,this._stopPromise=this._stopInternal(),await this._stopPromise;try{await t}catch{}}_stopInternal(t){if(this._connectionState===fe.Disconnected)return this._logger.log(A.Debug,`Call to HubConnection.stop(${t}) ignored because it is already in the disconnected state.`),Promise.resolve();if(this._connectionState===fe.Disconnecting)return this._logger.log(A.Debug,`Call to HttpConnection.stop(${t}) ignored because the connection is already in the disconnecting state.`),this._stopPromise;const n=this._connectionState;return this._connectionState=fe.Disconnecting,this._logger.log(A.Debug,"Stopping HubConnection."),this._reconnectDelayHandle?(this._logger.log(A.Debug,"Connection stopped during reconnect delay. Done reconnecting."),clearTimeout(this._reconnectDelayHandle),this._reconnectDelayHandle=void 0,this._completeClose(),Promise.resolve()):(n===fe.Connected&&this._sendCloseMessage(),this._cleanupTimeout(),this._cleanupPingTimer(),this._stopDuringStartError=t||new Nt("The connection was stopped before the hub handshake could complete."),this.connection.stop(t))}async _sendCloseMessage(){try{await this._sendWithProtocol(this._createCloseMessage())}catch{}}stream(t,...n){const[r,o]=this._replaceStreamingParams(n),i=this._createStreamInvocation(t,n,o);let s;const l=new tk;return l.cancelCallback=()=>{const a=this._createCancelInvocation(i.invocationId);return delete this._callbacks[i.invocationId],s.then(()=>this._sendWithProtocol(a))},this._callbacks[i.invocationId]=(a,u)=>{if(u){l.error(u);return}else a&&(a.type===Z.Completion?a.error?l.error(new Error(a.error)):l.complete():l.next(a.item))},s=this._sendWithProtocol(i).catch(a=>{l.error(a),delete this._callbacks[i.invocationId]}),this._launchStreams(r,s),l}_sendMessage(t){return this._resetKeepAliveInterval(),this.connection.send(t)}_sendWithProtocol(t){return this._messageBuffer?this._messageBuffer._send(t):this._sendMessage(this._protocol.writeMessage(t))}send(t,...n){const[r,o]=this._replaceStreamingParams(n),i=this._sendWithProtocol(this._createInvocation(t,n,!0,o));return this._launchStreams(r,i),i}invoke(t,...n){const[r,o]=this._replaceStreamingParams(n),i=this._createInvocation(t,n,!1,o);return new Promise((l,a)=>{this._callbacks[i.invocationId]=(c,f)=>{if(f){a(f);return}else c&&(c.type===Z.Completion?c.error?a(new Error(c.error)):l(c.result):a(new Error(`Unexpected message type: ${c.type}`)))};const u=this._sendWithProtocol(i).catch(c=>{a(c),delete this._callbacks[i.invocationId]});this._launchStreams(r,u)})}on(t,n){!t||!n||(t=t.toLowerCase(),this._methods[t]||(this._methods[t]=[]),this._methods[t].indexOf(n)===-1&&this._methods[t].push(n))}off(t,n){if(!t)return;t=t.toLowerCase();const r=this._methods[t];if(r)if(n){const o=r.indexOf(n);o!==-1&&(r.splice(o,1),r.length===0&&delete this._methods[t])}else delete this._methods[t]}onclose(t){t&&this._closedCallbacks.push(t)}onreconnecting(t){t&&this._reconnectingCallbacks.push(t)}onreconnected(t){t&&this._reconnectedCallbacks.push(t)}_processIncomingData(t){if(this._cleanupTimeout(),this._receivedHandshakeResponse||(t=this._processHandshakeResponse(t),this._receivedHandshakeResponse=!0),t){const n=this._protocol.parseMessages(t,this._logger);for(const r of n)if(!(this._messageBuffer&&!this._messageBuffer._shouldProcessMessage(r)))switch(r.type){case Z.Invocation:this._invokeClientMethod(r).catch(o=>{this._logger.log(A.Error,`Invoke client method threw error: ${Kl(o)}`)});break;case Z.StreamItem:case Z.Completion:{const o=this._callbacks[r.invocationId];if(o){r.type===Z.Completion&&delete this._callbacks[r.invocationId];try{o(r)}catch(i){this._logger.log(A.Error,`Stream callback threw error: ${Kl(i)}`)}}break}case Z.Ping:break;case Z.Close:{this._logger.log(A.Information,"Close message received from server.");const o=r.error?new Error("Server returned an error on close: "+r.error):void 0;r.allowReconnect===!0?this.connection.stop(o):this._stopPromise=this._stopInternal(o);break}case Z.Ack:this._messageBuffer&&this._messageBuffer._ack(r);break;case Z.Sequence:this._messageBuffer&&this._messageBuffer._resetSequence(r);break;default:this._logger.log(A.Warning,`Invalid message type: ${r.type}.`);break}}this._resetTimeoutPeriod()}_processHandshakeResponse(t){let n,r;try{[r,n]=this._handshakeProtocol.parseHandshakeResponse(t)}catch(o){const i="Error parsing handshake response: "+o;this._logger.log(A.Error,i);const s=new Error(i);throw this._handshakeRejecter(s),s}if(n.error){const o="Server returned handshake error: "+n.error;this._logger.log(A.Error,o);const i=new Error(o);throw this._handshakeRejecter(i),i}else this._logger.log(A.Debug,"Server handshake complete.");return this._handshakeResolver(),r}_resetKeepAliveInterval(){this.connection.features.inherentKeepAlive||(this._nextKeepAlive=new Date().getTime()+this.keepAliveIntervalInMilliseconds,this._cleanupPingTimer())}_resetTimeoutPeriod(){if((!this.connection.features||!this.connection.features.inherentKeepAlive)&&(this._timeoutHandle=setTimeout(()=>this.serverTimeout(),this.serverTimeoutInMilliseconds),this._pingServerHandle===void 0)){let t=this._nextKeepAlive-new Date().getTime();t<0&&(t=0),this._pingServerHandle=setTimeout(async()=>{if(this._connectionState===fe.Connected)try{await this._sendMessage(this._cachedPingMessage)}catch{this._cleanupPingTimer()}},t)}}serverTimeout(){this.connection.stop(new Error("Server timeout elapsed without receiving a message from the server."))}async _invokeClientMethod(t){const n=t.target.toLowerCase(),r=this._methods[n];if(!r){this._logger.log(A.Warning,`No client method with the name '${n}' found.`),t.invocationId&&(this._logger.log(A.Warning,`No result given for '${n}' method and invocation ID '${t.invocationId}'.`),await this._sendWithProtocol(this._createCompletionMessage(t.invocationId,"Client didn't provide a result.",null)));return}const o=r.slice(),i=!!t.invocationId;let s,l,a;for(const u of o)try{const c=s;s=await u.apply(this,t.arguments),i&&s&&c&&(this._logger.log(A.Error,`Multiple results provided for '${n}'. Sending error to server.`),a=this._createCompletionMessage(t.invocationId,"Client provided multiple results.",null)),l=void 0}catch(c){l=c,this._logger.log(A.Error,`A callback for the method '${n}' threw error '${c}'.`)}a?await this._sendWithProtocol(a):i?(l?a=this._createCompletionMessage(t.invocationId,`${l}`,null):s!==void 0?a=this._createCompletionMessage(t.invocationId,null,s):(this._logger.log(A.Warning,`No result given for '${n}' method and invocation ID '${t.invocationId}'.`),a=this._createCompletionMessage(t.invocationId,"Client didn't provide a result.",null)),await this._sendWithProtocol(a)):s&&this._logger.log(A.Error,`Result given for '${n}' method but server is not expecting a result.`)}_connectionClosed(t){this._logger.log(A.Debug,`HubConnection.connectionClosed(${t}) called while in state ${this._connectionState}.`),this._stopDuringStartError=this._stopDuringStartError||t||new Nt("The underlying connection was closed before the hub handshake could complete."),this._handshakeResolver&&this._handshakeResolver(),this._cancelCallbacksWithError(t||new Error("Invocation canceled due to the underlying connection being closed.")),this._cleanupTimeout(),this._cleanupPingTimer(),this._connectionState===fe.Disconnecting?this._completeClose(t):this._connectionState===fe.Connected&&this._reconnectPolicy?this._reconnect(t):this._connectionState===fe.Connected&&this._completeClose(t)}_completeClose(t){if(this._connectionStarted){this._connectionState=fe.Disconnected,this._connectionStarted=!1,this._messageBuffer&&(this._messageBuffer._dispose(t??new Error("Connection closed.")),this._messageBuffer=void 0),pe.isBrowser&&window.document.removeEventListener("freeze",this._freezeEventListener);try{this._closedCallbacks.forEach(n=>n.apply(this,[t]))}catch(n){this._logger.log(A.Error,`An onclose callback called with error '${t}' threw error '${n}'.`)}}}async _reconnect(t){const n=Date.now();let r=0,o=t!==void 0?t:new Error("Attempting to reconnect due to a unknown error."),i=this._getNextRetryDelay(r++,0,o);if(i===null){this._logger.log(A.Debug,"Connection not reconnecting because the IRetryPolicy returned null on the first reconnect attempt."),this._completeClose(t);return}if(this._connectionState=fe.Reconnecting,t?this._logger.log(A.Information,`Connection reconnecting because of error '${t}'.`):this._logger.log(A.Information,"Connection reconnecting."),this._reconnectingCallbacks.length!==0){try{this._reconnectingCallbacks.forEach(s=>s.apply(this,[t]))}catch(s){this._logger.log(A.Error,`An onreconnecting callback called with error '${t}' threw error '${s}'.`)}if(this._connectionState!==fe.Reconnecting){this._logger.log(A.Debug,"Connection left the reconnecting state in onreconnecting callback. Done reconnecting.");return}}for(;i!==null;){if(this._logger.log(A.Information,`Reconnect attempt number ${r} will start in ${i} ms.`),await new Promise(s=>{this._reconnectDelayHandle=setTimeout(s,i)}),this._reconnectDelayHandle=void 0,this._connectionState!==fe.Reconnecting){this._logger.log(A.Debug,"Connection left the reconnecting state during reconnect delay. Done reconnecting.");return}try{if(await this._startInternal(),this._connectionState=fe.Connected,this._logger.log(A.Information,"HubConnection reconnected successfully."),this._reconnectedCallbacks.length!==0)try{this._reconnectedCallbacks.forEach(s=>s.apply(this,[this.connection.connectionId]))}catch(s){this._logger.log(A.Error,`An onreconnected callback called with connectionId '${this.connection.connectionId}; threw error '${s}'.`)}return}catch(s){if(this._logger.log(A.Information,`Reconnect attempt failed because of error '${s}'.`),this._connectionState!==fe.Reconnecting){this._logger.log(A.Debug,`Connection moved to the '${this._connectionState}' from the reconnecting state during reconnect attempt. Done reconnecting.`),this._connectionState===fe.Disconnecting&&this._completeClose();return}o=s instanceof Error?s:new Error(s.toString()),i=this._getNextRetryDelay(r++,Date.now()-n,o)}}this._logger.log(A.Information,`Reconnect retries have been exhausted after ${Date.now()-n} ms and ${r} failed attempts. Connection disconnecting.`),this._completeClose()}_getNextRetryDelay(t,n,r){try{return this._reconnectPolicy.nextRetryDelayInMilliseconds({elapsedMilliseconds:n,previousRetryCount:t,retryReason:r})}catch(o){return this._logger.log(A.Error,`IRetryPolicy.nextRetryDelayInMilliseconds(${t}, ${n}) threw error '${o}'.`),null}}_cancelCallbacksWithError(t){const n=this._callbacks;this._callbacks={},Object.keys(n).forEach(r=>{const o=n[r];try{o(null,t)}catch(i){this._logger.log(A.Error,`Stream 'error' callback called with '${t}' threw error: ${Kl(i)}`)}})}_cleanupPingTimer(){this._pingServerHandle&&(clearTimeout(this._pingServerHandle),this._pingServerHandle=void 0)}_cleanupTimeout(){this._timeoutHandle&&clearTimeout(this._timeoutHandle)}_createInvocation(t,n,r,o){if(r)return o.length!==0?{target:t,arguments:n,streamIds:o,type:Z.Invocation}:{target:t,arguments:n,type:Z.Invocation};{const i=this._invocationId;return this._invocationId++,o.length!==0?{target:t,arguments:n,invocationId:i.toString(),streamIds:o,type:Z.Invocation}:{target:t,arguments:n,invocationId:i.toString(),type:Z.Invocation}}}_launchStreams(t,n){if(t.length!==0){n||(n=Promise.resolve());for(const r in t)t[r].subscribe({complete:()=>{n=n.then(()=>this._sendWithProtocol(this._createCompletionMessage(r)))},error:o=>{let i;o instanceof Error?i=o.message:o&&o.toString?i=o.toString():i="Unknown error",n=n.then(()=>this._sendWithProtocol(this._createCompletionMessage(r,i)))},next:o=>{n=n.then(()=>this._sendWithProtocol(this._createStreamItemMessage(r,o)))}})}}_replaceStreamingParams(t){const n=[],r=[];for(let o=0;o<t.length;o++){const i=t[o];if(this._isObservable(i)){const s=this._invocationId;this._invocationId++,n[s]=i,r.push(s.toString()),t.splice(o,1)}}return[n,r]}_isObservable(t){return t&&t.subscribe&&typeof t.subscribe=="function"}_createStreamInvocation(t,n,r){const o=this._invocationId;return this._invocationId++,r.length!==0?{target:t,arguments:n,invocationId:o.toString(),streamIds:r,type:Z.StreamInvocation}:{target:t,arguments:n,invocationId:o.toString(),type:Z.StreamInvocation}}_createCancelInvocation(t){return{invocationId:t,type:Z.CancelInvocation}}_createStreamItemMessage(t,n){return{invocationId:t,item:n,type:Z.StreamItem}}_createCompletionMessage(t,n,r){return n?{error:n,invocationId:t,type:Z.Completion}:{invocationId:t,result:r,type:Z.Completion}}_createCloseMessage(){return{type:Z.Close}}}const lk=[0,2e3,1e4,3e4,null];class Ed{constructor(t){this._retryDelays=t!==void 0?[...t,null]:lk}nextRetryDelayInMilliseconds(t){return this._retryDelays[t.previousRetryCount]}}class Kn{}Kn.Authorization="Authorization";Kn.Cookie="Cookie";class ak extends ll{constructor(t,n){super(),this._innerClient=t,this._accessTokenFactory=n}async send(t){let n=!0;this._accessTokenFactory&&(!this._accessToken||t.url&&t.url.indexOf("/negotiate?")>0)&&(n=!1,this._accessToken=await this._accessTokenFactory()),this._setAuthorizationHeader(t);const r=await this._innerClient.send(t);return n&&r.statusCode===401&&this._accessTokenFactory?(this._accessToken=await this._accessTokenFactory(),this._setAuthorizationHeader(t),await this._innerClient.send(t)):r}_setAuthorizationHeader(t){t.headers||(t.headers={}),this._accessToken?t.headers[Kn.Authorization]=`Bearer ${this._accessToken}`:this._accessTokenFactory&&t.headers[Kn.Authorization]&&delete t.headers[Kn.Authorization]}getCookieString(t){return this._innerClient.getCookieString(t)}}var ke;(function(e){e[e.None=0]="None",e[e.WebSockets=1]="WebSockets",e[e.ServerSentEvents=2]="ServerSentEvents",e[e.LongPolling=4]="LongPolling"})(ke||(ke={}));var Be;(function(e){e[e.Text=1]="Text",e[e.Binary=2]="Binary"})(Be||(Be={}));let uk=class{constructor(){this._isAborted=!1,this.onabort=null}abort(){this._isAborted||(this._isAborted=!0,this.onabort&&this.onabort())}get signal(){return this}get aborted(){return this._isAborted}};class kd{get pollAborted(){return this._pollAbort.aborted}constructor(t,n,r){this._httpClient=t,this._logger=n,this._pollAbort=new uk,this._options=r,this._running=!1,this.onreceive=null,this.onclose=null}async connect(t,n){if(xe.isRequired(t,"url"),xe.isRequired(n,"transferFormat"),xe.isIn(n,Be,"transferFormat"),this._url=t,this._logger.log(A.Trace,"(LongPolling transport) Connecting."),n===Be.Binary&&typeof XMLHttpRequest<"u"&&typeof new XMLHttpRequest().responseType!="string")throw new Error("Binary protocols over XmlHttpRequest not implementing advanced features are not supported.");const[r,o]=Qr(),i={[r]:o,...this._options.headers},s={abortSignal:this._pollAbort.signal,headers:i,timeout:1e5,withCredentials:this._options.withCredentials};n===Be.Binary&&(s.responseType="arraybuffer");const l=`${t}&_=${Date.now()}`;this._logger.log(A.Trace,`(LongPolling transport) polling: ${l}.`);const a=await this._httpClient.get(l,s);a.statusCode!==200?(this._logger.log(A.Error,`(LongPolling transport) Unexpected response code: ${a.statusCode}.`),this._closeError=new Yn(a.statusText||"",a.statusCode),this._running=!1):this._running=!0,this._receiving=this._poll(this._url,s)}async _poll(t,n){try{for(;this._running;)try{const r=`${t}&_=${Date.now()}`;this._logger.log(A.Trace,`(LongPolling transport) polling: ${r}.`);const o=await this._httpClient.get(r,n);o.statusCode===204?(this._logger.log(A.Information,"(LongPolling transport) Poll terminated by server."),this._running=!1):o.statusCode!==200?(this._logger.log(A.Error,`(LongPolling transport) Unexpected response code: ${o.statusCode}.`),this._closeError=new Yn(o.statusText||"",o.statusCode),this._running=!1):o.content?(this._logger.log(A.Trace,`(LongPolling transport) data received. ${ii(o.content,this._options.logMessageContent)}.`),this.onreceive&&this.onreceive(o.content)):this._logger.log(A.Trace,"(LongPolling transport) Poll timed out, reissuing.")}catch(r){this._running?r instanceof gc?this._logger.log(A.Trace,"(LongPolling transport) Poll timed out, reissuing."):(this._closeError=r,this._running=!1):this._logger.log(A.Trace,`(LongPolling transport) Poll errored after shutdown: ${r.message}`)}}finally{this._logger.log(A.Trace,"(LongPolling transport) Polling complete."),this.pollAborted||this._raiseOnClose()}}async send(t){return this._running?ym(this._logger,"LongPolling",this._httpClient,this._url,t,this._options):Promise.reject(new Error("Cannot send until the transport is connected"))}async stop(){this._logger.log(A.Trace,"(LongPolling transport) Stopping polling."),this._running=!1,this._pollAbort.abort();try{await this._receiving,this._logger.log(A.Trace,`(LongPolling transport) sending DELETE request to ${this._url}.`);const t={},[n,r]=Qr();t[n]=r;const o={headers:{...t,...this._options.headers},timeout:this._options.timeout,withCredentials:this._options.withCredentials};let i;try{await this._httpClient.delete(this._url,o)}catch(s){i=s}i?i instanceof Yn&&(i.statusCode===404?this._logger.log(A.Trace,"(LongPolling transport) A 404 response was returned from sending a DELETE request."):this._logger.log(A.Trace,`(LongPolling transport) Error sending a DELETE request: ${i}`)):this._logger.log(A.Trace,"(LongPolling transport) DELETE request accepted.")}finally{this._logger.log(A.Trace,"(LongPolling transport) Stop finished."),this._raiseOnClose()}}_raiseOnClose(){if(this.onclose){let t="(LongPolling transport) Firing onclose event.";this._closeError&&(t+=" Error: "+this._closeError),this._logger.log(A.Trace,t),this.onclose(this._closeError)}}}class ck{constructor(t,n,r,o){this._httpClient=t,this._accessToken=n,this._logger=r,this._options=o,this.onreceive=null,this.onclose=null}async connect(t,n){return xe.isRequired(t,"url"),xe.isRequired(n,"transferFormat"),xe.isIn(n,Be,"transferFormat"),this._logger.log(A.Trace,"(SSE transport) Connecting."),this._url=t,this._accessToken&&(t+=(t.indexOf("?")<0?"?":"&")+`access_token=${encodeURIComponent(this._accessToken)}`),new Promise((r,o)=>{let i=!1;if(n!==Be.Text){o(new Error("The Server-Sent Events transport only supports the 'Text' transfer format"));return}let s;if(pe.isBrowser||pe.isWebWorker)s=new this._options.EventSource(t,{withCredentials:this._options.withCredentials});else{const l=this._httpClient.getCookieString(t),a={};a.Cookie=l;const[u,c]=Qr();a[u]=c,s=new this._options.EventSource(t,{withCredentials:this._options.withCredentials,headers:{...a,...this._options.headers}})}try{s.onmessage=l=>{if(this.onreceive)try{this._logger.log(A.Trace,`(SSE transport) data received. ${ii(l.data,this._options.logMessageContent)}.`),this.onreceive(l.data)}catch(a){this._close(a);return}},s.onerror=l=>{i?this._close():o(new Error("EventSource failed to connect. The connection could not be found on the server, either the connection ID is not present on the server, or a proxy is refusing/buffering the connection. If you have multiple servers check that sticky sessions are enabled."))},s.onopen=()=>{this._logger.log(A.Information,`SSE connected to ${this._url}`),this._eventSource=s,i=!0,r()}}catch(l){o(l);return}})}async send(t){return this._eventSource?ym(this._logger,"SSE",this._httpClient,this._url,t,this._options):Promise.reject(new Error("Cannot send until the transport is connected"))}stop(){return this._close(),Promise.resolve()}_close(t){this._eventSource&&(this._eventSource.close(),this._eventSource=void 0,this.onclose&&this.onclose(t))}}class fk{constructor(t,n,r,o,i,s){this._logger=r,this._accessTokenFactory=n,this._logMessageContent=o,this._webSocketConstructor=i,this._httpClient=t,this.onreceive=null,this.onclose=null,this._headers=s}async connect(t,n){xe.isRequired(t,"url"),xe.isRequired(n,"transferFormat"),xe.isIn(n,Be,"transferFormat"),this._logger.log(A.Trace,"(WebSockets transport) Connecting.");let r;return this._accessTokenFactory&&(r=await this._accessTokenFactory()),new Promise((o,i)=>{t=t.replace(/^http/,"ws");let s;const l=this._httpClient.getCookieString(t);let a=!1;if(pe.isNode||pe.isReactNative){const u={},[c,f]=Qr();u[c]=f,r&&(u[Kn.Authorization]=`Bearer ${r}`),l&&(u[Kn.Cookie]=l),s=new this._webSocketConstructor(t,void 0,{headers:{...u,...this._headers}})}else r&&(t+=(t.indexOf("?")<0?"?":"&")+`access_token=${encodeURIComponent(r)}`);s||(s=new this._webSocketConstructor(t)),n===Be.Binary&&(s.binaryType="arraybuffer"),s.onopen=u=>{this._logger.log(A.Information,`WebSocket connected to ${t}.`),this._webSocket=s,a=!0,o()},s.onerror=u=>{let c=null;typeof ErrorEvent<"u"&&u instanceof ErrorEvent?c=u.error:c="There was an error with the transport",this._logger.log(A.Information,`(WebSockets transport) ${c}.`)},s.onmessage=u=>{if(this._logger.log(A.Trace,`(WebSockets transport) data received. ${ii(u.data,this._logMessageContent)}.`),this.onreceive)try{this.onreceive(u.data)}catch(c){this._close(c);return}},s.onclose=u=>{if(a)this._close(u);else{let c=null;typeof ErrorEvent<"u"&&u instanceof ErrorEvent?c=u.error:c="WebSocket failed to connect. The connection could not be found on the server, either the endpoint may not be a SignalR endpoint, the connection ID is not present on the server, or there is a proxy blocking WebSockets. If you have multiple servers check that sticky sessions are enabled.",i(new Error(c))}}})}send(t){return this._webSocket&&this._webSocket.readyState===this._webSocketConstructor.OPEN?(this._logger.log(A.Trace,`(WebSockets transport) sending data. ${ii(t,this._logMessageContent)}.`),this._webSocket.send(t),Promise.resolve()):Promise.reject("WebSocket is not in the OPEN state")}stop(){return this._webSocket&&this._close(void 0),Promise.resolve()}_close(t){this._webSocket&&(this._webSocket.onclose=()=>{},this._webSocket.onmessage=()=>{},this._webSocket.onerror=()=>{},this._webSocket.close(),this._webSocket=void 0),this._logger.log(A.Trace,"(WebSockets transport) socket closed."),this.onclose&&(this._isCloseEvent(t)&&(t.wasClean===!1||t.code!==1e3)?this.onclose(new Error(`WebSocket closed with status code: ${t.code} (${t.reason||"no reason given"}).`)):t instanceof Error?this.onclose(t):this.onclose())}_isCloseEvent(t){return t&&typeof t.wasClean=="boolean"&&typeof t.code=="number"}}const Cd=100;class dk{constructor(t,n={}){if(this._stopPromiseResolver=()=>{},this.features={},this._negotiateVersion=1,xe.isRequired(t,"url"),this._logger=WE(n.logger),this.baseUrl=this._resolveUrl(t),n=n||{},n.logMessageContent=n.logMessageContent===void 0?!1:n.logMessageContent,typeof n.withCredentials=="boolean"||n.withCredentials===void 0)n.withCredentials=n.withCredentials===void 0?!0:n.withCredentials;else throw new Error("withCredentials option was not a 'boolean' or 'undefined' value");n.timeout=n.timeout===void 0?100*1e3:n.timeout;let r=null,o=null;if(pe.isNode&&typeof require<"u"){const i=typeof __webpack_require__=="function"?__non_webpack_require__:require;r=i("ws"),o=i("eventsource")}!pe.isNode&&typeof WebSocket<"u"&&!n.WebSocket?n.WebSocket=WebSocket:pe.isNode&&!n.WebSocket&&r&&(n.WebSocket=r),!pe.isNode&&typeof EventSource<"u"&&!n.EventSource?n.EventSource=EventSource:pe.isNode&&!n.EventSource&&typeof o<"u"&&(n.EventSource=o),this._httpClient=new ak(n.httpClient||new JE(this._logger),n.accessTokenFactory),this._connectionState="Disconnected",this._connectionStarted=!1,this._options=n,this.onreceive=null,this.onclose=null}async start(t){if(t=t||Be.Binary,xe.isIn(t,Be,"transferFormat"),this._logger.log(A.Debug,`Starting connection with transfer format '${Be[t]}'.`),this._connectionState!=="Disconnected")return Promise.reject(new Error("Cannot start an HttpConnection that is not in the 'Disconnected' state."));if(this._connectionState="Connecting",this._startInternalPromise=this._startInternal(t),await this._startInternalPromise,this._connectionState==="Disconnecting"){const n="Failed to start the HttpConnection before stop() was called.";return this._logger.log(A.Error,n),await this._stopPromise,Promise.reject(new Nt(n))}else if(this._connectionState!=="Connected"){const n="HttpConnection.startInternal completed gracefully but didn't enter the connection into the connected state!";return this._logger.log(A.Error,n),Promise.reject(new Nt(n))}this._connectionStarted=!0}send(t){return this._connectionState!=="Connected"?Promise.reject(new Error("Cannot send data if the connection is not in the 'Connected' State.")):(this._sendQueue||(this._sendQueue=new yc(this.transport)),this._sendQueue.send(t))}async stop(t){if(this._connectionState==="Disconnected")return this._logger.log(A.Debug,`Call to HttpConnection.stop(${t}) ignored because the connection is already in the disconnected state.`),Promise.resolve();if(this._connectionState==="Disconnecting")return this._logger.log(A.Debug,`Call to HttpConnection.stop(${t}) ignored because the connection is already in the disconnecting state.`),this._stopPromise;this._connectionState="Disconnecting",this._stopPromise=new Promise(n=>{this._stopPromiseResolver=n}),await this._stopInternal(t),await this._stopPromise}async _stopInternal(t){this._stopError=t;try{await this._startInternalPromise}catch{}if(this.transport){try{await this.transport.stop()}catch(n){this._logger.log(A.Error,`HttpConnection.transport.stop() threw error '${n}'.`),this._stopConnection()}this.transport=void 0}else this._logger.log(A.Debug,"HttpConnection.transport is undefined in HttpConnection.stop() because start() failed.")}async _startInternal(t){let n=this.baseUrl;this._accessTokenFactory=this._options.accessTokenFactory,this._httpClient._accessTokenFactory=this._accessTokenFactory;try{if(this._options.skipNegotiation)if(this._options.transport===ke.WebSockets)this.transport=this._constructTransport(ke.WebSockets),await this._startTransport(n,t);else throw new Error("Negotiation can only be skipped when using the WebSocket transport directly.");else{let r=null,o=0;do{if(r=await this._getNegotiationResponse(n),this._connectionState==="Disconnecting"||this._connectionState==="Disconnected")throw new Nt("The connection was stopped during negotiation.");if(r.error)throw new Error(r.error);if(r.ProtocolVersion)throw new Error("Detected a connection attempt to an ASP.NET SignalR Server. This client only supports connecting to an ASP.NET Core SignalR Server. See https://aka.ms/signalr-core-differences for details.");if(r.url&&(n=r.url),r.accessToken){const i=r.accessToken;this._accessTokenFactory=()=>i,this._httpClient._accessToken=i,this._httpClient._accessTokenFactory=void 0}o++}while(r.url&&o<Cd);if(o===Cd&&r.url)throw new Error("Negotiate redirection limit exceeded.");await this._createTransport(n,this._options.transport,r,t)}this.transport instanceof kd&&(this.features.inherentKeepAlive=!0),this._connectionState==="Connecting"&&(this._logger.log(A.Debug,"The HttpConnection connected successfully."),this._connectionState="Connected")}catch(r){return this._logger.log(A.Error,"Failed to start the connection: "+r),this._connectionState="Disconnected",this.transport=void 0,this._stopPromiseResolver(),Promise.reject(r)}}async _getNegotiationResponse(t){const n={},[r,o]=Qr();n[r]=o;const i=this._resolveNegotiateUrl(t);this._logger.log(A.Debug,`Sending negotiation request: ${i}.`);try{const s=await this._httpClient.post(i,{content:"",headers:{...n,...this._options.headers},timeout:this._options.timeout,withCredentials:this._options.withCredentials});if(s.statusCode!==200)return Promise.reject(new Error(`Unexpected status code returned from negotiate '${s.statusCode}'`));const l=JSON.parse(s.content);return(!l.negotiateVersion||l.negotiateVersion<1)&&(l.connectionToken=l.connectionId),l.useStatefulReconnect&&this._options._useStatefulReconnect!==!0?Promise.reject(new xd("Client didn't negotiate Stateful Reconnect but the server did.")):l}catch(s){let l="Failed to complete negotiation with the server: "+s;return s instanceof Yn&&s.statusCode===404&&(l=l+" Either this is not a SignalR endpoint or there is a proxy blocking the connection."),this._logger.log(A.Error,l),Promise.reject(new xd(l))}}_createConnectUrl(t,n){return n?t+(t.indexOf("?")===-1?"?":"&")+`id=${n}`:t}async _createTransport(t,n,r,o){let i=this._createConnectUrl(t,r.connectionToken);if(this._isITransport(n)){this._logger.log(A.Debug,"Connection was provided an instance of ITransport, using that directly."),this.transport=n,await this._startTransport(i,o),this.connectionId=r.connectionId;return}const s=[],l=r.availableTransports||[];let a=r;for(const u of l){const c=this._resolveTransportOrError(u,n,o,(a==null?void 0:a.useStatefulReconnect)===!0);if(c instanceof Error)s.push(`${u.transport} failed:`),s.push(c);else if(this._isITransport(c)){if(this.transport=c,!a){try{a=await this._getNegotiationResponse(t)}catch(f){return Promise.reject(f)}i=this._createConnectUrl(t,a.connectionToken)}try{await this._startTransport(i,o),this.connectionId=a.connectionId;return}catch(f){if(this._logger.log(A.Error,`Failed to start the transport '${u.transport}': ${f}`),a=void 0,s.push(new FE(`${u.transport} failed: ${f}`,ke[u.transport])),this._connectionState!=="Connecting"){const d="Failed to select transport before stop() was called.";return this._logger.log(A.Debug,d),Promise.reject(new Nt(d))}}}}return s.length>0?Promise.reject(new BE(`Unable to connect to the server with any of the available transports. ${s.join(" ")}`,s)):Promise.reject(new Error("None of the transports supported by the client are supported by the server."))}_constructTransport(t){switch(t){case ke.WebSockets:if(!this._options.WebSocket)throw new Error("'WebSocket' is not supported in your environment.");return new fk(this._httpClient,this._accessTokenFactory,this._logger,this._options.logMessageContent,this._options.WebSocket,this._options.headers||{});case ke.ServerSentEvents:if(!this._options.EventSource)throw new Error("'EventSource' is not supported in your environment.");return new ck(this._httpClient,this._httpClient._accessToken,this._logger,this._options);case ke.LongPolling:return new kd(this._httpClient,this._logger,this._options);default:throw new Error(`Unknown transport: ${t}.`)}}_startTransport(t,n){return this.transport.onreceive=this.onreceive,this.features.reconnect?this.transport.onclose=async r=>{let o=!1;if(this.features.reconnect)try{this.features.disconnected(),await this.transport.connect(t,n),await this.features.resend()}catch{o=!0}else{this._stopConnection(r);return}o&&this._stopConnection(r)}:this.transport.onclose=r=>this._stopConnection(r),this.transport.connect(t,n)}_resolveTransportOrError(t,n,r,o){const i=ke[t.transport];if(i==null)return this._logger.log(A.Debug,`Skipping transport '${t.transport}' because it is not supported by this client.`),new Error(`Skipping transport '${t.transport}' because it is not supported by this client.`);if(hk(n,i))if(t.transferFormats.map(l=>Be[l]).indexOf(r)>=0){if(i===ke.WebSockets&&!this._options.WebSocket||i===ke.ServerSentEvents&&!this._options.EventSource)return this._logger.log(A.Debug,`Skipping transport '${ke[i]}' because it is not supported in your environment.'`),new OE(`'${ke[i]}' is not supported in your environment.`,i);this._logger.log(A.Debug,`Selecting transport '${ke[i]}'.`);try{return this.features.reconnect=i===ke.WebSockets?o:void 0,this._constructTransport(i)}catch(l){return l}}else return this._logger.log(A.Debug,`Skipping transport '${ke[i]}' because it does not support the requested transfer format '${Be[r]}'.`),new Error(`'${ke[i]}' does not support ${Be[r]}.`);else return this._logger.log(A.Debug,`Skipping transport '${ke[i]}' because it was disabled by the client.`),new HE(`'${ke[i]}' is disabled by the client.`,i)}_isITransport(t){return t&&typeof t=="object"&&"connect"in t}_stopConnection(t){if(this._logger.log(A.Debug,`HttpConnection.stopConnection(${t}) called while in state ${this._connectionState}.`),this.transport=void 0,t=this._stopError||t,this._stopError=void 0,this._connectionState==="Disconnected"){this._logger.log(A.Debug,`Call to HttpConnection.stopConnection(${t}) was ignored because the connection is already in the disconnected state.`);return}if(this._connectionState==="Connecting")throw this._logger.log(A.Warning,`Call to HttpConnection.stopConnection(${t}) was ignored because the connection is still in the connecting state.`),new Error(`HttpConnection.stopConnection(${t}) was called while the connection is still in the connecting state.`);if(this._connectionState==="Disconnecting"&&this._stopPromiseResolver(),t?this._logger.log(A.Error,`Connection disconnected with error '${t}'.`):this._logger.log(A.Information,"Connection disconnected."),this._sendQueue&&(this._sendQueue.stop().catch(n=>{this._logger.log(A.Error,`TransportSendQueue.stop() threw error '${n}'.`)}),this._sendQueue=void 0),this.connectionId=void 0,this._connectionState="Disconnected",this._connectionStarted){this._connectionStarted=!1;try{this.onclose&&this.onclose(t)}catch(n){this._logger.log(A.Error,`HttpConnection.onclose(${t}) threw error '${n}'.`)}}}_resolveUrl(t){if(t.lastIndexOf("https://",0)===0||t.lastIndexOf("http://",0)===0)return t;if(!pe.isBrowser)throw new Error(`Cannot resolve '${t}'.`);const n=window.document.createElement("a");return n.href=t,this._logger.log(A.Information,`Normalizing '${t}' to '${n.href}'.`),n.href}_resolveNegotiateUrl(t){const n=new URL(t);n.pathname.endsWith("/")?n.pathname+="negotiate":n.pathname+="/negotiate";const r=new URLSearchParams(n.searchParams);return r.has("negotiateVersion")||r.append("negotiateVersion",this._negotiateVersion.toString()),r.has("useStatefulReconnect")?r.get("useStatefulReconnect")==="true"&&(this._options._useStatefulReconnect=!0):this._options._useStatefulReconnect===!0&&r.append("useStatefulReconnect","true"),n.search=r.toString(),n.toString()}}function hk(e,t){return!e||(t&e)!==0}class yc{constructor(t){this._transport=t,this._buffer=[],this._executing=!0,this._sendBufferedData=new Fi,this._transportResult=new Fi,this._sendLoopPromise=this._sendLoop()}send(t){return this._bufferData(t),this._transportResult||(this._transportResult=new Fi),this._transportResult.promise}stop(){return this._executing=!1,this._sendBufferedData.resolve(),this._sendLoopPromise}_bufferData(t){if(this._buffer.length&&typeof this._buffer[0]!=typeof t)throw new Error(`Expected data to be of type ${typeof this._buffer} but was of type ${typeof t}`);this._buffer.push(t),this._sendBufferedData.resolve()}async _sendLoop(){for(;;){if(await this._sendBufferedData.promise,!this._executing){this._transportResult&&this._transportResult.reject("Connection stopped.");break}this._sendBufferedData=new Fi;const t=this._transportResult;this._transportResult=void 0;const n=typeof this._buffer[0]=="string"?this._buffer.join(""):yc._concatBuffers(this._buffer);this._buffer.length=0;try{await this._transport.send(n),t.resolve()}catch(r){t.reject(r)}}}static _concatBuffers(t){const n=t.map(i=>i.byteLength).reduce((i,s)=>i+s),r=new Uint8Array(n);let o=0;for(const i of t)r.set(new Uint8Array(i),o),o+=i.byteLength;return r.buffer}}class Fi{constructor(){this.promise=new Promise((t,n)=>[this._resolver,this._rejecter]=[t,n])}resolve(){this._resolver()}reject(t){this._rejecter(t)}}const pk="json";class gk{constructor(){this.name=pk,this.version=2,this.transferFormat=Be.Text}parseMessages(t,n){if(typeof t!="string")throw new Error("Invalid input for JSON hub protocol. Expected a string.");if(!t)return[];n===null&&(n=oi.instance);const r=ot.parse(t),o=[];for(const i of r){const s=JSON.parse(i);if(typeof s.type!="number")throw new Error("Invalid payload.");switch(s.type){case Z.Invocation:this._isInvocationMessage(s);break;case Z.StreamItem:this._isStreamItemMessage(s);break;case Z.Completion:this._isCompletionMessage(s);break;case Z.Ping:break;case Z.Close:break;case Z.Ack:this._isAckMessage(s);break;case Z.Sequence:this._isSequenceMessage(s);break;default:n.log(A.Information,"Unknown message type '"+s.type+"' ignored.");continue}o.push(s)}return o}writeMessage(t){return ot.write(JSON.stringify(t))}_isInvocationMessage(t){this._assertNotEmptyString(t.target,"Invalid payload for Invocation message."),t.invocationId!==void 0&&this._assertNotEmptyString(t.invocationId,"Invalid payload for Invocation message.")}_isStreamItemMessage(t){if(this._assertNotEmptyString(t.invocationId,"Invalid payload for StreamItem message."),t.item===void 0)throw new Error("Invalid payload for StreamItem message.")}_isCompletionMessage(t){if(t.result&&t.error)throw new Error("Invalid payload for Completion message.");!t.result&&t.error&&this._assertNotEmptyString(t.error,"Invalid payload for Completion message."),this._assertNotEmptyString(t.invocationId,"Invalid payload for Completion message.")}_isAckMessage(t){if(typeof t.sequenceId!="number")throw new Error("Invalid SequenceId for Ack message.")}_isSequenceMessage(t){if(typeof t.sequenceId!="number")throw new Error("Invalid SequenceId for Sequence message.")}_assertNotEmptyString(t,n){if(typeof t!="string"||t==="")throw new Error(n)}}const mk={trace:A.Trace,debug:A.Debug,info:A.Information,information:A.Information,warn:A.Warning,warning:A.Warning,error:A.Error,critical:A.Critical,none:A.None};function yk(e){const t=mk[e.toLowerCase()];if(typeof t<"u")return t;throw new Error(`Unknown log level: ${e}`)}class vk{configureLogging(t){if(xe.isRequired(t,"logging"),wk(t))this.logger=t;else if(typeof t=="string"){const n=yk(t);this.logger=new Ds(n)}else this.logger=new Ds(t);return this}withUrl(t,n){return xe.isRequired(t,"url"),xe.isNotEmpty(t,"url"),this.url=t,typeof n=="object"?this.httpConnectionOptions={...this.httpConnectionOptions,...n}:this.httpConnectionOptions={...this.httpConnectionOptions,transport:n},this}withHubProtocol(t){return xe.isRequired(t,"protocol"),this.protocol=t,this}withAutomaticReconnect(t){if(this.reconnectPolicy)throw new Error("A reconnectPolicy has already been set.");return t?Array.isArray(t)?this.reconnectPolicy=new Ed(t):this.reconnectPolicy=t:this.reconnectPolicy=new Ed,this}withServerTimeout(t){return xe.isRequired(t,"milliseconds"),this._serverTimeoutInMilliseconds=t,this}withKeepAliveInterval(t){return xe.isRequired(t,"milliseconds"),this._keepAliveIntervalInMilliseconds=t,this}withStatefulReconnect(t){return this.httpConnectionOptions===void 0&&(this.httpConnectionOptions={}),this.httpConnectionOptions._useStatefulReconnect=!0,this._statefulReconnectBufferSize=t==null?void 0:t.bufferSize,this}build(){const t=this.httpConnectionOptions||{};if(t.logger===void 0&&(t.logger=this.logger),!this.url)throw new Error("The 'HubConnectionBuilder.withUrl' method must be called before building the connection.");const n=new dk(this.url,t);return mc.create(n,this.logger||oi.instance,this.protocol||new gk,this.reconnectPolicy,this._serverTimeoutInMilliseconds,this._keepAliveIntervalInMilliseconds,this._statefulReconnectBufferSize)}}function wk(e){return e.log!==void 0}const _k=()=>{const[e,t]=I.useState(null),[n,r]=I.useState([]),[o,i]=I.useState({}),[s,l]=I.useState(!1);I.useEffect(()=>{const u="http://localhost:5274";console.log("Connecting to OrderStatusHub at:",u);const c=new vk().withUrl(`${u}/orderstatus`,{skipNegotiation:!1,withCredentials:!1}).withAutomaticReconnect().configureLogging(A.Information).build();t(c)},[]),I.useEffect(()=>(e&&(e.start().then(()=>{console.log(" Connected to OrderStatusHub"),l(!0),e.invoke("SubscribeToOrders").catch(u=>console.error("Error subscribing to orders:",u)),e.on("OrderStatusUpdate",u=>{var c;console.log(" Order Status Update:",u),u.eventType===2&&console.log(" Tool Called:",(c=u.toolCall)==null?void 0:c.name,"by",u.agentName),r(f=>[...f,u]),i(f=>{const d=f[u.orderId]||{events:[]};return{...f,[u.orderId]:{...d,currentAgent:u.agentId,currentAgentName:u.agentName,lastUpdate:u.timestamp,lastEventType:u.eventType,events:[...d.events,u],isComplete:u.eventType==="OrderCompleted"}}})})}).catch(u=>{console.error(" SignalR Connection Error:",u),l(!1)}),e.onreconnecting(u=>{console.warn(" SignalR reconnecting...",u),l(!1)}),e.onreconnected(u=>{console.log(" SignalR reconnected:",u),l(!0),e.invoke("SubscribeToOrders").catch(c=>console.error("Error re-subscribing to orders:",c))}),e.onclose(u=>{console.error(" SignalR connection closed:",u),l(!1)})),()=>{e&&e.stop()}),[e]);const a=I.useCallback(()=>{i(u=>{const c={};return Object.entries(u).forEach(([f,d])=>{d.isComplete||(c[f]=d)}),c})},[]);return{orderEvents:n,activeOrders:o,isConnected:s,clearCompletedOrders:a}},xk={agentNode:LE},Sk=[{id:"order",type:"input",data:{label:" Customer Order",description:"Order received from customer",examples:["1 cheeseburger with fries and a chocolate milkshake","2 cheeseburgers, 2 orders of fries, and 2 chocolate milkshakes"]},position:{x:50,y:50},style:{background:"#6366f1",color:"white",border:"2px solid #4f46e5",borderRadius:"12px",padding:"20px",fontSize:"16px",fontWeight:"bold",width:300}},{id:"grill-agent",type:"agentNode",data:{label:" Grill Agent",agentId:"grill",name:"Grilling Expert",domain:"Grilling meats and produce on the grill or griddle",tools:[{name:"cook_patty",desc:"Grill burger patties"},{name:"melt_cheese",desc:"Add and melt cheese"},{name:"add_bacon",desc:"Add bacon to burger"},{name:"toast_bun",desc:"Toast burger buns"},{name:"assemble_burger",desc:"Assemble complete burger"}],emoji:"",color:"#dc2626"},position:{x:500,y:50}},{id:"fryer-agent",type:"agentNode",data:{label:" Fryer Agent",agentId:"fryer",name:"Fryer Expert",domain:"Cooking anything in the fryer",tools:[{name:"fry_fries",desc:"Fry regular fries"},{name:"fry_waffle_fries",desc:"Fry waffle fries"},{name:"fry_sweet_potato_fries",desc:"Fry sweet potato fries"},{name:"fry_onion_rings",desc:"Fry onion rings"},{name:"add_salt",desc:"Add salt to fries"},{name:"bag_fries_for_order",desc:"Bag completed fries"}],emoji:"",color:"#f59e0b"},position:{x:950,y:50}},{id:"dessert-agent",type:"agentNode",data:{label:" Dessert Agent",agentId:"desserts",name:"Dessert Expert",domain:"Making and baking desserts",tools:[{name:"make_shake",desc:"Make milkshakes"},{name:"make_sundae",desc:"Make ice cream sundaes"},{name:"add_whipped_cream",desc:"Add whipped cream topping"}],emoji:"",color:"#ec4899"},position:{x:500,y:600}},{id:"plating-agent",type:"agentNode",data:{label:" Plating Agent",agentId:"expo",name:"Plating Expert",domain:"Final meal assembly and presentation prep",tools:[{name:"plate_meal",desc:"Plate complete order for dine-in"},{name:"package_for_takeout",desc:"Package order for takeout"}],emoji:"",color:"#10b981"},position:{x:950,y:600}},{id:"output",type:"output",data:{label:" Order Complete",description:"Hand order to customer or delivery service"},position:{x:1400,y:300},style:{background:"#22c55e",color:"white",border:"2px solid #16a34a",borderRadius:"12px",padding:"20px",fontSize:"16px",fontWeight:"bold",width:300}}],Ek=[{id:"e-order-grill",source:"order",target:"grill-agent",animated:!1,style:{stroke:"#6366f1",strokeWidth:3},label:"Process Order",labelStyle:{fill:"#6366f1",fontWeight:700}},{id:"e-grill-fryer",source:"grill-agent",target:"fryer-agent",animated:!1,style:{stroke:"#dc2626",strokeWidth:3},label:"Burgers Ready",labelStyle:{fill:"#dc2626",fontWeight:700}},{id:"e-fryer-dessert",source:"fryer-agent",target:"dessert-agent",animated:!1,style:{stroke:"#f59e0b",strokeWidth:3},label:"Fries Ready",labelStyle:{fill:"#f59e0b",fontWeight:700}},{id:"e-dessert-plating",source:"dessert-agent",target:"plating-agent",animated:!1,style:{stroke:"#ec4899",strokeWidth:3},label:"Desserts Ready",labelStyle:{fill:"#ec4899",fontWeight:700}},{id:"e-plating-output",source:"plating-agent",target:"output",animated:!1,style:{stroke:"#10b981",strokeWidth:3},label:"Plated/Packaged",labelStyle:{fill:"#10b981",fontWeight:700}}];function kk(){const[e,t,n]=dE(Sk),[r,o,i]=hE(Ek),{orderEvents:s,activeOrders:l,isConnected:a,clearCompletedOrders:u}=_k(),[c,f]=M.useState({});M.useEffect(()=>{o(g=>g.map(v=>({...v,animated:!1})))},[o]);const d=I.useCallback(g=>o(v=>Pg(g,v)),[o]);return I.useEffect(()=>{const g=s.filter(y=>y.eventType===2),v={};g.forEach(y=>{var p;const S=(p=y.toolCall)==null?void 0:p.name,h=y.agentName;if(S&&h){const m=`${h}:${S}`;v[m]=(v[m]||0)+1}}),f(v)},[s]),I.useEffect(()=>{const g=Object.values(l).filter(v=>v.isComplete).length;t(v=>v.map(y=>{var S,h,p;if(y.type==="agentNode"){const m=Object.values(l).filter(k=>k.currentAgent===y.data.agentId&&!k.isComplete),w=s.filter(k=>{var R;return k.eventType!==2?!1:(R=k.agentName)==null?void 0:R.toLowerCase().includes(y.data.name.toLowerCase())}).sort((k,T)=>new Date(T.timestamp)-new Date(k.timestamp)),E=(h=(S=w[0])==null?void 0:S.toolCall)==null?void 0:h.name;return{...y,data:{...y.data,activeOrders:m.length,isActive:m.length>0,lastToolCalled:E,lastToolTimestamp:(p=w[0])==null?void 0:p.timestamp,globalToolCounts:c}}}else if(y.id==="output")return{...y,data:{...y.data,label:` Order Complete (${g})`}};return y}))},[l,s,t,c]),X.jsxs("div",{style:{width:"100vw",height:"100vh"},children:[X.jsxs("div",{style:{position:"absolute",top:10,right:10,zIndex:1001,padding:"8px 16px",background:a?"#10b981":"#ef4444",color:"white",borderRadius:"8px",fontSize:"14px",fontWeight:"bold",boxShadow:"0 4px 6px rgba(0, 0, 0, 0.1)",display:"flex",alignItems:"center",gap:"8px"},children:[X.jsx("span",{style:{width:"8px",height:"8px",borderRadius:"50%",background:"white",animation:a?"pulse 2s infinite":"none"}}),a?"Live":"Disconnected"]}),X.jsxs("div",{style:{position:"absolute",top:20,left:20,zIndex:1e3,background:"white",padding:"20px",borderRadius:"12px",boxShadow:"0 4px 6px rgba(0, 0, 0, 0.1)",maxWidth:"350px"},children:[X.jsx("h1",{style:{margin:0,fontSize:"24px",color:"#1f2937",marginBottom:"8px"},children:" MultiAgent Restaurant Workflow"}),X.jsx("p",{style:{margin:0,fontSize:"14px",color:"#6b7280",lineHeight:"1.5",marginBottom:"12px"},children:"This diagram visualizes the sequential agent workflow for processing restaurant orders in real-time. Watch as orders flow through each station!"}),X.jsxs("div",{style:{marginTop:"12px",padding:"10px",background:"#f3f4f6",borderRadius:"8px"},children:[X.jsx("strong",{style:{fontSize:"12px",color:"#374151"},children:"Live Stats:"}),X.jsxs("div",{style:{margin:"8px 0 0 0",fontSize:"12px",color:"#6b7280"},children:[X.jsxs("div",{children:[" Active Orders: ",X.jsx("strong",{children:Object.values(l).filter(g=>!g.isComplete).length})]}),X.jsxs("div",{children:[" Completed: ",X.jsx("strong",{children:Object.values(l).filter(g=>g.isComplete).length})]}),X.jsxs("div",{children:[" Total Events: ",X.jsx("strong",{children:s.length})]})]})]}),X.jsxs("div",{style:{marginTop:"16px",borderTop:"1px solid #e5e7eb",paddingTop:"16px"},children:[X.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"12px"},children:[X.jsxs("h3",{style:{margin:0,fontSize:"16px",fontWeight:"bold"},children:["Recent Orders (",Object.keys(l).length,")"]}),Object.values(l).some(g=>g.isComplete)&&X.jsx("button",{onClick:u,style:{padding:"4px 8px",fontSize:"10px",background:"#ef4444",color:"white",border:"none",borderRadius:"4px",cursor:"pointer"},children:"Clear"})]}),X.jsxs("div",{style:{maxHeight:"400px",overflowY:"auto"},children:[Object.keys(l).length===0&&X.jsx("div",{style:{textAlign:"center",color:"#9ca3af",padding:"20px",fontSize:"13px"},children:"Waiting for orders..."}),Object.entries(l).sort((g,v)=>new Date(v[1].lastUpdate)-new Date(g[1].lastUpdate)).map(([g,v])=>{const y=v.events.find(h=>h.eventType==="OrderReceived"),S=(y==null?void 0:y.message)||"Order in progress";return X.jsxs("div",{style:{padding:"12px",marginBottom:"8px",background:v.isComplete?"#f0fdf4":"#fffbeb",border:`2px solid ${v.isComplete?"#10b981":"#f59e0b"}`,borderRadius:"8px",fontSize:"11px",boxShadow:"0 1px 3px rgba(0, 0, 0, 0.05)"},children:[X.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",marginBottom:"6px"},children:[X.jsxs("div",{style:{flex:1},children:[X.jsxs("div",{style:{fontSize:"12px",fontWeight:"bold",color:"#1f2937",marginBottom:"3px",fontFamily:"monospace"},children:["#",g]}),X.jsx("div",{style:{fontSize:"10px",color:"#6b7280",lineHeight:"1.3",marginBottom:"6px"},children:S.length>50?S.substring(0,50)+"...":S})]}),v.isComplete&&X.jsx("span",{style:{color:"#10b981",fontSize:"16px",marginLeft:"6px",flexShrink:0},children:""})]}),X.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"6px",padding:"4px 8px",background:v.isComplete?"#dcfce7":"#fef9c3",borderRadius:"4px",marginBottom:"6px"},children:[X.jsx("span",{style:{fontSize:"12px"},children:v.isComplete?"":""}),X.jsx("span",{style:{fontSize:"11px",fontWeight:"600",color:"#374151"},children:v.isComplete?"Complete":v.currentAgentName})]}),X.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",fontSize:"9px",color:"#9ca3af"},children:[X.jsx("span",{children:new Date(v.lastUpdate).toLocaleTimeString()}),X.jsxs("span",{children:[v.events.length," event",v.events.length!==1?"s":""]})]})]},g)})]})]})]}),X.jsxs(cm,{nodes:e,edges:r,onNodesChange:n,onEdgesChange:i,onConnect:d,nodeTypes:xk,fitView:!0,attributionPosition:"bottom-left",children:[X.jsx(RE,{}),X.jsx(EE,{nodeColor:g=>g.type==="input"?"#6366f1":g.type==="output"?"#22c55e":g.data.color||"#94a3b8",maskColor:"rgba(0, 0, 0, 0.1)"}),X.jsx(DE,{variant:mt.Dots,gap:12,size:1})]})]})}Ql.createRoot(document.getElementById("root")).render(X.jsx(M.StrictMode,{children:X.jsx(kk,{})}));
